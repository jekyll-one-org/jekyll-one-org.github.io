<!DOCTYPE html> <html lang="en"> <head data-proofer-ignore> <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="keywords" content="open source, free, template, jekyll, jekyllone, web, sites, static, jamstack, bootstrap "> <link rel="icon" type="image/ico" href="/assets/images/icons/j1/favicon.ico"> <link rel="shortcut icon" href="/assets/images/icons/j1/favicon.ico"> <link rel="canonical" href="https://jekyll.one/pages/public/tools/toolbox/liquid/"> <meta name="robots" content="index"> <meta name="robots" content="follow"> <meta name="analytics" content="false"> <meta name="comments" content="false"> <meta name="advertising" content="false"> <meta name="translation" content="false"> <meta name="youtube" content="true"> <meta name="vimeo" content="true"> <meta name="personalization" content="false"> <link rel="dns-prefetch" href="https://bootswatch.com"> <link rel="preconnect" href="https://bootswatch.com"> <meta name="generator" content="Jekyll v4.3.2"> <meta name="builder" content="J1 Template v2024.0.0"> <title>Liquid - Template Engine for Jekyll and J1 Template</title> <meta property="og:title" content="Liquid - Template Engine for Jekyll and J1 Template"> <meta name="author" content="Juergen Adams"> <meta property="og:locale" content="en_US"> <meta name="description" content="The Liquid template engine used for Jekyll and J1 Theme is an extraction from the E-Commerce platform Shopify. powers many thousands of Stores which all call for unique designs. To make this possible, the Liquid template engine was developed which allows customers to create individual designs."> <meta property="og:description" content="The Liquid template engine used for Jekyll and J1 Theme is an extraction from the E-Commerce platform Shopify. powers many thousands of Stores which all call for unique designs. To make this possible, the Liquid template engine was developed which allows customers to create individual designs."> <meta property="twitter:description" content="The Liquid template engine used for Jekyll and J1 Theme is an extraction from the E-Commerce platform Shopify. powers many thousands of Stores which all call for unique designs. To make this possible, the Liquid template engine was developed which allows customers to create individual designs."> <meta property="og:url" content="https://jekyll.one/pages/public/tools/toolbox/liquid/"> <meta property="og:site_name" content="Jekyll One"> <meta property="og:image" content="https://jekyll.one/assets/images/modules/attics/jeshoots-1-1920x1280.jpg"> <meta property="og:image:height" content="1280"> <meta property="og:image:width" content="1920"> <meta property="og:type" content="article"> <meta property="article:published_time" content="2022-10-24T00:00:00+01:00"> <meta name="twitter:card" content="summary_large_image"> <meta property="twitter:image" content="https://jekyll.one/assets/images/modules/attics/jeshoots-1-1920x1280.jpg"> <meta property="twitter:title" content="Liquid"> <meta name="twitter:site" content="https://jekyll.one/pages/public/tools/toolbox/liquid/"> <meta name="twitter:creator" content="@Juergen Adams"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Juergen Adams","url":"https://jekyll.one/"},"dateModified":"2023-11-04T20:31:23+01:00","datePublished":"2022-10-24T00:00:00+01:00","description":"The Liquid template engine used for Jekyll and J1 Theme is an extraction from the E-Commerce platform Shopify. powers many thousands of Stores which all call for unique designs. To make this possible, the Liquid template engine was developed which allows customers to create individual designs.","headline":"Liquid","image":{"width":1920,"height":1280,"url":"https://jekyll.one/assets/images/modules/attics/jeshoots-1-1920x1280.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jekyll.one/pages/public/tools/toolbox/liquid/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://jekyll.one/assets/images/icons/j1/j1-512x512.png"},"name":"Juergen Adams"},"url":"https://jekyll.one/pages/public/tools/toolbox/liquid/"}</script> <link rel="stylesheet" href="/assets/themes/j1/core/css/themes/unolight/bootstrap.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/icon-fonts/mdib.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/vendor.min.css"> <script src="/assets/themes/j1/adapter/js/j1.js"></script> <script src="/assets/themes/j1/modules/jquery/js/jquery.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/extensions/hasClass.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/extensions/removeClass.min.js"></script> <script src="/assets/themes/j1/modules/popper/js/popper.min.js"></script> <script src="/assets/themes/j1/core/js/template.min.js"></script> <script src="/assets/themes/j1/modules/bootstrap/js/bootstrap.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/speak2me.js"></script> <script defer src="/assets/themes/j1/modules/gtag-opt-in/js/gtag-opt-in.min.js"></script> <script src="/assets/themes/j1/adapter/js/logger.js"></script> <script src="/assets/themes/j1/modules/log4javascript/js/log4javascript.min.js"></script> <script src="/assets/themes/j1/modules/backstretch/js/backstretch.min.js"></script> <script src="/assets/themes/j1/adapter/js/attic.js"></script> <script src="/assets/themes/j1/adapter/js/navigator.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/mmenuLight/css/mmenu-light.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/mmenuLight/css/theme/uno/mmenu.min.css"> <script defer src="/assets/themes/j1/adapter/js/mmenu.js"></script> <script defer src="/assets/themes/j1/modules/mmenuLight/js/mmenu.min.js"></script> <script src="/assets/themes/j1/adapter/js/themer.js"></script> <script src="/assets/themes/j1/adapter/js/toccer.js"></script> <script src="/assets/themes/j1/adapter/js/cookieConsent.js"></script> <script src="/assets/themes/j1/modules/cookieConsent/js/cookieConsent.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/lunr/css/j1.min.css"> <script src="/assets/themes/j1/adapter/js/lunr.js"></script> <script src="/assets/themes/j1/modules/lunr/js/lunr.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/mustache.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/dateformat.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/uri.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/j1.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/fab.js"></script> <script defer src="/assets/themes/j1/modules/fab/js/cash.min.js"></script> <script defer src="/assets/themes/j1/modules/fab/js/fab.min.js"></script> <script src="/assets/themes/j1/modules/themeSwitcher/js/switcher.min.js"></script> <script src="/assets/themes/j1/adapter/js/rtable.js"></script> <script src="/assets/themes/j1/modules/rtable/js/rtable.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/asciidoctor.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/msDropdown/css/themes/uno/msDropdown.min.css"> <script defer src="/assets/themes/j1/modules/msDropdown/js/msDropdown.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/translator/css/translator.min.css"> <script defer src="/assets/themes/j1/adapter/js/translator.js"></script> <script defer src="/assets/themes/j1/modules/translator/js/translator.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/analytics.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/rouge/css/base16/theme.css"> <script defer src="/assets/themes/j1/adapter/js/rouge.js"></script> <link rel="stylesheet" href="/assets/themes/j1/core/css/animate.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/lightbox/css/lightbox.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/lightbox/css/theme/uno.min.css"> <script defer src="/assets/themes/j1/adapter/js/lightbox.js"></script> <script defer src="/assets/themes/j1/modules/lightbox/js/lightbox.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/clipboard/css/theme/uno.min.css"> <script defer src="/assets/themes/j1/adapter/js/clipboard.js"></script> <script defer src="/assets/themes/j1/modules/clipboard/js/clipboard.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/themeToggler.js"></script> <script defer src="/assets/themes/j1/adapter/js/lazyLoader.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/chat/css/theme/uno.min.css"> <script src="/assets/themes/j1/adapter/js/chat.js"></script> </head> <body class="nomathjax"> <div id="no_flicker" style="overflow: hidden; display: none"> <nav id="navigator_nav_mmenu"></nav> <nav id="navigator_toc_mmenu"></nav> <nav id="navigator_sidebar_mmenu"></nav> <nav id="navigator_nav_navbar" class="navbar navigator navbar-expand-lg navbar-default d-flex light navbar-fixed navbar-transparent"> <a href="#" id="navbar-brand" class="navbar-brand link-no-decoration"> <img src="/assets/images/icons/j1/j1-512x512.png" style="height: 48px !important;" alt="Jekyll One"></a> <button id="mmenu-button" type="button" class="navigator navbar-toggler animated fadeIn" data-bs-toggle="collapse" data-bs-target="#navigator_nav_menu" aria-controls="navigator_nav_menu" aria-expanded="false" aria-label="Toggle navigation"> <i class="mdib mdib-menu mdib-36px"></i> </button> <div id="navigator_nav_menu" class="collapse"></div> <div id="navigator_nav_quicklinks" class="quicklink-nav collapse navbar-collapse justify-content-end pr-4"></div> </nav> <div id="authclient_modals" class="authclient_modals"></div> <div id="searchModal" class="modal fade top" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static"> <div class="modal-dialog modal-frame modal-top modal-notify modal-info" role="document"> <div class="modal-content"> <div class="modal-body"> <div id="navigator_nav_topsearch" class="top-search ml-4 mr-4"> <div class="bmd-form-group"> <div class="input-group"> <span class="input-group-addon"><i class="mdib mdib-magnify mdib-2x mb-2" style="color:#9E9E9E"></i></span> <input id="search-query" type="text" name="q" placeholder="Your search expression" autocomplete="off" class="form-control"> <span id="clear-topsearch" class="form-clear form-clear-searcher d-none" style="margin-top: 1.15rem"> <i class="mdib mdib-format-clear mdib-24px" style="color:#9E9E9E"></i> </span> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="margin-top: 24px;"></button> </div> </div> <div class="search-results hide-scrollbar mt-4"> <div id="search-results" style="display: none;"></div> </div> </div> </div> </div> </div> </div> <script id="search-results-template" type="text/mustache"> <ul style="list-style: none; margin-left: .5rem; margin-right: 4.25rem"> {{#docs}} <li> <h4 class="result-item"> <a class="link-no-decoration" href="{{url}}" target="_blank">{{title}} · {{tagline}}</a> </h4> <p class="result-item-text small text-muted mt-2 mb-0"> <i class="mdib mdib-calendar-blank mdib-18px mr-1"></i>{{displaydate}} </p> <p class="result-item-text">{{description}}</p> <p class="result-item-text small text-muted mb-3"> <i class="mdib mdib-tag-text-outline mdib-18px mr-1"></i><span class="sr-categories">{{#categories}} {{.}} · {{/categories}}</span> <i class="mdib mdib-tag mdib-18px mr-1 ml-2"></i><span class="sr-tags">{{#tags}} {{.}} · {{/tags}}</span> </p> </li> {{/docs}} </ul> </script> <header id="header"> <div id="attic_page" class="attic "> <div class="container textOverlay" style="display: none"> </div> <div class="attic-caption" style="display: none"></div> </div> </header> <div id="content" class="container mb-5"> <main id="main-content" class="r-text-300 js-toc-content"> <div class="paragraph dropcap"> <p>The <em>Liquid</em> template engine is an extraction from the E-Commerce system <em>Shopify</em>. The app powers many thousands of stores which all call for unique designs. To make this possible, the <em>Liquid</em> template engine was developed which allows customers of the Shopify system to create individual designs for their needs with freedom to not affect the integrity of the servers the Shopify software is running.</p> </div> <div class="paragraph"> <p>The template engine was designed for specific requirements in terms of security: rendering safe templates which cannot affect the security of the server they are rendered on. Hosting providers want to allow their customers to customize the appearance of their applications but don&#8217;t want them to run insecure code on their production systems.</p> </div> <div class="ulist"> <ul> <li> <p>Structure individual components to make them available multiple times</p> </li> <li> <p>Render templates directly out of the applications configuration and files</p> </li> <li> <p>Render all types of text-based data</p> </li> </ul> </div> <div class="sect1 mt-4"> <h2 id="liquid-and-jekyll">Liquid and Jekyll</h2> <div class="sectionbody"> <div class="paragraph"> <p><em>Jekyll</em> is a generator to create static websites based on simple text files. That means no database system like <em>MySQL</em> is needed in behind; all data is being read from (text) files. These text files may contain configutation data, meta data (templates) to create the skeleton for the website or the content of the site to be generated.</p> </div> <div class="paragraph"> <p>Generators like <em>Jekyll</em> are based on processors to compute the data as a cascade. <em>Jekyll</em> make use of several processors, Liquid is one of them, working on a pipeline. For users of Linux or Unix this techique is well known.</p> </div> <div class="paragraph"> <p>Commandline applications on Linuy|Unix (and Windows as well) are very often used as a cascade using <code>pipes</code>. For example the command <code>ls</code> creates a directory listing that is <strong>piped</strong> to a <code>grep</code> filter to sort thing out. The filtered result is passed to e.g. the <code>awk</code> program to create formatted lines. Finally the result is passed to the <code>sort</code> filter to sort the data.</p> </div> <div class="paragraph"> <p>This processing cascade looks like:</p> </div> <div class="listingblock noclip"> <div class="content"><pre class="rouge highlight"><code data-lang="sh"><span class="nb">ls</span> | <span class="nb">grep</span> | <span class="nb">awk</span> | <span class="nb">sort</span> <span class="o">&gt;</span> file.txt</code></pre></div> </div> <div class="paragraph"> <p>Generators like Jekyll are working a very same way using processors like:</p> </div> <div class="ulist"> <ul> <li> <p>the template engine Liquid</p> </li> <li> <p>Markup processors like <em>Asciidoctor</em> for Asciidoc or <em>Kramdown</em> for data written in Markdown markup</p> </li> <li> <p>Highlighters like <em>Rouge</em> for source code highlightning</p> </li> </ul> </div> <div class="paragraph"> <p>A Jekyll pipeline may look like:</p> </div> <div class="listingblock noclip"> <div class="content"><pre class="rouge highlight"><code data-lang="sh">Jekyll | Layout | Liquid | Asciidoctor | Rouge <span class="o">&gt;</span> file.html</code></pre></div> </div> <div class="paragraph"> <p>With this pipeline for example, Jekyll reads a configuration file, extracts layout data and pass them to the <em>Liquid</em> engine. The template engine process the relevant template data and give the results back to the pipeline. To convert the Asciidoc (content) portion, <em>Asciidoctor</em> process the Asciidoc Markup data and pass some information to the source code highlighter <em>Rouge</em>. In the very end, the processed data is taken from the pipeline and finally written to a HTML file.</p> </div> <div class="paragraph"> <p>To be honest, the generator <em>Jekyll</em> does <strong>not</strong> exactly process data that way but it is a good picture for how the data is processd and passed through a pipeline, generally spoken. All processors connected to the (Jekyll) pipeline are using this (pipeline) architecture as well. Markup language converters like <em>Asciidoctor</em> make use of pipes to run e.g. helper like highlighters. The <em>Liquid</em> template engine is using pipes for filtering and transforming data.</p> </div> <div class="paragraph"> <p>The following sections describe the basics of <em>Liquid</em>: the Markup Language, how data is being processed, what templates are and how these are used to create skeletons for the HTML files used for the website build by Jekyll.</p> </div> <div class="sect2"> <h3 id="the-front-matter">The Front matter</h3> <div class="paragraph"> <p><em>Liquid</em> for <em>Jekyll</em> is not an option. <em>Liquid</em> is a central component for creating websites using <em>Jekyll</em> - worth to know how it works. Beside configuration files being read by the site generator <em>Jekyll</em> to control the overall process of creating a website, <em>Liquid</em> templates are used as skeletons to create the base structure of the HTML files for a web - all of them.</p> </div> <div class="paragraph"> <p>What way came <em>Liquid</em> into the game? Quite simple, all files to be processed by <em>Liquid</em> has to have a so called <code>Front Matter</code>. All files having a Front Matter block will be tread by <em>Jekyll</em> as special files that are to be passed to <em>Liquid</em> for processing.</p> </div> <div class="paragraph"> <p>A Front Matter must be the first part in the file. A Front Matter consists of two triple-dashed lines. Here a basic example:</p> </div> <div class="listingblock noclip"> <div class="content"><pre class="rouge highlight"><code data-lang="yaml"><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">post</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">Blogging Like a Hacker</span>
<span class="nn">...</span>
<span class="nn">---</span></code></pre></div> </div> </div> </div> </div> <div class="sect1"> <h2 id="liquid-markups">Liquid Markups</h2> <div class="sectionbody"> <div class="paragraph"> <p>There are two types of markups in <em>Liquid</em>: Output and Tag.</p> </div> <div class="paragraph"> <p>A <strong>Output</strong> markup, which may <strong>resolved</strong> to text, is surrounded by <strong>double</strong> curly brackets:</p> </div> <div class="listingblock noclip"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{{</span><span class="w"> </span><span class="nv">pairs</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">double</span><span class="w"> </span><span class="nv">curly</span><span class="w"> </span><span class="nv">brackets</span><span class="w"> </span><span class="cp">}}</span></code></pre></div> </div> <div class="paragraph"> <p>A <strong>Tag</strong> markup, which <strong>cannot</strong> resolved to text, is surrounded by curly brackets and percent signs <code>{%</code> and <code>%}</code>:</p> </div> <div class="listingblock noclip"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">pairs</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">single</span><span class="w"> </span><span class="nv">curly</span><span class="w"> </span><span class="nv">brackets</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">percent</span><span class="w"> </span><span class="nv">signs</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="sect2"> <h3 id="output">Output Markup</h3> <div class="paragraph"> <p>Here are some simple examples using the <strong>Output</strong> markup:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid">Hello <span class="cp">{{</span><span class="nv">name</span><span class="cp">}}</span>
Hello <span class="cp">{{</span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="cp">}}</span>
Hello <span class="cp">{{</span><span class="w"> </span><span class="s1">'tobi'</span><span class="w"> </span><span class="cp">}}</span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="advanced-output-filters">Output and Filters</h3> <div class="paragraph"> <p>Output markup takes filters. Filters are simple methods. The first parameter is always the output of the left side of the filter. The return value of the filter will be the new left value when the next filter is run. When there are no more filters, the template will receive the resulting string.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid">Hello <span class="cp">{{</span><span class="w"> </span><span class="s1">'tobi'</span><span class="w"> </span><span class="p">|</span><span class="nf">upcase</span><span class="w"> </span><span class="cp">}}</span>
Hello tobi has <span class="cp">{{</span><span class="w"> </span><span class="s1">'tobi'</span><span class="w"> </span><span class="p">|</span><span class="nf">size</span><span class="w"> </span><span class="cp">}}</span> letters!
Hello <span class="cp">{{</span><span class="w"> </span><span class="s1">'*tobi*'</span><span class="w"> </span><span class="p">|</span><span class="nf">textilize</span><span class="w"> </span><span class="p">|</span><span class="nf">upcase</span><span class="w"> </span><span class="cp">}}</span>
Hello <span class="cp">{{</span><span class="w"> </span><span class="s1">'now'</span><span class="w"> </span><span class="p">|</span><span class="nf">date</span><span class="p">:</span><span class="w"> </span><span class="s2">"%Y %h"</span><span class="w"> </span><span class="cp">}}</span></code></pre></div> </div> </div> </div> </div> <div class="sect1"> <h2 id="whitespace-control">Whitespace control</h2> <div class="sectionbody"> <div class="paragraph"> <p>In Liquid, you can include a hyphen in your tag syntax <code>{{-</code>, <code>-}}</code>, <code>{%-</code>, and <code>-%}</code> to strip whitespace from the left or right side of a rendered tag. Normally, even if it doesn’t print text, any line of Liquid in your template will still print a <strong>blank line</strong> in your rendered HTML:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">my_variable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tomato"</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{{</span><span class="w"> </span><span class="nv">my_variable</span><span class="w"> </span><span class="cp">}}</span></code></pre></div> </div> <div class="paragraph"> <p>Notice the blank line before <strong>tomato</strong> in the rendered output:</p> </div> <div class="listingblock noclip"> <div class="title">Output</div> <div class="content"><pre class="rouge highlight notranslate"><br><code data-lang="text">tomato</code></pre></div> </div> <div class="paragraph"> <p>By including a hyphen in your <code>assign</code> <strong>closing</strong> tag, you can strip the whitespace following it from the rendered output:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">my_variable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tomato"</span><span class="w"> </span><span class="cp">-%}</span>
<span class="cp">{{</span><span class="w"> </span><span class="nv">my_variable</span><span class="w"> </span><span class="cp">}}</span></code></pre></div> </div> <div class="listingblock"> <div class="title">Output</div> <div class="content"><pre>tomato</pre></div> </div> <div class="paragraph"> <p>If you don’t want any of your tags to print whitespace, as a general rule you can add hyphens to <strong>both</strong> sides of all your tags <code>{%-</code> and <code>-%}</code>:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%-</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"John G. Chalmers-Smith"</span><span class="w"> </span><span class="cp">-%}</span>
<span class="cp">{%-</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">username</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">username</span><span class="p">.</span><span class="nf">size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="cp">-%}</span>
  Wow, <span class="cp">{{</span><span class="w"> </span><span class="nv">username</span><span class="w"> </span><span class="cp">}}</span> , you have a long name!
<span class="cp">{%-</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="cp">-%}</span>
  Hello there!
<span class="cp">{%-</span><span class="w"> </span><span class="nt">endif</span><span class="err">-</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock noclip"> <div class="title">Output without whitespace control</div> <div class="content"><pre class="rouge highlight notranslate"><br><br><br><code data-lang="text">Wow, John G. Chalmers-Smith , you have a long name!</code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"John G. Chalmers-Smith"</span><span class="w"> </span><span class="cp">-%}</span>
<span class="cp">{%-</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">username</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">username</span><span class="p">.</span><span class="nf">size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="cp">-%}</span>
  Wow, <span class="cp">{{</span><span class="w"> </span><span class="nv">username</span><span class="w"> </span><span class="cp">-}}</span> , you have a long name!
<span class="cp">{%-</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="cp">-%}</span>
  Hello there!
<span class="cp">{%-</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="title">Output with whitespace control</div> <div class="content"><pre>Wow, John G. Chalmers-Smith, you have a long name!</pre></div> </div> </div> </div> <div class="sect1"> <h2 id="data-types-variables">Data Types (Variables)</h2> <div class="sectionbody"> <div class="paragraph"> <p>Liquid objects can be one of six types:</p> </div> <div class="ulist"> <ul> <li> <p><a href="#string">String</a></p> </li> <li> <p><a href="#number">Number</a></p> </li> <li> <p><a href="#boolean">Boolean</a></p> </li> <li> <p><a href="#nil">Nil</a></p> </li> <li> <p><a href="#array">Array</a></p> </li> <li> <p><a href="#emptydrop">EmptyDrop</a></p> </li> </ul> </div> <div class="paragraph"> <p>You can initialize Liquid variables using assign or capture tags.</p> </div> <div class="sect2"> <h3 id="string">String</h3> <div class="paragraph"> <p>Strings are sequences of characters wrapped in <strong>single</strong> or <strong>double</strong> quotes:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">my_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hello World!"</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">another_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Hello World!'</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>Liquid does <strong>not</strong> convert escape sequences into special characters.</p> </div> </div> <div class="sect2"> <h3 id="number">Number</h3> <div class="paragraph"> <p>Numbers include floats and integers:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">my_int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">my_float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">39.756</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="boolean">Boolean</h3> <div class="paragraph"> <p>Booleans are either true or false. No quotations are necessary when declaring a boolean:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="nil">Nil</h3> <div class="paragraph"> <p>Nil is a special empty value that is returned when Liquid code has no results. It is not a string with the characters <code>nil</code>. Nil is treated as false in the conditions of if blocks and other Liquid tags that check the truthfulness of a statement.</p> </div> <div class="paragraph"> <p>In the following example, if the user does not exist (that is, user returns nil), Liquid will not print the greeting:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="w"> </span><span class="cp">%}</span>
  Hello <span class="cp">{{</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="cp">}}</span>!
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>Tags or outputs that return <code>nil</code> will not print <strong>anything</strong> to the page.</p> </div> <div class="listingblock"> <div class="title">Input</div> <div class="content"><pre class="rouge highlight"><code data-lang="liquid">The current user is <span class="cp">{{</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="cp">}}</span></code></pre></div> </div> <div class="listingblock"> <div class="title">Output</div> <div class="content"><pre>The current user is</pre></div> </div> </div> <div class="sect2"> <h3 id="array">Array</h3> <div class="paragraph"> <p>Arrays hold lists of variables of any type. To access all the items in an array, you can loop through each item in the array using an iteration tag.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid">&lt;!-- if site.users = "Tobi", "Laura", "Tetsuro", "Adam" --&gt;
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">user</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">users</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{{</span><span class="w"> </span><span class="nv">user</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="title">Output</div> <div class="content"><pre>  Tobi Laura Tetsuro Adam</pre></div> </div> <div class="paragraph"> <p>You can use square bracket <code>[ ]</code> notation to access a specific item in an array. Array indexing starts at zero. A negative index will count from the end of the array.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid">&lt;!-- if site.users = "Tobi", "Laura", "Tetsuro", "Adam" --&gt;
<span class="cp">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">users</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">users</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">users</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="cp">}}</span></code></pre></div> </div> <div class="listingblock"> <div class="title">Output</div> <div class="content"><pre>Tobi
Laura
Adam</pre></div> </div> <div class="sect3"> <h4 id="initializing-arrays">Initializing arrays</h4> <div class="paragraph"> <p>You cannot initialize arrays using only Liquid. You can, however, use the <code>split</code> filter to break a string into an array of substrings.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">beatles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"John, Paul, George, Ringo"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">split</span><span class="p">:</span><span class="w"> </span><span class="s2">", "</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">member</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">beatles</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{{</span><span class="w"> </span><span class="nv">member</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="title">Output</div> <div class="content"><pre>John
Paul
George
Ringo</pre></div> </div> </div> </div> <div class="sect2"> <h3 id="emptydrop">EmptyDrop</h3> <div class="paragraph"> <p>An EmptyDrop object is returned if you try to access a deleted object. In the example below, <code>page_1</code>, <code>m</code> and <code>page_3</code> are all <strong>EmptyDrop</strong> objects:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">variable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"hello"</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">page_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">pages</span><span class="p">[</span><span class="nv">variable</span><span class="p">]</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">page_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">pages</span><span class="p">[</span><span class="s2">"does-not-exist"</span><span class="p">]</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">page_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">pages</span><span class="p">.</span><span class="nv">this-handle-does-not-exist</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="sect3"> <h4 id="checking-for-emptiness">Checking for emptiness</h4> <div class="paragraph"> <p>You can check to see if an object exists or not before you access any of its attributes.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">unless</span><span class="w"> </span><span class="nv">pages</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">empty</span><span class="w"> </span><span class="cp">%}</span>
  &lt;h1&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">pages</span><span class="p">.</span><span class="nv">frontpage</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="cp">}}</span>&lt;/h1&gt;
  &lt;div&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">pages</span><span class="p">.</span><span class="nv">frontpage</span><span class="p">.</span><span class="nv">content</span><span class="w"> </span><span class="cp">}}</span>&lt;/div&gt;
<span class="cp">{%</span><span class="w"> </span><span class="nt">endunless</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>Both empty strings and empty arrays will return <code>true</code> if checked for equivalence with <code>empty</code>.</p> </div> </div> </div> </div> </div> <div class="sect1"> <h2 id="variable-assignment">Variable Assignment</h2> <div class="sectionbody"> <div class="paragraph"> <p>You can store data in your own variables, to be used in output or other tags as desired. The simplest way to create a variable is with the <code>assign</code> tag, which has a pretty straightforward syntax:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'freestyle'</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">collections</span><span class="p">.</span><span class="nv">tags</span><span class="w"> </span><span class="cp">%}{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="cp">%}</span>
  &lt;p&gt;Freestyle!&lt;/p&gt;
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>Another way of doing this would be to assign <code>true|false</code> values to the variable:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">freestyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">collections</span><span class="p">.</span><span class="nv">tags</span><span class="w"> </span><span class="cp">%}{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'freestyle'</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">freestyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">freestyle</span><span class="w"> </span><span class="cp">%}</span>
  &lt;p&gt;Freestyle!&lt;/p&gt;
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>If you want to combine a number of strings into a single string and save it to a variable, you can do that with the <code>capture</code> tag. This tag is a block which "captures" whatever is rendered inside it, then assigns the captured value to the given variable instead of rendering it to the screen.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html">{% capture attribute_name %}{{ item.title }}-{{ i }}-color{% endcapture %}
<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"{{ attribute_name }}"</span><span class="nt">&gt;</span>Color:<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;select</span> <span class="na">name=</span><span class="s">"attributes[{{ attribute_name }}]"</span> <span class="na">id=</span><span class="s">"{{ attribute_name }}"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"red"</span><span class="nt">&gt;</span>Red<span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"green"</span><span class="nt">&gt;</span>Green<span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"blue"</span><span class="nt">&gt;</span>Blue<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span></code></pre></div> </div> </div> </div> <div class="sect1"> <h2 id="filters">Filters</h2> <div class="sectionbody"> <table class="tableblock frame-all grid-all stretch rtable mt-4"> <caption class="title">Table 1. Filters</caption> <colgroup> <col style="width: 41.6666%;"> <col style="width: 58.3334%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Filter</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>append</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Append a string <strong>e.g.</strong> <code>{{ 'foo' |append:'bar' }} #&#8658; 'foobar'</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>capitalize</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>capitalize words in the input sentence</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>ceil</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Rounds a number up to the nearest integer, <strong>e.g.</strong> <code>{{ 4.6 |ceil }} #&#8658; 5</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>date</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Reformat a date, see <a href="/pages/public/tools/toolbox/jekyll/date_time_formats/" target="_blank" rel="noopener">Liquid Syntax Reference</a></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>default</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Returns the given variable unless it is null or the empty string, when it will return the given value, e.g. <code>{{ undefined_variable |default: "Default value" }} #&#8658; "Default value"</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>divided_by</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Integer division <strong>e.g.</strong> <code>{{ 10 |divided_by:3 }} #&#8658; 3</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>downcase</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>convert an input string to lowercase</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>escape_once</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Returns an escaped version of html without affecting existing escaped entities</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>escape</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>HTML escape a string</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>first</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Get the first element of the passed in array</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>floor</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Rounds a number down to the nearest integer, <code>{{ 4.6 |floor }} #&#8658; 4</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>join</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Join elements of the array with certain character between them</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>last</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Get the last element of the passed in array</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>lstrip</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Strips all whitespace from the beginning of a string</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>map</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Map/Collect an array on a given property</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>minus</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Subtraction <code>{{ 4 |minus:2 }} #&#8658; 2</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>modulo</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Remainder <code>{{ 3 |modulo:2 }} #&#8658; 1</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>newline_to_br</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Replace each newline (\n) with html break</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>pluralize</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Return the second word if the input is not <code>1</code>, otherwise return the first word <code>{{ 3 |pluralize: 'item', 'items' }} #&#8658; 'items'</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>plus</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Addition <code>{{ '1' |plus:'1' }} #&#8658; 2</code>, <code>{{ 1 |plus:1 }} #&#8658; 2</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>prepend</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Prepend a string <code>{{ 'bar' |prepend:'foo' }} #&#8658; 'foobar'</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>remove_first</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Remove the first occurrence <code>{{ 'barbar' |remove_first:'bar' }} #&#8658; 'bar'</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>remove</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Remove each occurrence <code>{{ 'foobarfoobar' |remove:'foo' }} #&#8658; 'barbar'</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>replace_first</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Replace the first occurrence <code>{{ 'barbar' |replace_first:'bar','foo' }} #&#8658; 'foobar'</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>replace</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Replace each occurrence <code>{{ 'foofoo' |replace:'foo','bar' }} #&#8658; 'barbar'</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>reverse</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>reverses the passed in array</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>round</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Rounds input to the nearest integer or specified number of decimals <code>{{ 4.5612 |round: 2 }} #&#8658; 4.56</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>rstrip</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Strips all whitespace from the end of a string</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>size</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Return the size of an array or string</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>slice</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Slice a string. Takes an offset and length, <code>{{ "hello" |slice: -3, 3 }} #&#8658; llo</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>sort</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Sort elements of the array</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>split</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Split a string on a matching pattern <strong>e.g.</strong> <code>{{ "a~b" |split:"~" }} #&#8658; ['a','b']</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>strip_html</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Strip HTML markups from string</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>strip_newlines</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Strip all newlines (\n) from string</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>strip</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Strip all whitespace from both ends of the string</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>times</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Multiplication <code>{{ 5 |times:4 }} #&#8658; 20</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>truncate</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Truncate a string down to x characters. It also accepts a second parameter that will append to the string <code>{{ 'foobarfoobar' |truncate: 5, '.' }} #&#8658; 'foob.'</code></p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>truncatewords</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Truncate a string down to x words</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>uniq</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Removed duplicate elements from an array, optionally using a given property to test for uniqueness</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>upcase</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Convert an input string to uppercase</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>url_encode</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>URL encode a string</p> </div></div></td> </tr> </tbody> </table> </div> </div> <div class="sect1"> <h2 id="tags">Tags</h2> <div class="sectionbody"> <div class="paragraph"> <p>Tags are used for the <strong>logic</strong> in your template. Here is a list of supported tags:</p> </div> <table class="tableblock frame-all grid-all stretch rtable mt-4"> <caption class="title">Table 2. Tags</caption> <colgroup> <col style="width: 41.6666%;"> <col style="width: 58.3334%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Tag</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>assign</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Assigns some value to a variable</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>capture</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Block tag that captures text into a variable</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>case</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Block tag, its the standard case&#8230;&#8203;when block</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>comment</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Block tag, comments out the text in the block</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>cycle</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Cycle is usually used within a loop to alternate between values, like colors or DOM classes.</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>for</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>For loop</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>break</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Exits a for loop</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>continue</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Skips the remaining code in the current for loop and continues with the next loop</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>if</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Standard if/else block</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>include</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Includes another template; useful for partials</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>raw</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>temporarily disable tag processing to avoid syntax conflicts.</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>unless</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Mirror of if statement</p> </div></div></td> </tr> </tbody> </table> <div class="sect2"> <h3 id="comments">Comments</h3> <div class="paragraph"> <p>Any content that you put between <code>{% comment %}</code> and <code>{% endcomment %}</code> tags is turned into a comment (and <strong>no</strong> output is generated).</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid">We made 1 million dollars <span class="cp">{%</span><span class="w"> </span><span class="nt">comment</span><span class="w"> </span><span class="cp">%}</span><span class="c"> in losses </span><span class="cp">{%</span><span class="w"> </span><span class="nt">endcomment</span><span class="w"> </span><span class="cp">%}</span> this year</code></pre></div> </div> </div> <div class="sect2"> <h3 id="raw">Raw</h3> <div class="paragraph"> <p>Any content that you put between <code>{% raw %}</code> and <code>{% endraw %}</code> tags is turned into raw data. The tag temporarily <strong>disables</strong> <em>Liquid</em> from processing. This is useful for generating content (e.g., Mustache, Handlebars) which uses a conflicting syntax or the Output tag should be displayed <strong>as-it-is</strong> (e.g. for examples).</p> </div> <div class="listingblock"> <div class="title">Temporarily disable processing for Handlebars</div> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">raw</span><span class="w"> </span><span class="cp">%}</span>
In Handlebars, {{ this }} will be HTML-escaped, but {{{ that }}} will not.
<span class="cp">{%</span><span class="w"> </span><span class="nt">endraw</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="title">Output tag displayed as-it-is</div> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">raw</span><span class="w"> </span><span class="cp">%}</span>{{ page.date }}<span class="cp">{%</span><span class="w"> </span><span class="nt">endraw</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="if-and-else">If and Else</h3> <div class="paragraph"> <p>The tags <code>if</code> and <code>else</code> should be well-known from any other programming language. <em>Liquid</em> allows you to write simple expressions in the <code>if</code> or <code>unless</code> (and optionally, <code>elsif</code> and <code>else</code>) clause.</p> </div> <table class="tableblock frame-all grid-all stretch rtable mt-4"> <caption class="title">Table 3. Clauses</caption> <colgroup> <col style="width: 41.6666%;"> <col style="width: 58.3334%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Clause</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>{% if &lt;CONDITION&gt; %} &#8230;&#8203; {% endif %}</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Encloses a section of template which will only be run if the condition is true</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>{% elsif &lt;CONDITION&gt; %}</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Can optionally be used within an <code>if &#8230;&#8203; endif</code> block. Specifies another condition; if the initial "if" fails, <em>Liquid</em> tries the <code>elsif</code>, and runs the following section of template if it succeeds. You can use any number of elsifs in an <code>if</code> block</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>{% else %}</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Can optionally be used within an <code>if &#8230;&#8203; endif</code> block, <em>after</em> any <code>elsif</code> tags. If all preceding conditions fail, <em>Liquid</em> will run the section of template following the "else" tag</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>{% unless &lt;CONDITION&gt; %} &#8230;&#8203; {% endunless %}</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>The reverse of an <code>if</code> statement. Don&#8217;t use <code>elsif</code> or <code>else</code> with an unless statement.</p> </div></div></td> </tr> </tbody> </table> <div class="paragraph"> <p>The condition of an <code>if</code>, <code>elsif</code> or <code>unless</code> tag should be either a normal <em>Liquid</em> expression or a <em>comparison</em> using <em>Liquid</em> expressions. Note that the comparison operators are implemented by the "if"-like tags; they don&#8217;t work anywhere else in <em>Liquid</em>.</p> </div> <div class="sect3"> <h4 id="conditional-operators">Conditional operators</h4> <div class="paragraph"> <p>The available comparison operators are:</p> </div> <table class="tableblock frame-all grid-all stretch rtable mt-4"> <caption class="title">Table 4. Conditional operators</caption> <colgroup> <col style="width: 41.6666%;"> <col style="width: 58.3334%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Operator</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>==</code> | <code>!=</code> | <code>&lt;&gt;</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Equality and inequality (note the two synonyms). There&#8217;s a secret special value <code>empty</code> (unquoted) that you can compare <strong>arrays</strong> to; the comparison is <code>true</code> if the array has <strong>no</strong> members.</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>&lt;</code> | <code>&lt;&#x3D;</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>less | less-than</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>&gt;</code> | <code>&gt;=</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>greater | greater-than</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>contains</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>A wrapper around Ruby&#8217;s <code>include?</code> method, which is implemented on strings, arrays, and hashes. If the left argument is a string and the right isn&#8217;t, it stringifies the right.</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>and</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Boolean <strong>and</strong> operator</p> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p><code>or</code></p> </div></div></td> <td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"> <p>Boolean <strong>or</strong> operator</p> </div></div></td> </tr> </tbody> </table> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>Note that there is <strong>no</strong> <code>not</code> operator. Also note that you <strong>cannot</strong> use parentheses to control the <strong>order</strong> of operations, and the <strong>precedence</strong> of the operators appears to be <strong>unspecified</strong>. So when in doubt, use nested <code>if</code> statements instead of risking it.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p><em>Liquid</em> expressions are tested for <strong>truthiness</strong> in what looks like a Ruby-like way:</p> </div> <div class="ulist"> <ul> <li> <p>Any <strong>string</strong> is <code>true</code>, including the <strong>empty</strong> string</p> </li> <li> <p>Any <strong>array</strong> is <code>true</code></p> </li> <li> <p>Any <strong>hash</strong> is <code>true</code></p> </li> <li> <p>Any <strong>nonexistent</strong> or <strong>nil</strong> value (like a missing member of a hash) is <code>false</code></p> </li> </ul> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="w"> </span><span class="cp">%}</span>
  Hello <span class="cp">{{</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># Same as above
<span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">null</span><span class="w"> </span><span class="cp">%}</span>
  Hello <span class="cp">{{</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'tobi'</span><span class="w"> </span><span class="cp">%}</span>
  Hello tobi
<span class="cp">{%</span><span class="w"> </span><span class="nt">elsif</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'bob'</span><span class="w"> </span><span class="cp">%}</span>
  Hello bob
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'tobi'</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'bob'</span><span class="w"> </span><span class="cp">%}</span>
  Hello tobi or bob
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'bob'</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">age</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">45</span><span class="w"> </span><span class="cp">%}</span>
  Hello old bob
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">'tobi'</span><span class="w"> </span><span class="cp">%}</span>
  Hello non-tobi
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># Same as above
<span class="cp">{%</span><span class="w"> </span><span class="nt">unless</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'tobi'</span><span class="w"> </span><span class="cp">%}</span>
  Hello non-tobi
<span class="cp">{%</span><span class="w"> </span><span class="nt">endunless</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># Check for the size of an array
<span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">payments</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">empty</span><span class="w"> </span><span class="cp">%}</span>
   you never paid !
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">payments</span><span class="p">.</span><span class="nf">size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="cp">%}</span>
   you paid !
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">age</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="cp">%}</span>
   Login here
<span class="cp">{%</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="cp">%}</span>
   Sorry, you are too young
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># array = 1,2,3
<span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">array</span><span class="w"> </span><span class="ow">contains</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="cp">%}</span>
   array includes 2
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># string = 'hello world'
<span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="ow">contains</span><span class="w"> </span><span class="s1">'hello'</span><span class="w"> </span><span class="cp">%}</span>
   string includes 'hello'
<span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> </div> </div> <div class="sect2"> <h3 id="case-statement">Case Statement</h3> <div class="paragraph"> <p>If you need more conditions, you can use the <code>case</code> statement:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">case</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">when</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="cp">%}</span>
    hit 1
  <span class="cp">{%</span><span class="w"> </span><span class="nt">when</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="cp">%}</span>
    hit 2 or 3
  <span class="cp">{%</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="cp">%}</span>
  ... else ...
<span class="cp">{%</span><span class="w"> </span><span class="nt">endcase</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>Example</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">case</span><span class="w"> </span><span class="nv">template</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">when</span><span class="w"> </span><span class="s1">'label'</span><span class="w"> </span><span class="cp">%}</span>
       <span class="cp">{{</span><span class="w"> </span><span class="nv">label</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="cp">}}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">when</span><span class="w"> </span><span class="s1">'product'</span><span class="w"> </span><span class="cp">%}</span>
       <span class="cp">{{</span><span class="w"> </span><span class="nv">product</span><span class="p">.</span><span class="nv">vendor</span><span class="w"> </span><span class="p">|</span><span class="nf">link</span>&amp;#x5F;to_vendor<span class="w"> </span><span class="cp">}}</span> / <span class="cp">{{</span><span class="w"> </span><span class="nv">product</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="cp">}}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="cp">%}</span>
       <span class="cp">{{</span><span class="nv">page_title</span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endcase</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="cycle">Cycle</h3> <div class="paragraph"> <p>Often you have to alternate between different colors or similar tasks. <em>Liquid</em> has built-in support for such operations, using the <code>cycle</code> tag.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">cycle</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">cycle</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">cycle</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">cycle</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>will result in</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="text">one
two
three
one</code></pre></div> </div> <div class="paragraph"> <p>If no name is supplied for the cycle group, then it&#8217;s assumed that multiple calls with the same parameters are one group. If you want to have total control over cycle groups, you can optionally specify the name of the group. This can even be a variable.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">cycle</span><span class="w"> </span><span class="s1">'group 1'</span><span class="p">:</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">cycle</span><span class="w"> </span><span class="s1">'group 1'</span><span class="p">:</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">cycle</span><span class="w"> </span><span class="s1">'group 2'</span><span class="p">:</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">cycle</span><span class="w"> </span><span class="s1">'group 2'</span><span class="p">:</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>will result in</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="text">one
two
one
two</code></pre></div> </div> </div> <div class="sect2"> <h3 id="for-loops">For loops</h3> <div class="paragraph"> <p><em>Liquid</em> allows <code>for</code> loops over collections:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">array</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{{</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="sect3"> <h4 id="allowed-collection-types">Allowed collection types</h4> <div class="paragraph"> <p>For loops can iterate over <strong>arrays</strong>, <strong>hashes</strong>, and <strong>ranges of integers</strong>. When iterating a hash, <code>item[0]</code> contains the key, and <code>item[1]</code> contains the value:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">hash</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{{</span><span class="w"> </span><span class="nv">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="cp">}}</span>: <span class="cp">{{</span><span class="w"> </span><span class="nv">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>Instead of looping over an existing collection, you can also loop through a range of numbers. Ranges look like <code>(1..10)</code> - parentheses containing a start value, two periods, and an end value. The start and end values must be integers or <strong>expressions</strong> that <strong>resolve to integers</strong>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># if item.quantity is 4...
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">..</span><span class="nv">item</span><span class="p">.</span><span class="nv">quantity</span><span class="p">)</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{{</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
# results in 1,2,3,4</code></pre></div> </div> </div> <div class="sect3"> <h4 id="breaking-and-continuing">Breaking and continuing</h4> <div class="paragraph"> <p>You can exit a loop early with the following tags:</p> </div> <div class="ulist"> <ul> <li> <p><code>{% continue %}</code>, immediately end the current iteration, and continue the <code>for</code> loop with the next value</p> </li> <li> <p><code>{% break %}</code>, immediately end the current iteration, then completely end the <code>for</code> loop</p> </li> </ul> </div> <div class="paragraph"> <p>Both of these are only useful when combined with something like an <code>if</code> statement.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">page</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">pages</span><span class="w"> </span><span class="cp">%}</span>
  # Skip anything in the hidden_pages array,
  # but keep looping over the rest of the values
  <span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">hidden_pages</span><span class="w"> </span><span class="ow">contains</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="kr">continue</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span>
  # If it's not hidden, print it.
  [page.title](page.url)
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">page</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">pages</span><span class="w"> </span><span class="cp">%}</span>
  [page.title](page.url)
  # After we reach the "cutoff" page, stop the list
  # and get on with whatever's
  # after the "for" loop:
  <span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">cutoff_page</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="cp">%}</span>
    <span class="cp">{%</span><span class="w"> </span><span class="kr">break</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> </div> <div class="sect3"> <h4 id="helper-variables">Helper variables</h4> <div class="paragraph"> <p>During every <code>for</code> loop, the following helper variables are available for extra styling needs:</p> </div> <div class="listingblock noclip"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid">forloop.length      # =&gt; length of the entire for loop
forloop.index       # =&gt; index of the current iteration
forloop.index0      # =&gt; index of the current iteration (zero based)
forloop.rindex      # =&gt; how many items are still left?
forloop.rindex0     # =&gt; how many items are still left? (zero based)
forloop.first       # =&gt; is this the first iteration?
forloop.last        # =&gt; is this the last iteration?</code></pre></div> </div> </div> <div class="sect3"> <h4 id="optional-arguments">Optional arguments</h4> <div class="paragraph"> <p>There are several optional arguments to the <code>for</code> tag that can influence which items you receive in your loop and what order they appear in:</p> </div> <div class="ulist"> <ul> <li> <p><code>limit:&lt;INTEGER&gt;</code>, lets you restrict how many items you get</p> </li> <li> <p><code>offset:&lt;INTEGER&gt;</code>, lets you start the collection with the nth item</p> </li> <li> <p><code>reversed</code> iterates, over the collection from last to first</p> </li> </ul> </div> <div class="paragraph"> <p><code>limit:int</code> lets you restrict how many items you get. <code>offset:int</code> lets you start the collection with the nth item.</p> </div> <div class="paragraph"> <p>Restricting elements:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># array = [1,2,3,4,5,6]
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">array</span><span class="w"> </span><span class="na">limit</span><span class="o">:</span><span class="mi">2</span><span class="w"> </span><span class="na">offset</span><span class="o">:</span><span class="mi">2</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{{</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
# results in 3,4</code></pre></div> </div> <div class="paragraph"> <p>Reversing the loop:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"><span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">collection</span><span class="w"> </span><span class="na">reversed</span><span class="w"> </span><span class="cp">%}</span> <span class="cp">{{</span><span class="nv">item</span><span class="cp">}}</span> <span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> <div class="paragraph"> <p>Instead of looping over an existing collection, you can define a range of numbers to loop through. The range can be defined by both literal and variable numbers:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># if item.quantity is 4...
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">..</span><span class="nv">item</span><span class="p">.</span><span class="nv">quantity</span><span class="p">)</span><span class="w"> </span><span class="cp">%}</span>
  <span class="cp">{{</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
# results in 1,2,3,4</code></pre></div> </div> <div class="paragraph"> <p>A for loop can take an optional <code>else</code> clause to display a block of text when there are no items in the collection:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="liquid"># items =&gt; []
<span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="cp">%}</span>
   <span class="cp">{{</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="cp">}}</span>
<span class="cp">{%</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="cp">%}</span>
   There are no items!
<span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span></code></pre></div> </div> </div> </div> </div> </div> <div class="sect1"> <h2 id="liquid-programming-basics">Liquid Programming Basics</h2> <div class="sectionbody"> <div class="paragraph"> <p>It&#8217;s very simple to get started with <em>Liquid</em>. A <em>Liquid</em> template is rendered in two steps: Parse and Render. For an overview of the <em>Liquid</em> syntax, please read [[Liquid for Designers]].</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="vi">@template</span> <span class="o">=</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">"hi {{name}}"</span><span class="p">)</span>  <span class="c1"># Parses and compiles the template</span>
<span class="vi">@template</span><span class="p">.</span><span class="nf">render</span><span class="p">(</span> <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'tobi'</span> <span class="p">)</span>               <span class="c1"># Renders the output =&gt; "hi tobi"</span></code></pre></div> </div> <div class="paragraph"> <p>The <code>parse</code> step creates a fully compiled template which can be re-used as often as you like. You can store it in memory or in a cache for faster rendering later.</p> </div> <div class="paragraph"> <p>All parameters you want <em>Liquid</em> to work with have to be passed as parameters to the <code>render</code> method. <em>Liquid</em> does not know about your Ruby local, instance, and global variables.</p> </div> <div class="sect2"> <h3 id="extending-liquid">Extending Liquid</h3> <div class="paragraph"> <p>Extending <em>Liquid</em> is very easy. However, keep in mind that <em>Liquid</em> is a young library and requires some outside help. If you create useful filters and tags, please consider making a <a href="https://github.com/Shopify/liquid/pulls">pull request</a> with them.</p> </div> </div> <div class="sect2"> <h3 id="create-your-own-filters">Create your own filters</h3> <div class="paragraph"> <p>Creating filters is very easy. Basically, they are just methods which take one parameter and return a modified string. You can use your own filters by passing an array of modules to the render call like this: <code>@template.render(assigns, [MyTextFilters, MyDateFilters])</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="k">module</span> <span class="nn">TextFilter</span>
  <span class="k">def</span> <span class="nf">textilize</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
    <span class="no">RedCloth</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">input</span><span class="p">).</span><span class="nf">to_html</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="vi">@template</span> <span class="o">=</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">" {{ '*hi*' |textilize }} "</span><span class="p">)</span>
<span class="vi">@template</span><span class="p">.</span><span class="nf">render</span><span class="p">({},</span> <span class="ss">:filters</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="no">TextFilter</span><span class="p">])</span>              <span class="c1"># =&gt; "&lt;strong&gt;hi&lt;/strong&gt;"</span></code></pre></div> </div> <div class="paragraph"> <p>Alternatively, you can register your filters globally:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="k">module</span> <span class="nn">TextFilter</span>
  <span class="k">def</span> <span class="nf">textilize</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
    <span class="no">RedCloth</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">input</span><span class="p">).</span><span class="nf">to_html</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">register_filter</span><span class="p">(</span><span class="no">TextFilter</span><span class="p">)</span></code></pre></div> </div> <div class="paragraph"> <p>Once the filter is globally registered, you can simply use it:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="vi">@template</span> <span class="o">=</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">" {{ '*hi*' |textilize }} "</span><span class="p">)</span>
<span class="vi">@template</span><span class="p">.</span><span class="nf">render</span>              <span class="c1"># =&gt; "&lt;b&gt;hi&lt;/b&gt;"</span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="create-your-own-tags">Create your own tags</h3> <div class="paragraph"> <p>To create a new tag, simply inherit from <code>Liquid::Tag</code> and register your block with <code>Liquid::Template</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="k">class</span> <span class="nc">Random</span> <span class="o">&lt;</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Tag</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span> <span class="n">max</span><span class="p">,</span> <span class="n">tokens</span><span class="p">)</span>
     <span class="k">super</span>
     <span class="vi">@max</span> <span class="o">=</span> <span class="n">max</span><span class="p">.</span><span class="nf">to_i</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
    <span class="nb">rand</span><span class="p">(</span><span class="vi">@max</span><span class="p">).</span><span class="nf">to_s</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">register_tag</span><span class="p">(</span><span class="s1">'random'</span><span class="p">,</span> <span class="no">Random</span><span class="p">)</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="vi">@template</span> <span class="o">=</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">" {% random 5 %}"</span><span class="p">)</span>
<span class="vi">@template</span><span class="p">.</span><span class="nf">render</span>    <span class="c1"># =&gt; "3"</span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="create-your-own-tag-blocks">Create your own tag blocks</h3> <div class="paragraph"> <p>All tag blocks are parsed by <em>Liquid</em>. To create a new block, you just have to inherit from <code>Liquid::Block</code> and register your block with <code>Liquid::Template</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="k">class</span> <span class="nc">Random</span> <span class="o">&lt;</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Block</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span> <span class="n">markup</span><span class="p">,</span> <span class="n">tokens</span><span class="p">)</span>
     <span class="k">super</span>
     <span class="vi">@rand</span> <span class="o">=</span> <span class="n">markup</span><span class="p">.</span><span class="nf">to_i</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span><span class="vi">@rand</span><span class="p">)</span>
    <span class="k">super</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="s1">'^^^'</span><span class="p">,</span> <span class="n">value</span><span class="p">.</span><span class="nf">to_s</span><span class="p">)</span>  <span class="c1"># calling `super` returns the content of the block</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">register_tag</span><span class="p">(</span><span class="s1">'random'</span><span class="p">,</span> <span class="no">Random</span><span class="p">)</span></code></pre></div> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="n">text</span> <span class="o">=</span> <span class="s2">" {% random 5 %} you have drawn number ^^^, lucky you! {% endrandom %}"</span>
<span class="vi">@template</span> <span class="o">=</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="vi">@template</span><span class="p">.</span><span class="nf">render</span>  <span class="c1"># will return "you have drawn number 1, lucky you!" in 20% of cases</span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="caching-of-classes">Caching of classes</h3> <div class="paragraph"> <p>If you get errors like <code>A copy of &#8230;&#8203; has been removed from the module tree but is still active!</code> it&#8217;s probably because <em>Liquid</em> is caching your classes in development mode, the solution is to disable it in test and development modes:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="ruby"><span class="c1"># in config/environments/development.rb and config/environments/test.rb</span>
<span class="no">Liquid</span><span class="p">.</span><span class="nf">cache_classes</span> <span class="o">=</span> <span class="kp">false</span></code></pre></div> </div> </div> </div> </div> </main> </div> <footer id="exception_container" class="container-fluid no-padding"></footer> <footer id="footer_uno" class="active_footer"></footer> <script> $(function() { var settings = $.extend({}, {"tts": "false", "layout": "page", "title": "Liquid", "tagline": "Template Engine for Jekyll and J1 Template", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { var settings = $.extend({}, {"tts": "false", "layout": "page", "title": "Liquid", "tagline": "Template Engine for Jekyll and J1 Template", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.speak2me.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.logger.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { var settings = $.extend({}, {"slides":[{"url":"/assets/images/modules/attics/jeshoots-1-1920x1280.jpg", "alt":"Photo by JESHOOTS.COM on Unsplash", "badge":{"type":"unsplash", "author":"JESHOOTS.COM", "href":"https://unsplash.com/@jeshoots"}}]}, {"layout": "page", "title": "Liquid", "tagline": "Template Engine for Jekyll and J1 Template", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.attic.init (settings); }); </script> <script> $(function() { j1.adapter.navigator.init(); }); </script> <script> $(function() { j1.adapter.mmenu.init(); }); </script> <script> $(function() { j1.adapter.themer.init(); }); </script> <script> $(function() { var settings = $.extend({}, {"tts": "false", "layout": "page", "title": "Liquid", "tagline": "Template Engine for Jekyll and J1 Template", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.toccer.init (settings); }); </script> <script> $(function() { j1.adapter.cookieConsent.init(); }); </script> <script> $(function() { j1.adapter.lunr.init(); }); </script> <script> $(function() { var settings = $.extend({}, {"tts": "false", "layout": "page", "title": "Liquid", "tagline": "Template Engine for Jekyll and J1 Template", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.fab.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.rtable.init(); }); </script> <script> $(function() { j1.adapter.asciidoctor.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.translator.init(); }); </script> <script> $(function() { j1.adapter.analytics.init(); }); </script> <script> $(function() { j1.adapter.rouge.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { var settings = $.extend({}, {"tts": "false", "layout": "page", "title": "Liquid", "tagline": "Template Engine for Jekyll and J1 Template", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.lightbox.init (settings); }); </script> <script> $(function() { j1.adapter.clipboard.init(); }); </script> <script> $(function() { j1.adapter.themeToggler.init(); }); </script> <script> $(function() { j1.adapter.lazyLoader.init(); }); </script> <script> $(function() { j1.adapter.chat.init(); }); </script> </div> <div id="bg-primary" class="bg-primary" style="display: none"></div> <div id="fab-container"></div> <script> $(function() { var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')); var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) { return new bootstrap.Tooltip(tooltipTriggerEl) }); var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')); var popoverList = popoverTriggerList.map(function (popoverTriggerEl) { return new bootstrap.Popover(popoverTriggerEl) }); }); </script> </body> </html>