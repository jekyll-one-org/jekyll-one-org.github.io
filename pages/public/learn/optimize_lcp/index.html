<!DOCTYPE html> <html lang="en"> <head data-proofer-ignore> <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="template version" content="2023.3.5"> <link rel="icon" type="image/ico" href="/assets/images/icons/j1/favicon.ico"> <link rel="shortcut icon" href="/assets/images/icons/j1/favicon.ico"> <meta name="robots" content="index"> <meta name="robots" content="follow"> <meta name="analytics" content="false"> <meta name="comments" content="false"> <meta name="advertising" content="false"> <meta name="translation" content="false"> <meta name="youtube" content="true"> <meta name="vimeo" content="true"> <meta name="personalization" content="false"> <link rel="dns-prefetch" href="https://bootswatch.com"> <link rel="preconnect" href="https://bootswatch.com"> <title>Optimize LCP | Starter</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Optimize LCP" /> <meta name="author" content="Juergen Adams" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Optimizing the user experience you offer on your website is essential for the success of any online business. Google does use different user experience-related metrics to rank web pages for SEO and has continued to provide multiple tools to measure and improve web performance." /> <meta property="og:description" content="Optimizing the user experience you offer on your website is essential for the success of any online business. Google does use different user experience-related metrics to rank web pages for SEO and has continued to provide multiple tools to measure and improve web performance." /> <meta property="twitter:description" content="Optimizing the user experience you offer on your website is essential for the success of any online business. Google does use different user experience-related metrics to rank web pages for SEO and has continued to provide multiple tools to measure and improve web performance." /> <link rel="canonical" href="http://localhost:40000/pages/public/learn/optimize_lcp/" /> <meta property="og:url" content="http://localhost:40000/pages/public/learn/optimize_lcp/" /> <meta property="og:site_name" content="Starter" /> <meta property="og:image" content="http://localhost:40000/assets/images/modules/attics/1920x1280/alexander-redl.jpg" /> <meta property="og:image:height" content="1280" /> <meta property="og:image:width" content="1920" /> <meta property="og:image:alt" content="Photo by Alexander Redl on Unsplash" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2023-06-07T01:00:00+02:00" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="http://localhost:40000/assets/images/modules/attics/1920x1280/alexander-redl.jpg" /> <meta name="twitter:image:alt" content="Photo by Alexander Redl on Unsplash" /> <meta property="twitter:title" content="Optimize LCP" /> <meta name="twitter:site" content="@" /> <meta name="twitter:creator" content="@Juergen Adams" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Juergen Adams","url":"https://jekyll.one/"},"dateModified":"2023-06-07T01:00:00+02:00","datePublished":"2023-06-07T01:00:00+02:00","description":"Optimizing the user experience you offer on your website is essential for the success of any online business. Google does use different user experience-related metrics to rank web pages for SEO and has continued to provide multiple tools to measure and improve web performance.","headline":"Optimize LCP","image":{"width":1920,"height":1280,"alt":"Photo by Alexander Redl on Unsplash","url":"http://localhost:40000/assets/images/modules/attics/1920x1280/alexander-redl.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:40000/pages/public/learn/optimize_lcp/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:40000/assets/images/icons/j1/j1-512x512.png"},"name":"Juergen Adams"},"url":"http://localhost:40000/pages/public/learn/optimize_lcp/"}</script> <link rel="stylesheet" href="/assets/themes/j1/modules/spinner/css/spin.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/icon-fonts/mdi.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/icon-fonts/mdil.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/icon-fonts/fontawesome.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/themes/unolight/bootstrap.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/vendor.min.css"> <script src="/assets/themes/j1/adapter/js/j1.js"></script> <script src="/assets/themes/j1/modules/spinner/js/spin.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/jquery.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/extensions/hasClass.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/extensions/removeClass.min.js"></script> <script src="/assets/themes/j1/modules/popper/js/popper.min.js"></script> <script src="/assets/themes/j1/core/js/template.min.js"></script> <script src="/assets/themes/j1/modules/bootstrap/js/bootstrap.min.js"></script> <script src="/assets/themes/j1/adapter/js/bmd.js"></script> <script src="/assets/themes/j1/modules/bmd/js/bmd.min.js"></script> <script defer src="/assets/themes/j1/modules/gtag-opt-in/js/gtag-opt-in.min.js"></script> <script src="/assets/themes/j1/adapter/js/logger.js"></script> <script src="/assets/themes/j1/modules/log4javascript/js/log4javascript.min.js"></script> <script src="/assets/themes/j1/modules/backstretch/js/backstretch.min.js"></script> <script src="/assets/themes/j1/adapter/js/attic.js"></script> <script src="/assets/themes/j1/adapter/js/navigator.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/mmenuLight/css/mmenu-light.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/mmenuLight/css/theme/uno/mmenu.min.css"> <script defer src="/assets/themes/j1/adapter/js/mmenu.js"></script> <script defer src="/assets/themes/j1/modules/mmenuLight/js/mmenu.min.js"></script> <script src="/assets/themes/j1/adapter/js/themer.js"></script> <script src="/assets/themes/j1/adapter/js/toccer.js"></script> <script src="/assets/themes/j1/adapter/js/cookieConsent.js"></script> <script src="/assets/themes/j1/modules/cookieConsent/js/cookieConsent.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/lunr/css/j1.min.css"> <script src="/assets/themes/j1/adapter/js/lunr.js"></script> <script src="/assets/themes/j1/modules/lunr/js/lunr.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/mustache.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/dateformat.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/uri.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/j1.min.js"></script> <script defer src="/assets/themes/j1/modules/fab/js/cash.js"></script> <script defer src="/assets/themes/j1/modules/fab/js/fab.js"></script> <script defer src="/assets/themes/j1/adapter/js/fab.js"></script> <script src="/assets/themes/j1/modules/themeSwitcher/js/switcher.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/rtable/css/theme/uno/rtable.min.css"> <script src="/assets/themes/j1/adapter/js/rtable.js"></script> <script src="/assets/themes/j1/modules/rtable/js/rtable.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/asciidoctor.js"></script> <link rel="stylesheet" href="/assets/themes/j1/core/country-flags/css/theme/uno.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/msDropdown/css/themes/uno/msDropdown.css"> <script defer src="/assets/themes/j1/modules/msDropdown/js/msDropdown.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/translator/css/translator.min.css"> <script defer src="/assets/themes/j1/adapter/js/translator.js"></script> <script defer src="/assets/themes/j1/modules/translator/js/translator.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/analytics.js"></script> <link rel="stylesheet" href="/assets/themes/j1/core/css/animate.min.css"> <script defer src="/assets/themes/j1/adapter/js/waves.js"></script> </head> <body class="nomathjax"> <div id="no_flicker" style="overflow: hidden; display: none"> <nav id="navigator_nav_mmenu"></nav> <nav id="navigator_toc_mmenu"></nav> <nav id="navigator_sidebar_mmenu"></nav> <nav id="navigator_nav_navbar" class="navbar navigator navbar-expand-lg navbar-default d-flex light navbar-fixed navbar-transparent"> <a href="#" id="navbar-brand" class="navbar-brand link-no-decoration"> <img src="/assets/images/icons/j1/j1-512x512.png" style="height: 48px !important;" alt="Jekyll One"></a> <button id="mmenu-button" type="button" class="navigator navbar-toggler animated fadeIn" data-bs-toggle="collapse" data-bs-target="#navigator_nav_menu" aria-controls="navigator_nav_menu" aria-expanded="false" aria-label="Toggle navigation"> <i class="mdi mdi-menu mdi-36px"></i> </button> <div id="navigator_nav_menu" class="collapse"></div> <div id="navigator_nav_quicklinks" class="quicklink-nav collapse navbar-collapse justify-content-end pr-4"></div> </nav> <div id="authclient_modals" class="authclient_modals"></div> <div id="searchModal" class="modal fade top" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static"> <div class="modal-dialog modal-frame modal-top modal-notify modal-info" role="document"> <div class="modal-content"> <div class="modal-body"> <div id="navigator_nav_topsearch" class="top-search ml-4 mr-4"> <div class="bmd-form-group"> <div class="input-group"> <span class="input-group-addon"><i class="mdi mdi-magnify mdi-2x mb-2" style="color:#9E9E9E"></i></span> <input id="search-query" type="text" name="q" placeholder="Your search expression" autocomplete="off" class="form-control"> <span id="clear-topsearch" class="form-clear form-clear-searcher d-none" style="margin-top: 0.75rem"> <i class="mdi mdi-format-clear mdi-2x" style="color:#9E9E9E"></i> </span> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="margin-top: 24px;"></button> </div> </div> <div class="search-results hide-scrollbar mt-4"> <div id="search-results" style="display: none;"></div> </div> </div> </div> </div> </div> </div> <script id="search-results-template" type="text/mustache"> <ul style="list-style: none; margin-left: .5rem; margin-right: 4.25rem"> {{#docs}} <li> <h4 class="result-item"> <a class="link-no-decoration" href="{{url}}" target="_blank">{{title}} · {{tagline}}</a> </h4> <p class="result-item-text small text-muted mt-2 mb-0"> <i class="mdi mdi-calendar-blank mdi-18px mr-1"></i>{{displaydate}} </p> <p class="result-item-text">{{description}}</p> <p class="result-item-text small text-muted mb-3"> <i class="mdi mdi-tag-text-outline mdi-18px mr-1"></i><span class="sr-categories">{{#categories}} {{.}} · {{/categories}}</span> <i class="mdi mdi-tag mdi-18px mr-1 ml-2"></i><span class="sr-tags">{{#tags}} {{.}} · {{/tags}}</span> </p> </li> {{/docs}} </ul> </script> <header id="header"> <div id="attic_page" class="attic "> <div class="container textOverlay" style="display: none"> </div> <div class="attic-caption" style="display: none"></div> </div> </header> <div id="content" class="container mb-5"> <main id="main-content" class="r-text-300 js-toc-content"> <div class="paragraph dropcap"> <p>Optimizing the user experience you provide on your website is essential to the success of any online business. Google uses various user experience-related metrics to rank websites for SEO and continues to provide several tools to measure and improve web performance.</p> </div> <div class="paragraph"> <p>In its recent attempt to make measuring and understanding a good user experience easier, Google has standardized the site&#8217;s user experience metrics. These standardized metrics, called Core Web Vitals, help evaluate your website&#8217;s real-world user experience.</p> </div> <div class="sect1"> <h2 id="what-is-the-lcp-metric">What is the LCP metric</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Largest Contentful Paint or short <strong>LCP</strong> is one of the Core Web Vitals metrics that measure when the largest <strong>content element</strong> becomes <strong>visible</strong> in the browser. While other metrics like <strong>TTFB</strong> (time to first byte) and First Contentful Paint (<strong>FCP</strong>) also help measure page experience, they don&#8217;t indicate when the page has become <strong>meaningful</strong> to the user.</p> </div> <div class="paragraph"> <p>Typically, the page provides only a less context information to the user until the largest element becomes fully visible. LCP is, therefore, more representative of user expectations. As a Core Web Vital metric, LCP accounts for <strong>25%</strong> of the total performance ccore, making it one of the most important metrics to optimize a page.</p> </div> </div> </div> <div class="sect1"> <h2 id="checking-your-lcp-time">Checking Your LCP time</h2> <div class="sectionbody"> <div class="paragraph"> <p>As per Google, the types of elements considered for Largest Contentful Paint are:</p> </div> <div class="ulist"> <ul> <li> <p><code>&lt;img&gt;</code> elements</p> </li> <li> <p><code>&lt;image&gt;</code> elements inside an <code>&lt;svg&gt;</code> element</p> </li> <li> <p><code>&lt;video&gt;</code> elements (the poster image is used)</p> </li> <li> <p>An element with a background image loaded via the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/url">url()</a> function (as opposed to a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Images/Using_CSS_gradients">CSS</a>) gradient</p> </li> <li> <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements">Block-level</a> elements containing text nodes or other inline-level text elements.</p> </li> </ul> </div> <div class="paragraph"> <p>Now, there are multiple ways to measure the LCP of your page. The easiest ways to measure it online is available on <a href="https://imagekit.io/blog/improve-google-pagespeed-insights-score-for-images/?utm_source=css-tricks&amp;utm_medium=sponsored_content&amp;utm_campaign=csstricks_LCP" target="_blank" rel="noopener">PageSpeed Insights</a>.</p> </div> <div class="paragraph"> <p>Other Tools:</p> </div> <div class="ulist"> <ul> <li> <p>Google Chrome Developer Tools (Lighthouse)</p> </li> <li> <p>Search Console (Core Web Vitals Report)</p> </li> </ul> </div> <div class="paragraph"> <p>For example, <strong>Google PageSpeed Insights</strong> in its report indicates the element considered for calculating the LCP.</p> </div> <div class="imageblock"> <div class="content"> <img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/09/LCP_Image.jpg?resize=1601%2C1201&ssl=1" alt="image" width="558" height="419"> </div> </div> <div class="sect2"> <h3 id="what-is-a-good-lcp">What is a good LCP</h3> <div class="paragraph"> <p>To provide a good user experience, you should strive to have a Largest Contentful Paint of <strong>2.5 seconds</strong> or less on your website. A majority of your page loads should be happening under this threshold.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="how-to-optimize-lcp">How to optimize LCP</h2> <div class="sectionbody"> <div class="paragraph"> <p>Now that you know what is LCP and what our target should be let’s look at ways to improve LCP on our website. The underlying principle of reducing LCP in all of the techniques mentioned below is to reduce the data downloaded on the user’s device and reduce the time it takes to send and execute that content.</p> </div> <div class="sect2"> <h3 id="optimize-your-images">Optimize your images</h3> <div class="paragraph"> <p>On most websites, the above-the-fold content usually contains a large image which gets considered for LCP. It could either be a hero image, a banner, or a carousel. It is, therefore, crucial that you optimize these images for a better LCP.</p> </div> <div class="imageblock"> <div class="content"> <img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/09/optimised-vs-unoptimised.jpeg?resize=1600%2C681&ssl=1" alt="image" width="1600" height="681"> </div> </div> <div class="paragraph"> <p>To optimize your images, you should use a third-party image CDN like ImageKit.io. The advantage of using a third-party <a href="https://imagekit.io/blog/what-is-image-cdn-guide/?utm_source=css-tricks&amp;utm_medium=sponsored_content&amp;utm_campaign=csstricks_LCP" target="_blank" rel="noopener">image CDN</a> is that you can focus on your actual business and leave image optimization to the image CDN.</p> </div> <div class="paragraph"> <p>The image CDN would stay at the edge of technology evolution, and you always get the best possible features with minimum ongoing investment.</p> </div> <div class="paragraph"> <p>ImageKit is a complete real-time image CDN that integrates with any existing cloud storage like AWS S3, Azure, Google Cloud Storage, etc. It even comes with its integrated image storage and manager called the Media Library.</p> </div> <div class="paragraph"> <p>Here is how ImageKit can help you improve your LCP score.</p> </div> </div> <div class="sect2"> <h3 id="deliver-your-images-in-lighter-formats">Deliver your images in lighter formats</h3> <div class="paragraph"> <p>ImageKit detects if the user’s browser supports modern lighter formats like WebP or AVIF and automatically delivers the image in the lightest possible format in real-time. Formats like WebP are over 30% lighter compared to their JPEG equivalents.</p> </div> <div class="imageblock"> <div class="content"> <img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/09/webp_jpg_image_size_comparison.jpeg?resize=1200%2C691&ssl=1" alt="image" width="1200" height="691"> </div> </div> </div> <div class="sect2"> <h3 id="automatically-compress-your-images">Automatically compress your images</h3> <div class="paragraph"> <p>Not just converting the image to the correct format, ImageKit also compresses your image to a smaller size. In doing so, it balances the image’s visual quality and the output size.</p> </div> <div class="paragraph"> <p>You get the option to alter the compression level (or quality) in real-time by just changing a URL parameter, thereby balancing your business requirements of visual quality and load time.</p> </div> <div class="imageblock"> <div class="content"> <img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/09/image-compression-comparison_quality.jpeg?resize=1750%2C860&ssl=1" alt="image" width="1750" height="860"> </div> </div> </div> <div class="sect2"> <h3 id="provide-real-time-transformations-for-responsive-images">Provide real-time transformations for responsive images</h3> <div class="paragraph"> <p>Google uses mobile-first indexing for almost all websites. It is therefore essential to optimize LCP for mobile more than that for desktop. Every image needs to be scaled down to as per the layout’s requirement.</p> </div> <div class="paragraph"> <p>For example, you would need the image in a smaller size on the product listing page and a larger size on the product detail page. This resizing ensures that you are not sending any additional bytes than what is required for that particular page.</p> </div> <div class="paragraph"> <p>ImageKit allows you to transform <a href="https://imagekit.io/responsive-images/?utm_source=css-tricks&amp;utm_medium=sponsored_content&amp;utm_campaign=csstricks_LCP" target="_blank" rel="noopener">responsive images</a> in real-time just by adding the corresponding transformation in the image URL. For example, the following image is resized to width 200px and height 300px by adding the height and width transformation parameters in its URL.</p> </div> <div class="imageblock"> <div class="content"> <img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/09/eiffel-tower-example_200400.jpg?resize=200%2C400&ssl=1" alt="image" width="200" height="400"> </div> </div> </div> <div class="sect2"> <h3 id="cache-images-and-improve-delivery-time">Cache images and improve delivery time</h3> <div class="paragraph"> <p>Image CDNs use a global <a href="https://imagekit.io/blog/what-is-content-delivery-network-cdn-guide/?utm_source=css-tricks&amp;utm_medium=sponsored_content&amp;utm_campaign=csstricks_LCP" target="_blank" rel="noopener">Content Delivery Network</a> (CDN) to deliver the images. Using a CDN ensures that images load from a location closer to the user instead of your server, which could be halfway across the globe.</p> </div> <div class="imageblock"> <div class="content"> <img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/09/CDN_server_user.jpg?resize=702%2C250&ssl=1" alt="image" width="702" height="250"> </div> </div> <div class="paragraph"> <p>ImageKit, for example, uses AWS Cloudfront as its CDN, which has over 220 deliver nodes globally. A vast majority of the images get loaded in less than 50ms. Additionally, it uses the proper caching directives to cache the images on the user’s device, CDN nodes, and even its processing network for a faster load time.</p> </div> <div class="paragraph"> <p>This helps to improve LCP on your website.</p> </div> </div> <div class="sect2"> <h3 id="preload-critical-resources">Preload critical resources</h3> <div class="paragraph"> <p>There are certain cases where the browser may not prioritize loading a visually important resource that impacts LCP. For example, a banner image above the fold could be specified as a background image inside a CSS file. Since the browser would never know about this image until the CSS file is downloaded and parsed along with the DOM tree, it will not prioritize loading it.</p> </div> <div class="paragraph"> <p>For such resources, you can preload them by adding a <code>&lt;link&gt;</code> tag with a <code>rel= "preload"</code> attribute to the head section of your HTML document.</p> </div> <div class="listingblock"> <div class="content">class="rouge highlight"><code data-lang="wp-block-csstricks-code-block"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre>&lt;!-- Example of preloading --&gt;
&lt;link rel="preload" src="banner_image.jpg" /&gt;
</pre></div> </div> <div class="paragraph"> <p>While you can preload multiple resources in a document, you should always restrict it to above-the-fold images or videos, page-wide font files, or critical CSS and JS files.</p> </div> </div> <div class="sect2"> <h3 id="reduce-server-response-times">Reduce server response times</h3> <div class="paragraph"> <p>If your server takes long to respond to a request, then the time it takes to render the page on the screen also goes up. It, therefore, negatively affects every page speed metric, including LCP. To improve your server response times, here is what you should do.</p> </div> </div> <div class="sect2"> <h3 id="analyze-and-optimize-your-servers">Analyze and optimize your servers</h3> <div class="paragraph"> <p>A lot of computation, DB queries, and page construction happens on the server. You should analyze the requests going to your servers and identify the possible bottlenecks for responding to the requests. It could be a DB query slowing things down or the building of the page on your server.</p> </div> <div class="paragraph"> <p>You can apply best practices like caching of DB responses, pre-rendering of pages, amongst others, to reduce the time it takes for your server to respond to requests.</p> </div> <div class="paragraph"> <p>Of course, if the above does not improve the response time, you might need to increase your server capacity to handle the number of requests coming in.</p> </div> </div> <div class="sect2"> <h3 id="use-a-content-delivery-network">Use a Content Delivery Network</h3> <div class="paragraph"> <p>We have already seen above that using an image CDN like ImageKit improves the loading time for your images. Your users get the content delivered from a CDN node close to their location in milliseconds.</p> </div> <div class="imageblock"> <div class="content"> <img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/09/with-cdn.jpg?resize=452%2C250&ssl=1" alt="image" width="452" height="250"> </div> </div> <div class="paragraph"> <p>You should extend the same to other content on your website. Using a CDN for your static content like JS, CSS, and font files will significantly speed up their load time. ImageKit does support the delivery of static content through its systems.</p> </div> <div class="paragraph"> <p>You can also try to use a CDN for your HTML and APIs to cache those responses on the CDN nodes. Given the dynamic nature of such content, using a CDN for HTML or APIs can be a lot more complex than using a CDN for static content.</p> </div> </div> <div class="sect2"> <h3 id="preconnect-to-third-party-origins">Preconnect to third-party origins</h3> <div class="paragraph"> <p>If you use third-party domains to deliver critical above-the-fold content like JS, CSS, or images, then you would benefit by indicating to the browser that a connection to that third-party domain needs to be made as soon as possible. This is done using the <code>rel="preconnect"</code> attribute of the <code>&lt;link&gt;</code> tag.</p> </div> <div class="listingblock"> <div class="content">class="rouge highlight"><code data-lang="wp-block-csstricks-code-block"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">1
</pre></td><td class="code"><pre>&lt;link rel="preconnect" href="https://static.example.com" /&gt;
</pre></div> </div> <div class="paragraph"> <p>With <code>preconnect</code> in place, the browser can save the domain connection time when it downloads the actual resource later.</p> </div> <div class="paragraph"> <p>Subdomains like static.example.com, of your main website domain example.com are also third-party domains in this context.</p> </div> <div class="paragraph"> <p>You can also use the <em>dns-prefetch</em> as a fallback in browsers that don’t support preconnect. This directive instructs the browser to complete the DNS resolution to the third-party domain even if it cannot establish a proper connection.</p> </div> </div> <div class="sect2"> <h3 id="serve-content-cache-first-using-a-service-worker">Serve content cache-first using a Service Worker</h3> <div class="paragraph"> <p>Service workers can intercept requests originating from the user’s browser and serve cached responses for the same. This allows us to cache static assets and HTML responses on the user’s device and serve them without going to the network.</p> </div> <div class="paragraph"> <p>While the service worker cache serves the same purpose as the HTTP or browser cache, it offers fine-grained control and can work even if the user is offline. You can also use service workers to serve precached content from the cache to users on slow network speeds, thereby bringing down LCP time.</p> </div> </div> <div class="sect2"> <h3 id="compress-text-files">Compress text files</h3> <div class="paragraph"> <p>Any text-based data you load on your webpage should be compressed when transferred over the network using a compression algorithm like gzip or Brotli. SVGs, JSONs, API responses, JS and CSS files, and your main page’s HTML are good candidates for compression using these algorithms. This compression significantly reduces the amount of data that will get downloaded on page load, therefore bringing down the LCP.</p> </div> </div> <div class="sect2"> <h3 id="remove-render-blocking-resources">Remove render-blocking resources</h3> <div class="paragraph"> <p>When the browser receives the HTML page from your server, it parses the DOM tree. If there is any external stylesheet or JS file in the DOM, the browser has to pause for them before moving ahead with the parsing of the remaining DOM tree.</p> </div> <div class="paragraph"> <p>These JS and CSS files are called render-blocking resources and delay the LCP time. Here are some ways to reduce the blocking time for JS and CSS files:</p> </div> </div> <div class="sect2"> <h3 id="do-not-load-unnecessary-bundles">Do not load unnecessary bundles</h3> <div class="paragraph"> <p>Avoid shipping huge bundles of JS and CSS files to the browser if they are not needed. If the CSS can be downloaded a lot later, or a JS functionality is not needed on a particular page, there is no reason to load it up front and block the render in the browser.</p> </div> <div class="paragraph"> <p>Suppose you cannot split a particular file into smaller bundles, but it is not critical to the functioning of the page either. In that case, you can use the defer attribute of the script tag to indicate to the browser that it can go ahead with the DOM parsing and continue to execute the JS file at a later stage. Adding the defer attribute removes any blocker for DOM parsing. The LCP, therefore, goes down.</p> </div> </div> <div class="sect2"> <h3 id="inline-critical-css">Inline critical CSS</h3> <div class="paragraph"> <p>Critical CSS comprises the style definitions needed for the DOM that appears in the first fold of your page. If the style definitions for this part of the page are inline, i.e., in each element’s <code>style</code> attribute, the browser has no dependency on the external CSS to style these elements. Therefore, it can render the page quickly, and the LCP goes down.</p> </div> </div> <div class="sect2"> <h3 id="minify-and-compress-the-content">Minify and compress the content</h3> <div class="paragraph"> <p>You should always minify the CSS and JS files before loading them in the browser. CSS and JS files contain whitespace to make them legible, but they are unnecessary for code execution. So, you can remove them, which reduces the file size on production. Smaller file size means that the files can load quickly, thereby reducing your LCP time.</p> </div> <div class="paragraph"> <p>Compression techniques, as discussed earlier, use data compression algorithms to bring down the file size delivered over the network. Gzip and Brotli are two compression algorithms. <a href="https://imagekit.io/blog/what-and-why-brotli-compression/?utm_source=css-tricks&amp;utm_medium=sponsored_content&amp;utm_campaign=csstricks_LCP" target="_blank" rel="noopener">Brotli compression</a> offers a superior compression ratio compared to Gzip and is now supported on all major browsers, servers, and CDNs.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="optimize-lcp-for-client-side-rendering">Optimize LCP for client-side rendering</h2> <div class="sectionbody"> <div class="paragraph"> <p>Any client-side rendered website requires a considerable amount of Javascript to load in the browser. If you do not optimize the Javascript sent to the browser, then the user may not see or be able to interact with any content on the page until the Javascript has been downloaded and executed.</p> </div> <div class="paragraph"> <p>We discussed a few JS-related optimizations above, like optimizing the bundles sent to the browser and compressing the content. There are a couple of more things you can do to optimize the rendering on client devices.</p> </div> <div class="sect2"> <h3 id="using-server-side-rendering">Using server-side rendering</h3> <div class="paragraph"> <p>Instead of shipping the entire JS to the client-side and doing all the rendering there, you can generate the page dynamically on the server and then send it to the client’s device. This would increase the time it takes to generate the page, but it will decrease the time it takes to make a page active in the browser.</p> </div> <div class="paragraph"> <p>However, maintaining both client-side and server-side frameworks for the same page can be time-consuming.</p> </div> </div> <div class="sect2"> <h3 id="using-pre-rendering">Using pre-rendering</h3> <div class="paragraph"> <p>Pre-rendering is a different technique where a headless browser mimics a regular user’s request and gets the server to render the page. This rendered page is stored during the build cycle once, and then every subsequent request uses that pre-rendered page without any computation on the server, resulting in a fast load time.</p> </div> <div class="paragraph"> <p>This improves the TTFB compared to server-side rendering because the page is prepared beforehand. But the time to interactive might still take a hit as it has to wait for the JS to download for the page to become interactive. Also, since this technique requires pre-rendering of pages, it may not be scalable if you have a large number of pages.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="conclusion">Conclusion</h2> <div class="sectionbody"> <div class="paragraph"> <p>Core Web Vitals, which include LCP, have become a significant search ranking factor and strongly correlate with the user experience. Therefore, if you run an online business, you should optimize these vitals to ensure the success of the same.</p> </div> <div class="paragraph"> <p>The above techniques have a significant impact on optimizing LCP. Using ImageKit as your image CDN will give you a quick headstart.</p> </div> <div class="paragraph"> <p><a href="https://imagekit.io/registration/?utm_source=css-tricks&amp;utm_medium=sponsored_content&amp;utm_campaign=csstricks_LCP" target="_blank" rel="noopener">Sign-up for an forever free account</a>, upload your images to the ImageKit storage, or connect your origin, and start delivering optimized images in minutes.</p> </div> </div> </div> </main> </div> <footer id="exception_container" class="container-fluid no-padding"></footer> <footer id="j1_footer" class=""></footer> <script> $(function() { var settings = $.extend({}, {"layout": "page", "title": "Optimize LCP", "tagline": "Improve the user experience", "fab_menu_id": "default", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.bmd.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.logger.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { var settings = $.extend({}, {"slides":[{"url":"/assets/images/modules/attics/1920x1280/alexander-redl.jpg", "alt":"Photo by Alexander Redl on Unsplash", "badge":{"type":"unsplash", "author":"Alexander Redl", "href":"https://unsplash.com/@alexanderredl"}}]}, {"layout": "page", "title": "Optimize LCP", "tagline": "Improve the user experience", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.attic.init (settings); }); </script> <script> $(function() { j1.adapter.navigator.init(); }); </script> <script> $(function() { j1.adapter.mmenu.init(); }); </script> <script> $(function() { j1.adapter.themer.init(); }); </script> <script> $(function() { var settings = $.extend({}, {"layout": "page", "title": "Optimize LCP", "tagline": "Improve the user experience", "fab_menu_id": "default", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.toccer.init (settings); }); </script> <script> $(function() { j1.adapter.cookieConsent.init(); }); </script> <script> $(function() { j1.adapter.lunr.init(); }); </script> <script> $(function() { var settings = $.extend({}, {"layout": "page", "title": "Optimize LCP", "tagline": "Improve the user experience", "fab_menu_id": "default", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.fab.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.rtable.init(); }); </script> <script> $(function() { j1.adapter.asciidoctor.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.translator.init(); }); </script> <script> $(function() { j1.adapter.analytics.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.waves.init(); }); </script> </div> <div id="bg-primary" class="bg-primary" style="display: none"></div> <div id="fab-container"></div> <script> $(function() { var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')); var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) { return new bootstrap.Tooltip(tooltipTriggerEl) }); var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')); var popoverList = popoverTriggerList.map(function (popoverTriggerEl) { return new bootstrap.Popover(popoverTriggerEl) }); }); </script> </body> </html>