<!DOCTYPE html> <html lang="en"> <head data-proofer-ignore> <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="keywords" content="open source, free, template, jekyll, jekyllone, web, sites, static, jamstack, bootstrap "> <link rel="icon" type="image/ico" href="/assets/images/icons/j1/favicon.ico"> <link rel="shortcut icon" href="/assets/images/icons/j1/favicon.ico"> <link rel="canonical" href="https://jekyll.one/pages/public/manuals/modules/iframer/"> <meta name="robots" content="index"> <meta name="robots" content="follow"> <meta name="analytics" content="false"> <meta name="comments" content="false"> <meta name="advertising" content="false"> <meta name="translation" content="false"> <meta name="youtube" content="true"> <meta name="vimeo" content="true"> <meta name="personalization" content="false"> <link rel="dns-prefetch" href="https://bootswatch.com"> <link rel="preconnect" href="https://bootswatch.com"> <meta name="generator" content="Jekyll v4.3.2"> <meta name="builder" content="J1 Template v2024.0.0"> <title>iFramer - Magic HTML iFrames</title> <meta property="og:title" content="iFramer - Magic HTML iFrames"> <meta name="author" content="Juergen Adams"> <meta property="og:locale" content="en_US"> <meta name="description" content="The iframeResizer library enables the automatic resizing of the height and width of both same and cross domain iFrames to fit their contained content. It provides a wide range of features to address the most common issues with using."> <meta property="og:description" content="The iframeResizer library enables the automatic resizing of the height and width of both same and cross domain iFrames to fit their contained content. It provides a wide range of features to address the most common issues with using."> <meta property="twitter:description" content="The iframeResizer library enables the automatic resizing of the height and width of both same and cross domain iFrames to fit their contained content. It provides a wide range of features to address the most common issues with using."> <meta property="og:url" content="https://jekyll.one/pages/public/manuals/modules/iframer/"> <meta property="og:site_name" content="Jekyll One"> <meta property="og:image" content="https://jekyll.one/assets/images/modules/attics/jessica-ruscello-1920x1280.jpg"> <meta property="og:image:height" content="1280"> <meta property="og:image:width" content="1920"> <meta property="og:type" content="article"> <meta property="article:published_time" content="2022-08-14T00:00:00+01:00"> <meta name="twitter:card" content="summary_large_image"> <meta property="twitter:image" content="https://jekyll.one/assets/images/modules/attics/jessica-ruscello-1920x1280.jpg"> <meta property="twitter:title" content="iFramer"> <meta name="twitter:site" content="https://jekyll.one/pages/public/manuals/modules/iframer/"> <meta name="twitter:creator" content="@Juergen Adams"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Juergen Adams","url":"https://jekyll.one/"},"dateModified":"2023-11-04T20:31:16+01:00","datePublished":"2022-08-14T00:00:00+01:00","description":"The iframeResizer library enables the automatic resizing of the height and width of both same and cross domain iFrames to fit their contained content. It provides a wide range of features to address the most common issues with using.","headline":"iFramer","image":{"width":1920,"height":1280,"url":"https://jekyll.one/assets/images/modules/attics/jessica-ruscello-1920x1280.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jekyll.one/pages/public/manuals/modules/iframer/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://jekyll.one/assets/images/icons/j1/j1-512x512.png"},"name":"Juergen Adams"},"url":"https://jekyll.one/pages/public/manuals/modules/iframer/"}</script> <link rel="stylesheet" href="/assets/themes/j1/core/css/themes/unolight/bootstrap.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/icon-fonts/mdib.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/vendor.min.css"> <script src="/assets/themes/j1/adapter/js/j1.js"></script> <script src="/assets/themes/j1/modules/jquery/js/jquery.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/extensions/hasClass.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/extensions/removeClass.min.js"></script> <script src="/assets/themes/j1/modules/popper/js/popper.min.js"></script> <script src="/assets/themes/j1/core/js/template.min.js"></script> <script src="/assets/themes/j1/modules/bootstrap/js/bootstrap.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/speak2me.js"></script> <script defer src="/assets/themes/j1/modules/gtag-opt-in/js/gtag-opt-in.min.js"></script> <script src="/assets/themes/j1/adapter/js/logger.js"></script> <script src="/assets/themes/j1/modules/log4javascript/js/log4javascript.min.js"></script> <script src="/assets/themes/j1/modules/backstretch/js/backstretch.min.js"></script> <script src="/assets/themes/j1/adapter/js/attic.js"></script> <script src="/assets/themes/j1/adapter/js/navigator.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/mmenuLight/css/mmenu-light.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/mmenuLight/css/theme/uno/mmenu.min.css"> <script defer src="/assets/themes/j1/adapter/js/mmenu.js"></script> <script defer src="/assets/themes/j1/modules/mmenuLight/js/mmenu.min.js"></script> <script src="/assets/themes/j1/adapter/js/themer.js"></script> <script src="/assets/themes/j1/adapter/js/toccer.js"></script> <script src="/assets/themes/j1/adapter/js/cookieConsent.js"></script> <script src="/assets/themes/j1/modules/cookieConsent/js/cookieConsent.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/lunr/css/j1.min.css"> <script src="/assets/themes/j1/adapter/js/lunr.js"></script> <script src="/assets/themes/j1/modules/lunr/js/lunr.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/mustache.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/dateformat.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/uri.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/j1.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/fab.js"></script> <script defer src="/assets/themes/j1/modules/fab/js/cash.min.js"></script> <script defer src="/assets/themes/j1/modules/fab/js/fab.min.js"></script> <script src="/assets/themes/j1/modules/themeSwitcher/js/switcher.min.js"></script> <script src="/assets/themes/j1/adapter/js/rtable.js"></script> <script src="/assets/themes/j1/modules/rtable/js/rtable.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/asciidoctor.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/msDropdown/css/themes/uno/msDropdown.min.css"> <script defer src="/assets/themes/j1/modules/msDropdown/js/msDropdown.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/translator/css/translator.min.css"> <script defer src="/assets/themes/j1/adapter/js/translator.js"></script> <script defer src="/assets/themes/j1/modules/translator/js/translator.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/analytics.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/rouge/css/base16/theme.css"> <script defer src="/assets/themes/j1/adapter/js/rouge.js"></script> <link rel="stylesheet" href="/assets/themes/j1/core/css/animate.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/clipboard/css/theme/uno.min.css"> <script defer src="/assets/themes/j1/adapter/js/clipboard.js"></script> <script defer src="/assets/themes/j1/modules/clipboard/js/clipboard.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/themeToggler.js"></script> <script defer src="/assets/themes/j1/adapter/js/lazyLoader.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/chat/css/theme/uno.min.css"> <script src="/assets/themes/j1/adapter/js/chat.js"></script> </head> <body class="nomathjax"> <div id="no_flicker" style="overflow: hidden; display: none"> <nav id="navigator_nav_mmenu"></nav> <nav id="navigator_toc_mmenu"></nav> <nav id="navigator_sidebar_mmenu"></nav> <nav id="navigator_nav_navbar" class="navbar navigator navbar-expand-lg navbar-default d-flex light navbar-fixed navbar-transparent"> <a href="#" id="navbar-brand" class="navbar-brand link-no-decoration"> <img src="/assets/images/icons/j1/j1-512x512.png" style="height: 48px !important;" alt="Jekyll One"></a> <button id="mmenu-button" type="button" class="navigator navbar-toggler animated fadeIn" data-bs-toggle="collapse" data-bs-target="#navigator_nav_menu" aria-controls="navigator_nav_menu" aria-expanded="false" aria-label="Toggle navigation"> <i class="mdib mdib-menu mdib-36px"></i> </button> <div id="navigator_nav_menu" class="collapse"></div> <div id="navigator_nav_quicklinks" class="quicklink-nav collapse navbar-collapse justify-content-end pr-4"></div> </nav> <div id="authclient_modals" class="authclient_modals"></div> <div id="searchModal" class="modal fade top" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static"> <div class="modal-dialog modal-frame modal-top modal-notify modal-info" role="document"> <div class="modal-content"> <div class="modal-body"> <div id="navigator_nav_topsearch" class="top-search ml-4 mr-4"> <div class="bmd-form-group"> <div class="input-group"> <span class="input-group-addon"><i class="mdib mdib-magnify mdib-2x mb-2" style="color:#9E9E9E"></i></span> <input id="search-query" type="text" name="q" placeholder="Your search expression" autocomplete="off" class="form-control"> <span id="clear-topsearch" class="form-clear form-clear-searcher d-none" style="margin-top: 1.15rem"> <i class="mdib mdib-format-clear mdib-24px" style="color:#9E9E9E"></i> </span> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="margin-top: 24px;"></button> </div> </div> <div class="search-results hide-scrollbar mt-4"> <div id="search-results" style="display: none;"></div> </div> </div> </div> </div> </div> </div> <script id="search-results-template" type="text/mustache"> <ul style="list-style: none; margin-left: .5rem; margin-right: 4.25rem"> {{#docs}} <li> <h4 class="result-item"> <a class="link-no-decoration" href="{{url}}" target="_blank">{{title}} · {{tagline}}</a> </h4> <p class="result-item-text small text-muted mt-2 mb-0"> <i class="mdib mdib-calendar-blank mdib-18px mr-1"></i>{{displaydate}} </p> <p class="result-item-text">{{description}}</p> <p class="result-item-text small text-muted mb-3"> <i class="mdib mdib-tag-text-outline mdib-18px mr-1"></i><span class="sr-categories">{{#categories}} {{.}} · {{/categories}}</span> <i class="mdib mdib-tag mdib-18px mr-1 ml-2"></i><span class="sr-tags">{{#tags}} {{.}} · {{/tags}}</span> </p> </li> {{/docs}} </ul> </script> <header id="header"> <div id="attic_page" class="attic "> <div class="container textOverlay" style="display: none"> </div> <div class="attic-caption" style="display: none"></div> </div> </header> <div id="content" class="container mb-5"> <main id="main-content" class="r-text-300 js-toc-content"> <div class="paragraph dropcap"> <p>The iframeResizer library enables automatic resizing for iFrames of the height, the width or both to fit their contained content on same and cross domain.</p> </div> <div class="paragraph"> <p>The library provides a wide range of features to address the most common issues using iFrames on webpages which includes:</p> </div> <div class="ulist"> <ul> <li> <p>Height and width resizing of the iFrame to content size</p> </li> <li> <p>Works with multiple and nested iFrames</p> </li> <li> <p>Domain authentication for cross domain iFrames</p> </li> <li> <p>Provides a range of page size calculation methods to support complex CSS layouts</p> </li> <li> <p>Detects changes to the DOM that can cause the page to resize using MutationObserver</p> </li> <li> <p>Detects events that can cause the page to resize (Window Resize, CSS Animation and Transition, Orientation Change and Mouse events)</p> </li> <li> <p>Simplified messaging between iFrame and host page via postMessage</p> </li> <li> <p>Fixes in page links in iFrame and supports links between the iFrame and parent page</p> </li> <li> <p>Provides custom sizing and scrolling methods</p> </li> <li> <p>Exposes parent position and viewport size to the iFrame</p> </li> <li> <p>Provides onMouseEnter and onMouseLeave events for the iFrame</p> </li> <li> <p>Works with ViewerJS to support PDF and ODF documents</p> </li> </ul> </div> <div class="sect1 mt-5"> <h2 id="j1-integration">J1 Integration</h2> <div class="sectionbody"> <div class="paragraph"> <p>Aut perferendis consequatur voluptas voluptatem pariatur nam ut a sint. Ducimus sapiente odio error. Cupiditate ex autem et rerum aut asperiores nam culpa. Omnis quam temporibus et sed. Saepe et necessitatibus corrupti consectetur autem quia ipsa esse repellat et aut quia fugit laborum.</p> </div> <div class="paragraph"> <p>Illum porro sapiente veniam ut adipisci aspernatur quia ipsam consequatur et. Sed in vel ut inventore illo odio corporis. Aut voluptas cumque modi cum similique architecto beatae voluptatem.</p> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="manual-setup">Manual Setup</h2> <div class="sectionbody"> <div class="paragraph"> <p>The package contains two (minified) JavaScript files in the folder <code>~/assets/themes/j1/modules/iframeResizer/js</code>. The JS file <code>iframeResizer.js</code> is for the page hosting the iFrames.</p> </div> <div class="paragraph"> <p>It can be called with via JavaScript:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">const</span> <span class="nx">iframes</span> <span class="o">=</span> <span class="nf">iFrameResize</span><span class="p">(</span> <span class="p">[{</span><span class="nx">options</span><span class="p">}],</span> <span class="p">[</span><span class="nx">css</span> <span class="nx">selector</span><span class="p">]</span> <span class="o">||</span> <span class="p">[</span><span class="nx">iframe</span><span class="p">]</span> <span class="p">);</span></code></pre></div> </div> <div class="paragraph"> <p>The second JS file <code>client/iframeResizer.contentWindow.js</code> needs placing in the page(s) contained within your iFrame. This file is designed to be a guest on someone else’s system, so has no dependencies and won’t do anything until it’s activated by a message from the containing page.</p> </div> <div class="sect2 mt-4"> <h3 id="typical-setup">Typical setup</h3> <div class="paragraph"> <p>The normal configuration is to have the iFrame resize when the browser window changes size or the content of the iFrame changes. To set this up you need to configure one of the dimensions of the iFrame to a percentage and tell the library to only update the other dimension. Normally you would set the width to 100% and have the height scale to fit the content.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;style&gt;</span>
  <span class="nt">iframe</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">1px</span><span class="p">;</span>
    <span class="nl">min-width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/assets/themes/j1/modules/iframeResizer/js/iframeResizer.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;iframe</span> <span class="na">id=</span><span class="s">"myIframe"</span> <span class="na">src=</span><span class="s">"http://anotherdomain.com/iframe.html"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nf">iFrameResize</span><span class="p">({</span>
      <span class="na">log</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="dl">'</span><span class="s1">#myIframe</span><span class="dl">'</span>
  <span class="p">)</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>Using <em>min-width</em> to set the width of the iFrame, works around an issue in iOS that can prevent the iFrame from sizing correctly.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p>In case of problems, check the <a href="#troubleshooting">Troubleshooting</a> section.</p> </div> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="parent-page-api">Parent Page API</h2> <div class="sectionbody"> <div class="paragraph"> <p>IFrame-Resizer provides an extensive range of options and APIs for both the parent page and the iframed page.</p> </div> <div class="sect2 mt-4"> <h3 id="options">Options</h3> <div class="paragraph"> <p>The following options can be passed to iframe-resizer on the parent page.</p> </div> <div class="sect3 mt-4"> <h4 id="log">log</h4> <div class="paragraph"> <p>Setting the <code>log</code> option to true will make the scripts in both the host page and the iFrame output everything they do to the JavaScript console so you can see the communication between the two scripts.</p> </div> <div class="literalblock"> <div class="content"><pre>default: false
type:    boolean</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="autoresize">autoResize</h4> <div class="paragraph"> <p>When enabled changes to the Window size or the DOM will cause the iFrame to resize to the new content size. Disable if using size method with custom dimensions.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>When set to false the iFrame will still inititally size to the contained content, only additional resizing events are disabled.</p> </div> </td> </tr> </table> </div> <div class="literalblock"> <div class="content"><pre>default: true
type:    boolean</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="bodybackground">bodyBackground</h4> <div class="paragraph"> <p>Override the body background style in the iFrame.</p> </div> <div class="literalblock"> <div class="content"><pre>default: null
type:    string</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="bodymargin">bodyMargin</h4> <div class="paragraph"> <p>Override the default body margin style in the iFrame. A string can be any valid value for the CSS margin attribute, for example `8px 3em'. A number value is converted into px.</p> </div> <div class="literalblock"> <div class="content"><pre>default: null
type:    string || number</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="bodypadding">bodyPadding</h4> <div class="paragraph"> <p>Override the default body padding style in the iFrame. A string can be any valid value for the CSS margin attribute, for example `8px 3em'. A number value is converted into px.</p> </div> <div class="literalblock"> <div class="content"><pre>default: null
type:    string || number</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="checkorigin">checkOrigin</h4> <div class="paragraph"> <p>When set to true, only allow incoming messages from the domain listed in the <code>src</code> property of the iFrame tag. If your iFrame navigates between different domains, ports or protocols; then you will need to provide an array of URLs or disable this option.</p> </div> <div class="literalblock"> <div class="content"><pre>default: true
type:    boolean || array</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="inpagelinks">inPageLinks</h4> <div class="paragraph"> <p>When enabled in page linking inside the iFrame and from the iFrame to the parent page will be enabled.</p> </div> <div class="literalblock"> <div class="content"><pre>default: false
type:    boolean</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="heightcalculationmethod">heightCalculationMethod</h4> <div class="paragraph"> <p>By default the height of the iFrame is calculated by converting the margin of the <code>body</code> to px and then adding the top and bottom figures to the offsetHeight of the <code>body</code> tag.</p> </div> <div class="paragraph"> <p>In cases where CSS styles causes the content to flow outside the <code>body</code> you may need to change this setting to one of the following options. Each can give different values depending on how CSS is used in the page and each has varying side-effects. You will need to experiment to see which is best for any particular circumstance.</p> </div> <div class="ulist"> <ul> <li> <p><strong>bodyOffset</strong> uses <code>document.body.offsetHeight</code></p> </li> <li> <p><strong>bodyScroll</strong> uses <code>document.body.scrollHeight</code> *</p> </li> <li> <p><strong>documentElementOffset</strong> uses <code>document.documentElement.offsetHeight</code></p> </li> <li> <p><strong>documentElementScroll</strong> uses <code>document.documentElement.scrollHeight</code> *</p> </li> <li> <p><strong>max</strong> takes the largest value of the main four options *</p> </li> <li> <p><strong>min</strong> takes the smallest value of the main four options *</p> </li> <li> <p><strong>lowestElement</strong> Loops though every element in the DOM and finds the lowest bottom point †</p> </li> <li> <p><strong>taggedElement</strong> Finds the bottom of the lowest element with a <code>data-iframe-height</code> attribute</p> </li> </ul> </div> <div class="literalblock"> <div class="content"><pre>default: 'bodyOffset'
values:  'bodyOffset' | 'bodyScroll' | 'documentElementOffset' | 'documentElementScroll' |
         'max' | 'min' | 'grow' | 'lowestElement' | 'taggedElement'</pre></div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>If the default option doesn’t work then the best solutions is to use either** taggedElement, <strong>or</strong> lowestElement*.* Alternatively it is possible to add your own custom sizing method directly inside the iFrame, see the <a href="../iframed_page/options.md">iFrame Page Options</a> section for more details.</p> </div> <div class="paragraph"> <p>The <strong>lowestElement</strong> option is the most reliable way of determining the page height. However, it does have a performance impact, as it requires checking the position of every element on the page. The <strong>taggedElement</strong> option provides much greater performance by limiting the number of elements that need their position checked.</p> </div> <div class="paragraph"> <p>These methods may cause screen flicker in some browsers.</p> </div> </td> </tr> </table> </div> </div> <div class="sect3 mt-4"> <h4 id="maxheight-maxwidth">maxHeight / maxWidth</h4> <div class="paragraph"> <p>Set maximum height/width of iFrame.</p> </div> <div class="literalblock"> <div class="content"><pre>default: infinity
type:    integer</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="minheight-minwidth">minHeight / minWidth</h4> <div class="paragraph"> <p>Set minimum height/width of iFrame.</p> </div> <div class="literalblock"> <div class="content"><pre>default: 0
type:    integer</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="resizefrom">resizeFrom</h4> <div class="paragraph"> <p>Listen for resize events from the parent page, or the iFrame. Select the `child' value if the iFrame can be resized independently of the browser window. Selecting this value can cause issues with some height calculation methods on mobile devices.</p> </div> <div class="literalblock"> <div class="content"><pre>default: 'parent'
values: 'parent', 'child'</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="scrolling">scrolling</h4> <div class="paragraph"> <p>Enable or disable scroll bars for the iFrame.</p> </div> <div class="ulist"> <ul> <li> <p><strong>true</strong> applies to <code>scrolling="yes"</code></p> </li> <li> <p><strong>false</strong> applies to <code>scrolling="no"</code></p> </li> </ul> </div> <div class="literalblock"> <div class="content"><pre>default: false
type:    boolean</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="sizeheight">sizeHeight</h4> <div class="paragraph"> <p>Resize iFrame to content height.</p> </div> <div class="literalblock"> <div class="content"><pre>default: true
type:    boolean</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="sizewidth">sizeWidth</h4> <div class="paragraph"> <p>Resize iFrame to content width.</p> </div> <div class="literalblock"> <div class="content"><pre>default: false
type:    boolean</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="tolerance">tolerance</h4> <div class="paragraph"> <p>Set the number of pixels the iFrame content size has to change by, before triggering a resize of the iFrame.</p> </div> <div class="literalblock"> <div class="content"><pre>default: 0
type:    integer</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="warningtimeout">warningTimeout</h4> <div class="paragraph"> <p>Set the number of milliseconds after which a warning is logged if the iFrame has not responded. Set to <code>0</code> to supress warning messages of this type.</p> </div> <div class="literalblock"> <div class="content"><pre>default: 5000
type:    integer</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="widthcalculationmethod">widthCalculationMethod</h4> <div class="paragraph"> <p>By default the width of the page is worked out by taking the greater of the <strong>documentElement</strong> and <strong>body</strong> scrollWidth values.</p> </div> <div class="paragraph"> <p>Some CSS techniques may require you to change this setting to one of the following options. Each can give different values depending on how CSS is used in the page and each has varying side-effects. You will need to experiment to see which is best for any particular circumstance.</p> </div> <div class="ulist"> <ul> <li> <p><strong>bodyOffset</strong> uses <code>document.body.offsetWidth</code></p> </li> <li> <p><strong>bodyScroll</strong> uses <code>document.body.scrollWidth</code> *</p> </li> <li> <p><strong>documentElementOffset</strong> uses <code>document.documentElement.offsetWidth</code></p> </li> <li> <p><strong>documentElementScroll</strong> uses <code>document.documentElement.scrollWidth</code> *</p> </li> <li> <p><strong>scroll</strong> takes the largest value of the two scroll options *</p> </li> <li> <p><strong>max</strong> takes the largest value of the main four options *</p> </li> <li> <p><strong>min</strong> takes the smallest value of the main four options *</p> </li> <li> <p><strong>rightMostElement</strong> Loops though every element in the DOM and finds the right most point †</p> </li> <li> <p><strong>taggedElement</strong> Finds the left most element with a <code>data-iframe-width</code> attribute</p> </li> </ul> </div> <div class="paragraph"> <p>Alternatively it is possible to add your own custom sizing method directly inside the iFrame, see the <a href="../iframed_page/options.md">iFrame Page Options</a> section for more details</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>The <strong>rightMostElement</strong> option is the most reliable way of determining the page width. However, it does have a performance impact as it requires calculating the position of every element on the page. The <strong>taggedElement</strong> option provides much greater performance by limiting the number of elements that need their position checked.</p> </div> <div class="paragraph"> <p>These methods can cause screen flicker in some browsers.</p> </div> </td> </tr> </table> </div> <div class="literalblock"> <div class="content"><pre>default: 'scroll'
values:  'bodyOffset' | 'bodyScroll' | 'documentElementOffset' | 'documentElementScroll' |
         'max' | 'min' | 'scroll' | 'rightMostElement' | 'taggedElement'</pre></div> </div> </div> </div> <div class="sect2 mt-5"> <h3 id="methods">Methods</h3> <div class="paragraph"> <p>Once the iFrame has been initialized, an <code>iFrameResizer</code> object is bound to it. This has the following methods available.</p> </div> <div class="sect3 mt-4"> <h4 id="close">close()</h4> <div class="paragraph"> <p>Remove the iFrame from the page.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="movetoanchoranchor">moveToAnchor(anchor)</h4> <div class="paragraph"> <p>Move to anchor in iFrame.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="removelisteners">removeListeners()</h4> <div class="paragraph"> <p>Detach event listeners from iFrame. This is option allows Virtual DOMs to remove an iFrame tag. It should not normally be required.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="resize">resize()</h4> <div class="paragraph"> <p>Tell the iFrame to resize itself.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="sendmessagemessage-targetorigin">sendMessage(message, [targetOrigin])</h4> <div class="paragraph"> <p>Send data to the containing page, <code>message</code> can be any data type that can be serialized into JSON. The <code>targetOrigin</code> option is used to restrict where the message is sent to, in case your iFrame navigates away to another domain.</p> </div> </div> </div> <div class="sect2 mt-5"> <h3 id="events">Events</h3> <div class="paragraph"> <p>The following callback events can be passed to iframe-resizer on the parent page, as part of the <a href="options.md">options</a> object.</p> </div> <div class="sect3 mt-4"> <h4 id="onclose">onClose</h4> <div class="paragraph"> <p>Called before iFrame is closed via <code>parentIFrame.close()</code> or <code>iframe.iFrameResizer.close()</code> methods. Returning <code>false</code> will prevent the iFrame from closing.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">onClose</span><span class="p">:</span> <span class="p">(</span><span class="nx">iframeID</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="onclosed">onClosed</h4> <div class="paragraph"> <p>Called after iFrame is closed via <code>parentIFrame.close()</code> or <code>iframe.iFrameResizer.close()</code> methods.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">onClosed</span><span class="p">:</span> <span class="p">(</span><span class="nx">iframeID</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="kc">undefined</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="oninit">onInit</h4> <div class="paragraph"> <p>Called after initial setup.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">onInit</span><span class="p">:</span> <span class="p">(</span><span class="nx">iframe</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="kc">undefined</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="onmessage">onMessage</h4> <div class="paragraph"> <p>Receive message posted from iFrame with the <code>parentIFrame.sendMessage()</code> method.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">onMessage</span><span class="p">:</span> <span class="p">({</span><span class="nx">iframe</span><span class="p">,</span><span class="nx">message</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="kc">undefined</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="onmouseenter">onMouseEnter</h4> <div class="paragraph"> <p>Function called after the mouse enters the iframe. Passes <code>messageData</code> object containing the <strong>iFrame</strong>, <strong>screenX</strong>, <strong>screenY</strong> and the <strong>type</strong> of event that triggered the callback.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">onMouseEnter</span><span class="p">:</span> <span class="p">({</span><span class="nx">iframe</span><span class="p">,</span><span class="nx">height</span><span class="p">,</span><span class="nx">width</span><span class="p">,</span><span class="nx">type</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="kc">undefined</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="onmouseleave">onMouseLeave</h4> <div class="paragraph"> <p>Function called after the mouse leaves the iframe. Passes <code>messageData</code> object containing the <strong>iFrame</strong>, <strong>screenX</strong>, <strong>screenY</strong> and the <strong>type</strong> of event that triggered the callback.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">onMouseLeave</span><span class="p">:</span> <span class="p">({</span><span class="nx">iframe</span><span class="p">,</span><span class="nx">height</span><span class="p">,</span><span class="nx">width</span><span class="p">,</span><span class="nx">type</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="kc">undefined</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="onresized">onResized</h4> <div class="paragraph"> <p>Function called after iFrame resized. Passes <code>messageData</code> object containing the <strong>iFrame</strong>, <strong>height</strong>, <strong>width</strong> and the <strong>type</strong> of event that triggered the iFrame to resize.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">onResized</span><span class="p">:</span> <span class="p">({</span><span class="nx">iframe</span><span class="p">,</span><span class="nx">height</span><span class="p">,</span><span class="nx">width</span><span class="p">,</span><span class="nx">type</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="kc">undefined</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="onscroll">onScroll</h4> <div class="paragraph"> <p>Called before the page is repositioned after a request from the iFrame, due to either an in page link, or a direct request from either <a href="../iframed_page/methods.md#scrolltoxy">parentIFrame.scrollTo()</a> or <a href="../iframed_page/methods.md#scrolltooffsetxy">parentIFrame.scrollToOffset()</a>. If this function returns <strong>false</strong>, it will stop the library from repositioning the page, so that you can implement your own animated page scrolling instead.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">onScroll</span><span class="p">:</span> <span class="p">({</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="p">]</span></code></pre></div> </div> </div> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="iframed-page-api">IFramed Page API</h2> <div class="sectionbody"> <div class="sect2 mt-4"> <h3 id="options-2">Options</h3> <div class="paragraph"> <p>The following options can be set from within the iFrame page by creating a <code>window.iFrameResizer</code> object before the JavaScript file is loaded into the page.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">iFrameResizer</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">targetOrigin</span><span class="p">:</span> <span class="dl">'</span><span class="s1">http://mydomain.com</span><span class="dl">'</span>
  <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"js/iframeresizer.contentwindow.js"</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></div> </div> <div class="sect3 mt-4"> <h4 id="targetorigin">targetOrigin</h4> <div class="paragraph"> <p>This option allows you to restrict the domain of the parent page, to prevent other sites mimicking your parent page.</p> </div> <div class="literalblock"> <div class="content"><pre>default: '*'
type: string</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="heightcalculationmethod-widthcalculationmethod">heightCalculationMethod / widthCalculationMethod</h4> <div class="paragraph"> <p>These options can be used to override the option set in the parent page (See above for details on available values). This can be useful when moving between pages in the iFrame that require different values for these options.</p> </div> <div class="paragraph"> <p>Altenatively you can pass a custom function that returns the size as an integer. This can be useful when none of the standard ways of working out the size are suitable. However, normally problems with sizing are due to CSS issues and this should be looked at first.</p> </div> <div class="literalblock"> <div class="content"><pre>default: null
type: string | function() { return integer }</pre></div> </div> </div> </div> <div class="sect2 mt-4"> <h3 id="methods-2">Methods</h3> <div class="paragraph"> <p>These methods are available in the iFrame via the <code>window.parentIFrame</code> object. These method should be contained by a test for the <code>window.parentIFrame</code> object, in case the page is not loaded inside an iFrame. For example:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="k">if </span><span class="p">(</span><span class="dl">'</span><span class="s1">parentIFrame</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">parentIFrame</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
<span class="p">}</span></code></pre></div> </div> <div class="sect3 mt-4"> <h4 id="autoresizebool">autoResize([bool])</h4> <div class="paragraph"> <p>Turn autoResizing of the iFrame on and off. Returns bool of current state.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="close-2">close()</h4> <div class="paragraph"> <p>Remove the iFrame from the parent page.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="getid">getId()</h4> <div class="paragraph"> <p>Returns the ID of the iFrame that the page is contained in.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="getpageinfocallback-false">getPageInfo(callback || false)</h4> <div class="paragraph"> <p>Ask the containing page for its positioning coordinates. You need to provide a callback which receives an object with the following properties:</p> </div> <div class="ulist"> <ul> <li> <p><strong>iframeHeight</strong> The height of the iframe in pixels</p> </li> <li> <p><strong>iframeWidth</strong> The width of the iframe in pixels</p> </li> <li> <p><strong>offsetLeft</strong> The number of pixels between the left edge of the containing page and the left edge of the iframe</p> </li> <li> <p><strong>offsetTop</strong> The number of pixels between the top edge of the containing page and the top edge of the iframe</p> </li> <li> <p><strong>scrollLeft</strong> The number of pixels between the left edge of the iframe and the left edge of the iframe viewport</p> </li> <li> <p><strong>scrollTop</strong> The number of pixels between the top edge of the iframe and the top edge of the iframe viewport</p> </li> <li> <p><strong>documentHeight</strong> The containing document’s height in pixels (the equivalent of <code>document.documentElement.clientHeight</code> in the container)</p> </li> <li> <p><strong>documentWidth</strong> The containing document’s width in pixels (the equivalent of <code>document.documentElement.clientWidth</code> in the container)</p> </li> <li> <p><strong>windowHeight</strong> The containing window’s height in pixels (the equivalent of <code>window.innerHeight</code> in the container)</p> </li> <li> <p><strong>windowWidth</strong> The containing window’s width in pixels (the equivalent of <code>window.innerWidth</code> in the container)</p> </li> <li> <p><strong>clientHeight</strong> (deprecated) The height of the containing document, considering the viewport, in pixels (<code>max(documentHeight, windowHeight)</code>).</p> </li> <li> <p><strong>clientWidth</strong> (deprecated) The width of the containing document, considering the viewport, in pixels (<code>max(documentWidth, windowWidth)</code>).</p> </li> </ul> </div> <div class="paragraph"> <p>Your callback function will be recalled when the parent page is scrolled or resized.</p> </div> <div class="paragraph"> <p>Pass <code>false</code> to disable the callback.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="scrolltoxy">scrollTo(x,y)</h4> <div class="paragraph"> <p>Scroll the parent page to the coordinates x and y.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="scrolltooffsetxy">scrollToOffset(x,y)</h4> <div class="paragraph"> <p>Scroll the parent page to the coordinates x and y relative to the position of the iFrame.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="sendmessagemessagetargetorigin">sendMessage(message,[targetOrigin])</h4> <div class="paragraph"> <p>Send data to the containing page, <code>message</code> can be any data type that can be serialized into JSON. The <code>targetOrigin</code> option is used to restrict where the message is sent to; to stop an attacker mimicking your parent page. See the MDN documentation on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window.postMessage">postMessage</a> for more details.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="setheightcalculationmethodheightcalculationmethod">setHeightCalculationMethod(heightCalculationMethod)</h4> <div class="paragraph"> <p>Change the method use to workout the height of the iFrame.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="size-customheight-customwidth">size ([customHeight],[ customWidth])</h4> <div class="paragraph"> <p>Manually force iFrame to resize. This method optionally accepts two arguments: <strong>customHeight</strong> &amp; <strong>customWidth</strong>. To use them you need first to disable the <code>autoResize</code> option to prevent auto resizing and enable the <code>sizeWidth</code> option if you wish to set the width.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">iFrameResize</span><span class="p">({</span>
  <span class="na">autoResize</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">sizeWidth</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">})</span></code></pre></div> </div> <div class="paragraph"> <p>Then you can call the <code>size</code> method with dimensions:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="k">if </span><span class="p">(</span><span class="dl">'</span><span class="s1">parentIFrame</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">parentIFrame</span><span class="p">.</span><span class="nf">size</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span> <span class="c1">// Set height to 100px</span>
<span class="p">}</span></code></pre></div> </div> </div> </div> <div class="sect2 mt-4"> <h3 id="events-2">Events</h3> <div class="paragraph"> <p>The following events can be included in the <a href="options.md">options</a> object attached to the iframed page.</p> </div> <div class="sect3 mt-4"> <h4 id="onmessage-2">onMessage</h4> <div class="paragraph"> <p>Receive message posted from the parent page with the <code>iframe.iFrameResizer.sendMessage()</code> method.</p> </div> <div class="literalblock"> <div class="content"><pre>type: function (message)</pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="onready">onReady</h4> <div class="paragraph"> <p>This function is called once iFrame-Resizer has been initialized after receiving a call from the parent page. If you need to call any of the <a href="https://github.com/davidjbradshaw/iframe-resizer/blob/master/docs/iframed_page/methods.md">parentIFrame methods</a> during page load, then they should be called from this event handler.</p> </div> <div class="literalblock"> <div class="content"><pre>type: function()</pre></div> </div> </div> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="use-with-jquery">Use with jQuery</h2> <div class="sectionbody"> <div class="paragraph"> <p>If jQuery is detected on the page, then this library provides a simple jQuery interface.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">iframe</span><span class="dl">'</span><span class="p">).</span><span class="nf">iFrameResize</span><span class="p">([{</span> <span class="nx">options</span> <span class="p">}])</span></code></pre></div> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="troubleshooting">Troubleshooting</h2> <div class="sectionbody"> <div class="paragraph"> <p>The first steps to investigate a problem is to make sure you are using the latest version and then enable the <a href="#log">log</a> option, which outputs everything that happens to the <a href="https://developers.google.com/chrome-developer-tools/docs/console#opening_the_console">JavaScript Console</a>. This will enable you to see what both the iFrame and host page are up to and also see any JavaScript error messages.</p> </div> <div class="paragraph"> <p>Solutions for the most common problems are outlined in this section. If you need further help, then please ask questions on <a href="http://stackoverflow.com/questions/tagged/iframe-resizer">StackOverflow</a> with the <code>iframe-resizer</code> tag.</p> </div> <div class="paragraph"> <p>Bug reports and pull requests are welcome on the <a href="https://github.com/davidjbradshaw/iframe-resizer/issues">issue tracker</a>. Please read the <a href="https://github.com/davidjbradshaw/iframe-resizer/blob/master/CONTRIBUTING.md">contributing guidelines</a> before opening a ticket, as this will ensure a faster resolution.</p> </div> <div class="sect2 mt-4"> <h3 id="multiple-iframes">Multiple IFrames</h3> <div class="paragraph"> <p>When the resizer does not work using multiple IFrames on one page, make sure that each frame has an unique id or no ids at all.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="iframe-not-sizing-correctly">IFrame not sizing correctly</h3> <div class="paragraph"> <p>If a larger element of content is removed from the normal document flow, through the use of absolute positioning, it can prevent the browser working out the correct size of the page. In such cases you can change the <a href="./parent_page/options.md#heightcalculationmethod">heightCalculationMethod</a> to uses one of the other sizing methods.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="iframe-not-downsizing">IFrame not downsizing</h3> <div class="paragraph"> <p>The most likely cause of this problem is having set the height of an element to be 100% of the page somewhere in your CSS. This is normally on the <code>html</code> or <code>body</code> elements, but it could be on any element in the page. This can sometimes be got around by using the <code>taggedElement</code> height calculation method and added a <code>data-iframe-height</code> attribute to the element that you want to define the bottom position of the page. You may find it useful to use <code>position: relative</code> on this element to define a bottom margin or allow space for a floating footer.</p> </div> <div class="paragraph"> <p>Not having a valid <a href="http://en.wikipedia.org/wiki/Document_type_declaration">HTML document type</a> in the iFrame can also sometimes prevent downsizing. At it’s most simplest this can be the following.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="iframe-not-resizing">IFrame not resizing</h3> <div class="paragraph"> <p>The most common cause of this is not placing the <a href="https://raw.github.com/davidjbradshaw/iframe-resizer/master/js/iframeResizer.contentWindow.min.js">iframeResizer.contentWindow.min.js</a> script inside the iFramed page. If the other page is on a domain outside your control and you can not add JavaScript to that page, then now is the time to give up all hope of ever getting the iFrame to size to the content. As it is impossible to work out the size of the contained page, without using JavaScript on both the parent and child pages.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="iframe-not-detecting-css-hover-events">IFrame not detecting CSS :hover events</h3> <div class="paragraph"> <p>If your page resizes via CSS <code>:hover</code> events, these won’t be detected by default. It is however possible to create <code>mouseover</code> and <code>mouseout</code> event listeners on the elements that are resized via CSS and have these events call the <a href="##parentiframesize-customheight-customwidth">parentIFrame.size()</a> method. With jQuery this can be done as follows</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">function</span> <span class="nf">resize</span><span class="p">(){</span>
  <span class="k">if </span><span class="p">(</span><span class="dl">'</span><span class="s1">parentIFrame</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Fix race condition in FireFox with setTimeout</span>
    <span class="nf">setTimeout</span><span class="p">(</span><span class="nx">parentIFrame</span><span class="p">.</span><span class="nx">size</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="nx">parentIFrame</span><span class="p">),</span><span class="mi">0</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nf">$</span><span class="p">(</span><span class="o">*</span><span class="nx">Element</span> <span class="kd">with</span> <span class="nx">hover</span> <span class="nx">style</span><span class="o">*</span><span class="p">).</span><span class="nf">hover</span><span class="p">(</span><span class="nx">resize</span><span class="p">);</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="iframe-not-detecting-textarea-resizes">IFrame not detecting textarea resizes</h3> <div class="paragraph"> <p>Both FireFox and the WebKit based browsers allow the user to resize <code>textarea</code> input boxes. Unfortunately the WebKit browsers don’t trigger the mutation event when this happens. This can be worked around to some extent with the following code.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">function</span> <span class="nf">store</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetWidth</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetHeight</span>
<span class="p">}</span>
<span class="nf">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">textarea</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">each</span><span class="p">(</span><span class="nx">store</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">mouseover mouseout</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetHeight</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">store</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
      <span class="k">if </span><span class="p">(</span><span class="dl">'</span><span class="s1">parentIFrame</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">parentIFrame</span><span class="p">.</span><span class="nf">size</span><span class="p">()</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">})</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="iframe-flickers">IFrame flickers</h3> <div class="paragraph"> <p>Some of the alternate <a href="./parent_page/options.md#heightcalculationmethod">height calculation methods</a>, such as <strong>max</strong> can cause the iFrame to flicker. This is due to the fact that to check for downsizing, the iFrame first has to be downsized before the new height can be worked out. This effect can be reduced by setting a <a href="./docs/parent_page/options.md#minheight&#8212;&#8203;minwidth">minSize</a> value, so that the iFrame is not reset to zero height before regrowing.</p> </div> <div class="paragraph"> <p>In modern browsers, if the default <a href="./parent_page/options.md#heightcalculationmethod">height calculation method</a> does not work, then it is normally best to use <strong>taggedElement</strong> or <strong>lowestElement</strong>, which are both flicker free.</p> </div> <div class="paragraph"> <p>Please see the notes section under <a href="./parent_page/options.md#heightcalculationmethod">heightCalculationMethod</a> to understand the limitations of the different options.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="localhost-127-0-0-1-and-file">Localhost 127.0.0.1 and <a href="file:///" class="bare">file:///</a></h3> <div class="paragraph"> <p>When an iframe is located on your local machine the browser adds extra security restrictions to cross-domain iframes. These will stop iframe-resizer from functioning. If you need to test something locally, then it is best to use the external IP Address of the machine.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="failed-to-execute-postmessage-on-domwindow">Failed to execute `postMessage' on `DOMWindow'</h3> <div class="paragraph"> <p>This error occurs when the parent window tries to send a message to the iframe before it has loaded. IFrameResize makes multiple attempts to talk to the iFrame, so if everything is working then you can safely ignore this error message.</p> </div> <div class="paragraph"> <p>If you’re still having problems, or you really want to not ignore the error, then you can try delaying the call to <code>iframeResize()</code> until after the <code>onLoad</code> event of the iframe has fired.</p> </div> <div class="paragraph"> <p>If this does not fix the problem then check <code>x-Frame-Options</code> http header on the server that is sending the iframe content, as this can also block calls to <code>postMessage</code> if set incorrectly.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="parentiframe-not-found-errors">ParentIFrame not found errors</h3> <div class="paragraph"> <p>The <code>parentIFrame</code> object is created once the iFrame has been initially resized. If you wish to use it during page load you will need call it from the onReady.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">iFrameResizer</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">myId</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">parentIFrame</span><span class="p">.</span><span class="nf">getId</span><span class="p">()</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">The ID of the iFrame in the parent page is: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">myId</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"js/iframeresizer.contentwindow.js"</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="pdf-and-opendocument-files">PDF and OpenDocument files</h3> <div class="paragraph"> <p>It is not possible to add the required JavaScript to PDF and ODF files. However, you can get around this limitation by using <a href="http://viewerjs.org/">ViewerJS</a> to render these files inside a HTML page, that also contains the iFrame JavaScript file (<a href="https://raw.github.com/davidjbradshaw/iframe-resizer/master/js/iframeResizer.contentWindow.min.js">iframeResizer.contentWindow.min.js</a>).</p> </div> </div> <div class="sect2 mt-4"> <h3 id="unexpected-message-received-error">Unexpected message received error</h3> <div class="paragraph"> <p>By default the origin of incoming messages is checked against the <code>src</code> attribute of the iFrame. If they don’t match an error is thrown. This behaviour can be disabled by setting the <a href="./docs/parent_page/options.md#checkorigin">checkOrigin</a> option to <strong>false</strong>.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="width-not-resizing">Width not resizing</h3> <div class="paragraph"> <p>By default only changes in height are detected, if you want to calculate the width you need to set the <code>sizeWidth</code> option to true and the <code>sizeHeight</code> option to false.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="frame-has-not-responded-within-5-seconds">Frame has not responded within 5 seconds</h3> <div class="paragraph"> <p>This can happen when postMessage is being blocked in browser. There could be multiple reasons to that but in some cases we found that RocketLoader extension within Cloudflare was the reason. Try disabling it if you are using cloudflare.</p> </div> </div> </div> </div> </main> </div> <footer id="exception_container" class="container-fluid no-padding"></footer> <footer id="footer_uno" class="active_footer"></footer> <script> $(function() { var settings = $.extend({}, {"tts": "true", "layout": "page", "title": "iFramer", "tagline": "Module for J1 Template", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { var settings = $.extend({}, {"tts": "true", "layout": "page", "title": "iFramer", "tagline": "Module for J1 Template", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.speak2me.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.logger.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { var settings = $.extend({}, {"slides":[{"url":"/assets/images/modules/attics/jessica-ruscello-1920x1280.jpg", "alt":"Photo by Jessica Ruscello Unsplash", "badge":{"type":"unsplash", "author":"Jessica Ruscello", "href":"https://unsplash.com/@jruscello"}}]}, {"layout": "page", "title": "iFramer", "tagline": "Module for J1 Template", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.attic.init (settings); }); </script> <script> $(function() { j1.adapter.navigator.init(); }); </script> <script> $(function() { j1.adapter.mmenu.init(); }); </script> <script> $(function() { j1.adapter.themer.init(); }); </script> <script> $(function() { var settings = $.extend({}, {"collapseDepth":3}, {"layout": "page", "title": "iFramer", "tagline": "Module for J1 Template", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.toccer.init (settings); }); </script> <script> $(function() { j1.adapter.cookieConsent.init(); }); </script> <script> $(function() { j1.adapter.lunr.init(); }); </script> <script> $(function() { var settings = $.extend({}, {"tts": "true", "layout": "page", "title": "iFramer", "tagline": "Module for J1 Template", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.fab.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.rtable.init(); }); </script> <script> $(function() { j1.adapter.asciidoctor.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.translator.init(); }); </script> <script> $(function() { j1.adapter.analytics.init(); }); </script> <script> $(function() { j1.adapter.rouge.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.clipboard.init(); }); </script> <script> $(function() { j1.adapter.themeToggler.init(); }); </script> <script> $(function() { j1.adapter.lazyLoader.init(); }); </script> <script> $(function() { j1.adapter.chat.init(); }); </script> </div> <div id="bg-primary" class="bg-primary" style="display: none"></div> <div id="fab-container"></div> <script> $(function() { var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')); var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) { return new bootstrap.Tooltip(tooltipTriggerEl) }); var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')); var popoverList = popoverTriggerList.map(function (popoverTriggerEl) { return new bootstrap.Popover(popoverTriggerEl) }); }); </script> </body> </html>