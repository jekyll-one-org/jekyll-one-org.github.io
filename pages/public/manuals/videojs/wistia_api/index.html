<!DOCTYPE html> <html lang="en"> <head data-proofer-ignore> <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="keywords" content="open source, free, template, jekyll, jekyllone, web, sites, static, jamstack, bootstrap "> <link rel="icon" type="image/ico" href="/assets/images/icons/j1/favicon.ico"> <link rel="shortcut icon" href="/assets/images/icons/j1/favicon.ico"> <link rel="canonical" href="https://jekyll.one/pages/public/manuals/videojs/wistia_api/"> <meta name="robots" content="index"> <meta name="robots" content="follow"> <meta name="analytics" content="false"> <meta name="comments" content="false"> <meta name="advertising" content="false"> <meta name="translation" content="false"> <meta name="youtube" content="true"> <meta name="vimeo" content="true"> <meta name="personalization" content="true"> <link rel="dns-prefetch" href="https://bootswatch.com"> <link rel="preconnect" href="https://bootswatch.com"> <meta name="generator" content="Jekyll v4.3.2"> <meta name="builder" content="J1 Template v2024.0.0"> <title>Wistia API - Interact with and control videos</title> <meta property="og:title" content="Wistia API - Interact with and control videos"> <meta name="author" content="Juergen Adams"> <meta property="og:locale" content="en_US"> <meta name="description" content="Wistia offered an API (Application Programming Interface) called the Vimeo Player API, which allowed developers to interact with and control Vimeo videos embedded on websites or applications."> <meta property="og:description" content="Wistia offered an API (Application Programming Interface) called the Vimeo Player API, which allowed developers to interact with and control Vimeo videos embedded on websites or applications."> <meta property="twitter:description" content="Wistia offered an API (Application Programming Interface) called the Vimeo Player API, which allowed developers to interact with and control Vimeo videos embedded on websites or applications."> <meta property="og:url" content="https://jekyll.one/pages/public/manuals/videojs/wistia_api/"> <meta property="og:site_name" content="Jekyll One"> <meta property="og:image" content="https://jekyll.one/assets/images/icons/videojs/videojs-poster.png"> <meta property="og:image:height" content="1280"> <meta property="og:image:width" content="1920"> <meta property="og:type" content="article"> <meta property="article:published_time" content="2023-10-14T00:00:00+01:00"> <meta name="twitter:card" content="summary_large_image"> <meta property="twitter:image" content="https://jekyll.one/assets/images/icons/videojs/videojs-poster.png"> <meta property="twitter:title" content="Wistia API"> <meta name="twitter:site" content="https://jekyll.one/pages/public/manuals/videojs/wistia_api/"> <meta name="twitter:creator" content="@Juergen Adams"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Juergen Adams","url":"https://jekyll.one/"},"dateModified":"2023-11-04T20:32:14+01:00","datePublished":"2023-10-14T00:00:00+01:00","description":"Wistia offered an API (Application Programming Interface) called the Vimeo Player API, which allowed developers to interact with and control Vimeo videos embedded on websites or applications.","headline":"Wistia API","image":{"width":1920,"height":1280,"url":"https://jekyll.one/assets/images/icons/videojs/videojs-poster.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jekyll.one/pages/public/manuals/videojs/wistia_api/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://jekyll.one/assets/images/icons/j1/j1-512x512.png"},"name":"Juergen Adams"},"url":"https://jekyll.one/pages/public/manuals/videojs/wistia_api/"}</script> <link rel="stylesheet" href="/assets/themes/j1/core/css/themes/unolight/bootstrap.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/icon-fonts/mdib.min.css"> <link rel="stylesheet" href="/assets/themes/j1/core/css/vendor.min.css"> <script src="/assets/themes/j1/adapter/js/j1.js"></script> <script src="/assets/themes/j1/modules/jquery/js/jquery.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/extensions/hasClass.min.js"></script> <script src="/assets/themes/j1/modules/jquery/js/extensions/removeClass.min.js"></script> <script src="/assets/themes/j1/modules/popper/js/popper.min.js"></script> <script src="/assets/themes/j1/core/js/template.min.js"></script> <script src="/assets/themes/j1/modules/bootstrap/js/bootstrap.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/speak2me.js"></script> <script defer src="/assets/themes/j1/modules/gtag-opt-in/js/gtag-opt-in.min.js"></script> <script src="/assets/themes/j1/adapter/js/logger.js"></script> <script src="/assets/themes/j1/modules/log4javascript/js/log4javascript.min.js"></script> <script src="/assets/themes/j1/modules/backstretch/js/backstretch.min.js"></script> <script src="/assets/themes/j1/adapter/js/attic.js"></script> <script src="/assets/themes/j1/adapter/js/navigator.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/mmenuLight/css/mmenu-light.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/mmenuLight/css/theme/uno/mmenu.min.css"> <script defer src="/assets/themes/j1/adapter/js/mmenu.js"></script> <script defer src="/assets/themes/j1/modules/mmenuLight/js/mmenu.min.js"></script> <script src="/assets/themes/j1/adapter/js/themer.js"></script> <script src="/assets/themes/j1/adapter/js/toccer.js"></script> <script src="/assets/themes/j1/adapter/js/cookieConsent.js"></script> <script src="/assets/themes/j1/modules/cookieConsent/js/cookieConsent.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/lunr/css/j1.min.css"> <script src="/assets/themes/j1/adapter/js/lunr.js"></script> <script src="/assets/themes/j1/modules/lunr/js/lunr.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/mustache.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/dateformat.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/uri.min.js"></script> <script src="/assets/themes/j1/modules/lunr/js/j1.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/fab.js"></script> <script defer src="/assets/themes/j1/modules/fab/js/cash.min.js"></script> <script defer src="/assets/themes/j1/modules/fab/js/fab.min.js"></script> <script src="/assets/themes/j1/modules/themeSwitcher/js/switcher.min.js"></script> <script src="/assets/themes/j1/adapter/js/rtable.js"></script> <script src="/assets/themes/j1/modules/rtable/js/rtable.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/asciidoctor.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/msDropdown/css/themes/uno/msDropdown.min.css"> <script defer src="/assets/themes/j1/modules/msDropdown/js/msDropdown.min.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/translator/css/translator.min.css"> <script defer src="/assets/themes/j1/adapter/js/translator.js"></script> <script defer src="/assets/themes/j1/modules/translator/js/translator.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/analytics.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/rouge/css/base16/theme.css"> <script defer src="/assets/themes/j1/adapter/js/rouge.js"></script> <link rel="stylesheet" href="/assets/themes/j1/core/css/animate.min.css"> <link rel="stylesheet" href="/assets/themes/j1/modules/clipboard/css/theme/uno.min.css"> <script defer src="/assets/themes/j1/adapter/js/clipboard.js"></script> <script defer src="/assets/themes/j1/modules/clipboard/js/clipboard.min.js"></script> <script defer src="/assets/themes/j1/adapter/js/themeToggler.js"></script> <script defer src="/assets/themes/j1/adapter/js/lazyLoader.js"></script> <link rel="stylesheet" href="/assets/themes/j1/modules/chat/css/theme/uno.min.css"> <script src="/assets/themes/j1/adapter/js/chat.js"></script> </head> <body class="nomathjax"> <div id="no_flicker" style="overflow: hidden; display: none"> <nav id="navigator_nav_mmenu"></nav> <nav id="navigator_toc_mmenu"></nav> <nav id="navigator_sidebar_mmenu"></nav> <nav id="navigator_nav_navbar" class="navbar navigator navbar-expand-lg navbar-default d-flex light navbar-fixed navbar-transparent"> <a href="#" id="navbar-brand" class="navbar-brand link-no-decoration"> <img src="/assets/images/icons/j1/j1-512x512.png" style="height: 48px !important;" alt="Jekyll One"></a> <button id="mmenu-button" type="button" class="navigator navbar-toggler animated fadeIn" data-bs-toggle="collapse" data-bs-target="#navigator_nav_menu" aria-controls="navigator_nav_menu" aria-expanded="false" aria-label="Toggle navigation"> <i class="mdib mdib-menu mdib-36px"></i> </button> <div id="navigator_nav_menu" class="collapse"></div> <div id="navigator_nav_quicklinks" class="quicklink-nav collapse navbar-collapse justify-content-end pr-4"></div> </nav> <div id="authclient_modals" class="authclient_modals"></div> <div id="searchModal" class="modal fade top" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static"> <div class="modal-dialog modal-frame modal-top modal-notify modal-info" role="document"> <div class="modal-content"> <div class="modal-body"> <div id="navigator_nav_topsearch" class="top-search ml-4 mr-4"> <div class="bmd-form-group"> <div class="input-group"> <span class="input-group-addon"><i class="mdib mdib-magnify mdib-2x mb-2" style="color:#9E9E9E"></i></span> <input id="search-query" type="text" name="q" placeholder="Your search expression" autocomplete="off" class="form-control"> <span id="clear-topsearch" class="form-clear form-clear-searcher d-none" style="margin-top: 1.15rem"> <i class="mdib mdib-format-clear mdib-24px" style="color:#9E9E9E"></i> </span> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="margin-top: 24px;"></button> </div> </div> <div class="search-results hide-scrollbar mt-4"> <div id="search-results" style="display: none;"></div> </div> </div> </div> </div> </div> </div> <script id="search-results-template" type="text/mustache"> <ul style="list-style: none; margin-left: .5rem; margin-right: 4.25rem"> {{#docs}} <li> <h4 class="result-item"> <a class="link-no-decoration" href="{{url}}" target="_blank">{{title}} · {{tagline}}</a> </h4> <p class="result-item-text small text-muted mt-2 mb-0"> <i class="mdib mdib-calendar-blank mdib-18px mr-1"></i>{{displaydate}} </p> <p class="result-item-text">{{description}}</p> <p class="result-item-text small text-muted mb-3"> <i class="mdib mdib-tag-text-outline mdib-18px mr-1"></i><span class="sr-categories">{{#categories}} {{.}} · {{/categories}}</span> <i class="mdib mdib-tag mdib-18px mr-1 ml-2"></i><span class="sr-tags">{{#tags}} {{.}} · {{/tags}}</span> </p> </li> {{/docs}} </ul> </script> <header id="header"> <div id="attic_page" class="attic "> <div class="container textOverlay" style="display: none"> </div> <div class="attic-caption" style="display: none"></div> </div> </header> <div id="content" class="container mb-5"> <main id="main-content" class="r-text-300 js-toc-content"> <div class="paragraph dropcap"> <p>The Wistia player has a built-in JavaScript API, providing you with a variety of ways to create awesome functions and interact with the player.</p> </div> <div class="paragraph"> <p>The JavaScript Player API was specifically built for videos. We do not formally support using it for audio files, either in projects or Channels, at this time. For the most reliable experience, we recommend continuing to use it for videos.</p> </div> <div class="paragraph"> <p><i class="mdi mdi-24px md-gray mt-4 mb-5 mr-2 mdi-clock-time-five-outline"></i> <strong>30-60 Minutes</strong> to read</p> </div> <div class="sect1 mt-5"> <h2 id="get-started">Get started</h2> <div class="sectionbody"> <div class="paragraph"> <p>To use the Player API, you need a <strong>handle</strong> to it. When we use the term <strong>handle,</strong> we mean a javascript variable that is associated with a Wistia video and defines the Player API methods. You’ll see the variable <code>video</code> - and other similar variables - used frequently in examples in these docs; these are all Player API handles. Since Wistia embeds are initialized asynchronously, we recommend the following patterns to acquire player API handles for your videos.</p> </div> <div class="sect2 mt-4"> <h3 id="use-window-wq-to-get-a-video-handle">Use window._wq to get a video handle</h3> <div class="paragraph"> <p>The first and easiest way is to push a function onto the initialization queue. The handle will be given as an argument of the callback function.</p> </div> <div class="sect3 mt-4"> <h4 id="with-standard-embeds">With Standard embeds</h4> <div class="paragraph"> <p>We push an object of the form <code>{ id: matcher, initialization_event: callback }</code> onto the queue. Embeds that match — as described in the {https://wistia.com/support/developers/player-apii#wistiaapimatcher}[<code>Wistia.api(matcher)</code>] section below — will run the callback function.</p> </div> <div class="paragraph"> <p>There are three possible initialization events: <code>onHasData</code>, <code>onEmbedded</code>, and <code>onReady</code>. These names align with the <a href="#hasdata">hasData()</a>, <a href="#embedded">embedded()</a>, and <a href="#ready">ready()</a> methods described below.</p> </div> <div class="paragraph"> <p>In this example, we get a handle to the video when <code>ready()</code> becomes true:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_abcde12345"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">abcde12345</span><span class="dl">'</span><span class="p">,</span> <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">I got a handle to the video!</span><span class="dl">"</span><span class="p">,</span> <span class="nx">video</span><span class="p">);</span>
  <span class="p">}});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="with-iframe-embeds">With iframe embeds</h4> <div class="paragraph"> <p>The exact same syntax will work with iframe embeds too:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;iframe</span>
  <span class="na">src=</span><span class="s">"//fast.wistia.net/embed/iframe/abcde12345"</span>
  <span class="na">allowtransparency=</span><span class="s">"true"</span>
  <span class="na">frameborder=</span><span class="s">"0"</span>
  <span class="na">scrolling=</span><span class="s">"no"</span>
  <span class="na">class=</span><span class="s">"wistia_embed"</span>
  <span class="na">name=</span><span class="s">"wistia_embed"</span>
  <span class="na">allowfullscreen</span>
  <span class="na">mozallowfullscreen</span>
  <span class="na">webkitallowfullscreen</span>
  <span class="na">oallowfullscreen</span>
  <span class="na">msallowfullscreen</span>
  <span class="na">width=</span><span class="s">"640"</span> <span class="na">height=</span><span class="s">"360"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/iframe&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.net/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">,</span> <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">I got a handle to the video!</span><span class="dl">"</span><span class="p">,</span> <span class="nx">video</span><span class="p">);</span>
  <span class="p">}});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect3 mt-4"> <h4 id="heres-whats-happening">Here’s what’s happening</h4> <div class="olist arabic"> <ol class="arabic"> <li> <p>We make sure <code>window._wq</code> is defined as an array.</p> </li> <li> <p>We push a matcher ("abcde12345") associated with a callback function onto the queue.</p> </li> <li> <p>E-v1.js loads and the video data is fetched in the background.</p> </li> <li> <p>The callback function runs when the specified initialization state is reached.</p> </li> </ol> </div> <div class="paragraph"> <p>Note that you can push functions onto <code>window._wq</code> at any time–including after <code>E-v1.js</code> has loaded and expect it to be quickly executed.</p> </div> </div> <div class="sect3 mt-4"> <h4 id="you-can-also-target-all-videos-on-the-page">You can also target all videos on the page</h4> <div class="paragraph"> <p>If you’d like to run your function on all videos on the page, you can use the special <strong>_all</strong> matcher:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_all</span><span class="dl">"</span><span class="p">,</span> <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">This will run for every video on the page. Right now I'm on this one:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">video</span><span class="p">);</span>
<span class="p">}});</span></code></pre></div> </div> <div class="paragraph"> <p>This will run immediately on any videos that are currently on the page. It will also be run immediately on videos injected after the page loads.</p> </div> </div> </div> <div class="sect2 mt-4"> <h3 id="wistia-api-matcher">Wistia.api(matcher)</h3> <div class="paragraph"> <p>If you’re quite sure your video code will be running after the video has already loaded, you can use <code>Wistia.api(matcher)</code> to get a handle synchronously. If no match is found, <code>Wistia.api(matcher)</code> will return <code>null</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">var</span> <span class="nx">video</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nf">api</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">I got a handle to the video!</span><span class="dl">"</span><span class="p">,</span> <span class="nx">video</span><span class="p">);</span></code></pre></div> </div> <div class="paragraph"> <p>The <code>matcher</code> argument is compared to the container ID or the hashed ID of the video.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"my_video"</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_abcde12345"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>To access it, you can reference a portion of the video’s container ID or hashed ID. For example, any of the following calls would get the same handle to the video:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">var</span> <span class="nx">video1</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nf">api</span><span class="p">(</span><span class="dl">"</span><span class="s2">my_video</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">video2</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nf">api</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">video3</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nf">api</span><span class="p">(</span><span class="dl">"</span><span class="s2">my_</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">video4</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nf">api</span><span class="p">(</span><span class="dl">"</span><span class="s2">abc</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">video1</span> <span class="o">===</span> <span class="nx">video2</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">video2</span> <span class="o">===</span> <span class="nx">video3</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">video3</span> <span class="o">===</span> <span class="nx">video4</span><span class="p">);</span> <span class="c1">// true</span></code></pre></div> </div> <div class="paragraph"> <p>If the same video appears several times on the page, <code>Wistia.api("hashedid")</code> will only return the first instance. If you need a handle for each instance, you’ll need to assign unique container IDs and reference those. When assigning custom container IDs, numeric-only IDs are not allowed.</p> </div> <div class="paragraph"> <p>If the first 3 letters of the hashed ID are used, there is a 1 in 46,656 chance that you will have a collision with another video on the page. To be safe, if you have many videos on a page, you may want to be more verbose. For example, increasing your matcher to 4 characters decreases the chance of collision to 1 in 1,679,616. But short access is convenient and can be used on most pages where the number of videos is small.</p> </div> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="methods">Methods</h2> <div class="sectionbody"> <div class="paragraph"> <p>Add missing description.</p> </div> <div class="sect2 mt-4"> <h3 id="addtoplaylist-hashedid-options-position">addToPlaylist(hashedId, [options], [position])</h3> <div class="paragraph"> <p>A video has a <strong>playlist,</strong> which is a list of videos to play in sequence. Each playlist must have a unique list of hashed IDs; a hashed ID cannot appear twice within the same playlist.</p> </div> <div class="paragraph"> <p>Use <code>addToPlaylist</code> to push more videos onto the queue. When a video is finished playing, it will play the next one in its playlist.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">addToPlaylist</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">playerColor</span><span class="p">:</span> <span class="dl">"</span><span class="s2">00ff00</span><span class="dl">"</span>
<span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p>The <code>position</code> argument lets you define where in the playlist the video should be added. It can take any of these forms:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="c1">// Play abcde12345 before hashedid</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">addToPlaylist</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span> <span class="na">before</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hashedid</span><span class="dl">"</span> <span class="p">});</span>
  <span class="c1">// Play abcde12345 after hashedid</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">addToPlaylist</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span> <span class="na">after</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hashedid</span><span class="dl">"</span> <span class="p">});</span>
  <span class="c1">// Put abcde12345 in the first position</span>
  <span class="c1">// Note that this will not automatically replace the video too. To do that, you</span>
  <span class="c1">// should make use of `replaceWith`. See the pre-roll video example below.</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">addToPlaylist</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span> <span class="na">index</span><span class="p">:</span> <span class="mi">0</span> <span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p>Before using this, you might want to see if {https://wistia.com/support/developers/embed-links#simple-playlist-link-example}[embed and playlist links] covers your use case.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>This method currently does not work with iframe embeds or {https://wistia.com/support/developers/embed-links#special-playlist-options}[playlist links set to auto]</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="aspect">aspect()</h3> <div class="paragraph"> <p>Returns the aspect ratio (width / height) of the originally uploaded video.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="k">if </span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">aspect</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">vertical video</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">aspect</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">horizontal video</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">This video is square.</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="bind-eventtype-callbackfn">bind(eventType, callbackFn)</h3> <div class="paragraph"> <p>Runs a callback function when a specific event is triggered. <a href="#events">Refer to the Events section</a> to see how to respond to the different types events.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">the video played!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">timechange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">the time changed to </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">t</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">end</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">the video ended</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="cancelfullscreenmethod">cancelFullscreen()</h3> <div class="paragraph"> <p>If video is playing in fullscreen mode, calling this method will exit fullscreen.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="duration">duration()</h3> <div class="paragraph"> <p>Returns the duration of the video in seconds. This will return 0 until <code>video.hasData()</code> is true.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">showVideoDurationOnMyPage</span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">duration</span><span class="p">())</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="email">email()</h3> <div class="paragraph"> <p>Returns the email associated with this viewing session. If no email is associated, it will return <code>null</code>.</p> </div> <div class="paragraph"> <p>An email can be associated with a viewing session by:</p> </div> <div class="ulist"> <ul> <li> <p>calling <code>video.email('<a href="mailto:the@email.com">the@email.com</a>')</code></p> </li> <li> <p>setting the <code>email</code> embed option</p> </li> <li> <p>entering their email via Turnstile</p> </li> <li> <p>adding <code>wemail=the%40email.com</code> to the URL of the page.</p> </li> </ul> </div> <div class="paragraph"> <p>Once an email has been saved for a viewer, it will persist for that web page until they clear their localStorage.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">recordViewerEmail</span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">email</span><span class="p">());</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="email-val">email-val[email(val)</h3> <div class="paragraph"> <p>Associates the view of this video with the given email value. This email will appear in stats for the video.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">email</span><span class="p">(</span><span class="nx">emailForThisUserInMySystem</span><span class="p">);</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="embedded">embedded()</h3> <div class="paragraph"> <p>Returns true if the video has been embedded, false if it hasn’t yet. We define <strong>embedded</strong> as the video’s markup having been visibly injected into the DOM.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="k">if </span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">embedded</span><span class="p">())</span> <span class="p">{</span>
  <span class="c1">// do this thing</span>
<span class="p">}</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="eventkey">eventKey()</h3> <div class="paragraph"> <p>Returns the <code>event_key</code> for the current viewing session. You can get all events for your account from the {https://wistia.com/support/developers/stats-api#events}[Stats API].</p> </div> </div> <div class="sect2 mt-4"> <h3 id="getsubtitlesscale">getSubtitlesScale()</h3> <div class="paragraph"> <p>Returns the value of the multiplier that’s scaling the size of your captions.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">plugin</span><span class="p">(</span><span class="dl">'</span><span class="s1">captions</span><span class="dl">'</span><span class="p">).</span><span class="nf">then</span><span class="p">(</span><span class="nf">function </span><span class="p">(</span><span class="nx">captions</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">captions</span><span class="p">.</span><span class="nf">setSubtitlesScale</span><span class="p">(</span><span class="mf">1.2</span><span class="p">);</span>
  <span class="c1">// returns 1.2</span>
  <span class="nx">captions</span><span class="p">.</span><span class="nf">getSubtitlesScale</span><span class="p">();</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="hasdata">hasData()</h3> <div class="paragraph"> <p>Returns true if the video has received data from the Wistia server, false if not. The data includes information like which video files are available, the name and duration of the video, and its customizations.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="hashedid">hashedId()</h3> <div class="paragraph"> <p>Returns the hashed ID associated with this video. The hashed ID is an alphanumeric string that uniquely identifies your video in Wistia.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">recordPlayedVideo</span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">hashedId</span><span class="p">(),</span> <span class="nx">video</span><span class="p">.</span><span class="nf">name</span><span class="p">());</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="height">height()</h3> <div class="paragraph"> <p>Returns the current height of the video container in pixels.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="c1">// e.g. set the height of &lt;div id="next_to_video"&gt; to match the video.</span>
<span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#next_to_video</span><span class="dl">"</span><span class="p">).</span><span class="nf">height</span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">height</span><span class="p">());</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="height-val-options">height(val, [options])</h3> <div class="paragraph"> <p>Sets the height of the video container to <code>val</code> in pixels. It is expected that <code>val</code> is an integer. Decimal or string values will be truncated.</p> </div> <div class="paragraph"> <p>If <code>constrain: true</code> is passed as an option, then the width of the video will also be updated to maintain the correct aspect ratio.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">height</span><span class="p">(</span><span class="mi">360</span><span class="p">);</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">height</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="p">{</span> <span class="na">constrain</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="infullscreen">inFullscreen()</h3> <div class="paragraph"> <p>Returns <code>true</code> if the video is currently playing in fullscreen, <code>false</code> if not.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="ismuted">isMuted()</h3> <div class="paragraph"> <p>Returns true if the video is muted.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="look">look()</h3> <div class="paragraph"> <p>Returns an object that represents where the viewer is currently looking. The object contains the current <code>heading</code>, <code>pitch</code>, and <code>fov</code> (field of view) all in degrees.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>For 360° video only. To use the 360° player for a video head to the Controls section of the Customize panel and check the <strong>This is a 360° video</strong> checkbox.</p> </div> </td> </tr> </table> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">look</span><span class="p">()</span> <span class="c1">//=&gt; { heading: 90, pitch: 5, fov: 120 }</span></code></pre></div> </div> <div class="paragraph"> <p>A <code>heading</code> of 0 is straight ahead. A <code>heading</code> of 90 is looking to the right, -90 is to the left, and 180 is looking directly back.</p> </div> <div class="paragraph"> <p>A <code>pitch</code> of 0 is looking straight ahead. A <code>pitch</code> of 90 is looking straight up, and -90 is straight down.</p> </div> <div class="paragraph"> <p><code>fov</code> is the horizontal field of view in degrees. A <code>fov</code> of 120 indicates that the viewer is seeing one third of the whole scene (120°/360° = 1/3).</p> </div> </div> <div class="sect2 mt-4"> <h3 id="look-options">look(options)</h3> <div class="paragraph"> <p>For 360° video only. Sets where the viewer is looking. Provide one or more of <code>heading</code>, <code>pitch</code>, and <code>fov</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">look</span><span class="p">({</span> <span class="na">heading</span><span class="p">:</span> <span class="mi">90</span> <span class="p">})</span> <span class="c1">//=&gt; look to the right</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">look</span><span class="p">({</span> <span class="na">pitch</span><span class="p">:</span> <span class="mi">45</span> <span class="p">})</span> <span class="c1">//=&gt; look up 45°</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">look</span><span class="p">({</span> <span class="na">fov</span><span class="p">:</span> <span class="mi">180</span> <span class="p">})</span> <span class="c1">//=&gt; expand the field of view so the viewer can see half the scene</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">look</span><span class="p">({</span> <span class="na">heading</span><span class="p">:</span> <span class="mi">180</span><span class="p">,</span> <span class="na">pitch</span><span class="p">:</span> <span class="mi">0</span> <span class="p">})</span> <span class="c1">//=&gt; look straight back</span></code></pre></div> </div> <div class="paragraph"> <p>By default, the view will <code>tween</code> to its new position — that is, it will smoothly animate to the new view. If you’d like it to snap to the new view without any animation, set <code>tween</code> to false like this:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">look</span><span class="p">({</span> <span class="na">heading</span><span class="p">:</span> <span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="na">tween</span><span class="p">:</span> <span class="kc">false</span> <span class="p">})</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="mute">mute()</h3> <div class="paragraph"> <p>Disables audio on the video.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">mute</span><span class="p">()</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="name">name()</h3> <div class="paragraph"> <p>Returns the name of the video, as defined in the Wistia application. Returns null until <code>hasData()</code> is true.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Thank you for watching </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">video</span><span class="p">.</span><span class="nf">name</span><span class="p">()</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">!</span><span class="dl">"</span><span class="p">);</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="pause">pause()</h3> <div class="paragraph"> <p>Pauses the video. If this is called and the video’s state is <strong>playing,</strong> it’s expected that it will change to <strong>paused.</strong></p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#custom_pause_button</span><span class="dl">"</span><span class="p">).</span><span class="nf">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">pause</span><span class="p">()</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="percentwatched">percentWatched()</h3> <div class="paragraph"> <p>Returns the percent of the video that has been watched as a decimal between 0 and 1. This is equivalent to computing <code>video.secondsWatched() / Math.floor(video.duration())</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#next_page</span><span class="dl">"</span><span class="p">).</span><span class="nf">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">percentWatched</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mf">0.9</span> <span class="o">&amp;&amp;</span> <span class="nx">video</span><span class="p">.</span><span class="nf">percentWatched</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.99</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="nf">confirm</span><span class="p">(</span><span class="dl">"</span><span class="s2">But you're so closed to finishing the video -- there's a prize at the end! Move on anyway?</span><span class="dl">"</span><span class="p">))</span> <span class="p">{</span>
      <span class="nf">goToNextPage</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">goToNextPage</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="play">play()</h3> <div class="paragraph"> <p>Plays the video. If this is called, it is expected that the state will change to <strong>playing.</strong></p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>On iOS and other mobile devices, videos cannot be issued the <strong>play</strong> command outside the context of a user-driven or video event. For example, <strong>click</strong> and <strong>touch</strong> events are user-driven, and video events include <strong>pause</strong> and <strong>end</strong> (you can bind to these using <code>video.bind(eventType, callbackFn)</code> described above. Because of this restriction, you should avoid calling <code>play()</code> within a <code>setTimeout</code> callback or other asynchronous functions like XHR or javascript promises.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p>Also for this reason, the <code>play()</code> method will never work with the iframe API on mobile. This is because the iframe API makes use of javascript’s <code>postMessage</code> API, which is by its nature asynchronous.</p> </div> <div class="paragraph"> <p>Please refer to <a href="https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html">Apple’s Documentation</a> for the reasons behind this behavior.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="playbackrate-r">playbackRate(r)</h3> <div class="paragraph"> <p>Sets the playback rate of the video, from 0 to infinity and beyond (though we would recommend keeping things between 0.5 and 2).</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">playbackRate</span><span class="p">(</span><span class="mf">1.25</span><span class="p">);</span> <span class="c1">// sets the playback rate to 1.25x regular speed.</span></code></pre></div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>The <code>playbackRate</code> method does not work with the Flash player, which Wistia will sometimes fall back to for legacy browser support.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="ready">ready()</h3> <div class="paragraph"> <p>Returns true if the video is ready to be played, false if it is not. A video is <strong>ready</strong> if:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>it has data from the server,</p> </li> <li> <p>it is embedded in the DOM,</p> </li> <li> <p>its javascript interface is available,</p> </li> <li> <p>metadata required to play is loaded,</p> </li> <li> <p>it is not hidden via <code>display: none</code>.</p> </li> </ol> </div> <div class="paragraph"> <p>The visibility requirement is grounded in practicality. That is, Flash videos cannot be played when they are hidden via <code>display: none</code>, so supporting the opposite with HTML5 videos would set up a fundamental difference between our embed types. But it is also a common use case to embed a video in a hidden tab or a custom lightbox. In these cases, if the video has <code>autoPlay=true</code>, it will still defer playing until it becomes visible.</p> </div> <div class="paragraph"> <p>If you must have your video be hidden AND ready, consider moving it offscreen like <code>position: absolute; left: -99999em</code> instead of using <code>display: none</code>.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="remove">remove()</h3> <div class="paragraph"> <p>Removes the video from the page cleanly. This will do garbage collection, cancel asynchronous operations, and stop the video from streaming, none of which are reliable if the video is simply removed from the DOM, e.g. <code>$(".wistia_embed").empty().remove()</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">function</span> <span class="nf">nextPage</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">/next_page.html</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// If a video is defined for this page, remove it cleanly before it is</span>
    <span class="c1">// removed from the DOM.</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">currentVideo</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">currentVideo</span><span class="p">.</span><span class="nf">remove</span><span class="p">();</span>
      <span class="nx">currentVideo</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#the_content</span><span class="dl">"</span><span class="p">).</span><span class="nf">html</span><span class="p">(</span><span class="nx">nextPageContent</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="replacewith-hashedid-options">replaceWith(hashedId, [options])</h3> <div class="paragraph"> <p>Replaces the content of the current video with the video identified by <code>hashedId</code>. This video will be loaded with all its customizations, which can be overridden in the <code>options</code> object. This method can be used in conjunction with <code>addToPlaylist(hashedId, [options])</code> to create custom playlist implementations.</p> </div> <div class="paragraph"> <p>In addition to the normal embed options, you can set the <code>transition</code> option, which defines how to visually transition to the new video. Available values are <strong>slide,</strong> <strong>fade,</strong> <strong>crossfade,</strong> and <strong>none.</strong> By default, <strong>fade</strong> is used.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#video_abcde12345</span><span class="dl">"</span><span class="p">).</span><span class="nf">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">replaceWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">{</span><span class="na">transition</span><span class="p">:</span> <span class="dl">"</span><span class="s2">slide</span><span class="dl">"</span><span class="p">}</span>
  <span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p>Before using this, you might want to see if {https://wistia.com/support/developers/embed-links#simple-video-replacement-example}[embed and playlist links] covers your use case.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>This method currently does not work with iframe embeds.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="requestfullscreen">requestFullscreen()</h3> <div class="paragraph"> <p>If this method is called, the player will try to go fullscreen. NOTE: This method will only work if called in response to a user-initiated event, such as a click or a keyboard event. It will not work if called as part of an async operation, such as a timeout.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="revoke">revoke</h3> <div class="paragraph"> <p>Unlike <code>remove()</code> which will only remove an embed from a page, <code>revoke</code> is used to remove any embed initialization configuration objects from the page that were added using the <code>_wq</code> syntax. This is especially useful when embedding videos within a single-page application or working with JS frameworks such as React, Vue.js, or Angular.</p> </div> <div class="paragraph"> <p>In those situations, the config object is often pushed onto the initialization queue each time a video component is mounted, resulting in compounding function calls if the component is unmounted and then remounted repeatedly. You can solve this by using <code>revoke</code> when your component unmounts.</p> </div> <div class="paragraph"> <p>To revoke an embed initialization config object, push a reference to it onto the queue under the <code>revoke</code> key, like this:</p> </div> </div> <div class="sect2 mt-4"> <h3 id="secondswatched">secondsWatched()</h3> <div class="paragraph"> <p>Returns the number of unique seconds that have been watched for the video. This does not include seconds that have been skipped by seeking.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">secondchange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">secondsWatched</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">You've watched over a full minute of this video!</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>This method currently does not work with iframe embeds.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2"> <h3 id="secondswatchedvector">secondsWatchedVector()</h3> <div class="paragraph"> <p>ADVANCED. Returns an array where each index represents the number of times the viewer has watched each second of the video. For example, if a video is 10 seconds long and the viewer has watched the first three seconds, it will look like this:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span></code></pre></div> </div> <div class="paragraph"> <p>If the viewer has watched the entire video once and rewatched the first 5 seconds, it will look like this:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span></code></pre></div> </div> <div class="paragraph"> <p>This can be used to quickly determine if a viewer has missed or rewatched an important part of a video.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">end</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">watchedVector</span> <span class="o">=</span> <span class="nx">video</span><span class="p">.</span><span class="nf">secondsWatchedVector</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">watchedImportantSeconds</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">watchedVector</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">watchedImportantSeconds</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">watchedImportantSeconds</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">You should really go back and watch seconds 5 through 10. They're important!</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>This method currently does not work with iframe embeds.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="setsubtitlesscale-val">setSubtitlesScale(val)</h3> <div class="paragraph"> <p>Sets the a multiplier <code>val</code> to scale the size of your captions.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">plugin</span><span class="p">(</span><span class="dl">'</span><span class="s1">captions</span><span class="dl">'</span><span class="p">).</span><span class="nf">then</span><span class="p">(</span><span class="nf">function </span><span class="p">(</span><span class="nx">captions</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">captions</span><span class="p">.</span><span class="nf">setSubtitlesScale</span><span class="p">(</span><span class="mf">1.2</span><span class="p">);</span>
  <span class="nx">captions</span><span class="p">.</span><span class="nf">getSubtitlesScale</span><span class="p">();</span> <span class="c1">// returns 1.2</span>
<span class="p">});</span></code></pre></div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>The scaling value is a multiplier on top of our existing scaling, so the font still gets bigger and smaller with the video, but its final size is multiplied by that option.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="state">state()</h3> <div class="paragraph"> <p>Returns the current state of the video as a string. Possible values are <strong>beforeplay,</strong> <strong>playing,</strong> <strong>paused,</strong> and <strong>ended.</strong></p> </div> <div class="paragraph"> <p>The most common use case for <code>state()</code> is implementing a play/pause toggle button.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#toggle_play</span><span class="dl">"</span><span class="p">).</span><span class="nf">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">state</span><span class="p">()</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">playing</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">video</span><span class="p">.</span><span class="nf">pause</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">video</span><span class="p">.</span><span class="nf">play</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="time">time()</h3> <div class="paragraph"> <p>Returns the current time of the video as a decimal in seconds.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#leave_comment</span><span class="dl">"</span><span class="p">).</span><span class="nf">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#comment</span><span class="dl">"</span><span class="p">).</span><span class="nf">html</span><span class="p">(</span><span class="nx">commentData</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">&lt;span class='time'&gt;left at </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">video</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> seconds&lt;/span&gt;</span><span class="dl">"</span><span class="p">)</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="time-val">time(val)</h3> <div class="paragraph"> <p>Seeks the video to the time defined by <code>val</code>. It is expected that <code>val</code> is a decimal integer specified in seconds. This method will maintain the state of the video: if the video was playing, it will continue playing after seek. If it was not playing, the video will be paused.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>On iOS, when seeking from the <strong>beforeplay</strong> state, <code>video.time(val)</code> is subject to the same restrictions as <code>video.play()</code>. However, there is a bit of nuance. If you call <code>video.time(30)</code> before play, the video will not play per the restrictions. But once the viewer clicks the video to play it, it will begin playing 30 seconds in.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="unbind-eventtype-callbackfn">unbind(eventType, callbackFn)</h3> <div class="paragraph"> <p>Unbind a callback that was setup with <code>bind(eventType, callbackFn)</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">var</span> <span class="nx">onPlayFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nf">doThisThing</span><span class="p">();</span>
<span class="p">};</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onPlayFunction</span><span class="p">);</span>
<span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#dont_do_this_thing_ever</span><span class="dl">"</span><span class="p">).</span><span class="nf">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">unbind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onPlayFunction</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p>Since binding until a condition is met is a common operation with videos, the Player API also supports anonymous function unbinding.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">timechange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">t</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Made it past 30 seconds! This will never fire again.</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">video</span><span class="p">.</span><span class="nx">unbind</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="unmute">unmute()</h3> <div class="paragraph"> <p>Enables audio on the video if it had been disabled via <code>mute()</code>. The video’s volume before it was muted will be restored.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">unmute</span><span class="p">();</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="videoheight">videoHeight()</h3> <div class="paragraph"> <p>Returns the height of the video itself in pixels, without anything extra. For example, if the socialbar is enabled and <code>video.height()</code> returns 388, then <code>video.videoHeight()</code> will return 360 because the height of the Social Bar is 28px.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#video_matcher</span><span class="dl">"</span><span class="p">).</span><span class="nf">height</span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">videoHeight</span><span class="p">());</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="videoheight-val-options">videoHeight(val, [options])</h3> <div class="paragraph"> <p>Sets the height of the video to <code>val</code> in pixels. It is expected that <code>val</code> is an integer. Decimal or string values will be truncated.</p> </div> <div class="paragraph"> <p>If <code>constrain: true</code> is passed as an option, then the width of the video will also be updated to maintain the correct aspect ratio.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">videoHeight</span><span class="p">(</span><span class="mi">360</span><span class="p">);</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">videoHeight</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="p">{</span> <span class="na">constrain</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="videoquality">videoQuality()</h3> <div class="paragraph"> <p>Returns the current quality level of the video. Typically this will be an integer such as <code>720</code> or <code>1080</code>, but in Safari it will return <code>auto</code> if the video is currently set to adaptive bit rate streaming.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="videoquality-val">videoQuality(val)</h3> <div class="paragraph"> <p>Sets the quality level for the video. It accepts either an integer indicating the exact quality level to stream (ex. <code>224</code>, <code>360</code>, <code>540</code>, <code>720</code>, or <code>1080</code>) or the string <code>auto</code> to enable adaptive bit rate streaming.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>If you specify a quality level corresponding to an asset that doesn’t exist for your video, <code>videoQuality(val)</code> will default to the highest or lowest quality asset available. For example, if you pass <code>1080</code> as an argument but your video doesn’t have a 1080p asset, <code>videoQuality(val)</code> will select the 720p asset instead.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="videowidth">videoWidth()</h3> <div class="paragraph"> <p>Returns the width of the video itself in pixels, without anything extra. For example, if the Presentation Sync lab is enabled and <code>video.width()</code> returns 1166, then <code>video.videoWidth()</code> will return 640 because the width of the presentation is 526px.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#video_matcher</span><span class="dl">"</span><span class="p">).</span><span class="nf">width</span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">videoWidth</span><span class="p">());</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="videowidth-val-options">videoWidth(val, [options])</h3> <div class="paragraph"> <p>Sets the width of the video to <code>val</code> in pixels. It is expected that <code>val</code> is an integer. Decimal or string values will be truncated.</p> </div> <div class="paragraph"> <p>If <code>constrain: true</code> is passed as an option, then the height of the video will also be updated to maintain the correct aspect ratio.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">videoWidth</span><span class="p">(</span><span class="mi">640</span><span class="p">);</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">videoWidth</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="p">{</span> <span class="na">constrain</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="visitorkey">visitorKey()</h3> <div class="paragraph"> <p>Returns the <code>visitor_key</code> of the person watching the video. This is used to associate multiple viewing sessions with a single person. You can use it to filter {https://wistia.com/support/developers/stats-api#events}[events] in the Stats API.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="volume">volume()</h3> <div class="paragraph"> <p>Returns the current volume of the video as a decimal between 0 and 1. This value is not dependable until <code>video.ready()</code> returns true.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#custom_volume_monitor</span><span class="dl">"</span><span class="p">).</span><span class="nf">text</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">round</span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">volume</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">%</span><span class="dl">"</span><span class="p">)</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="volume-val">volume(val)</h3> <div class="paragraph"> <p>Sets the volume to <code>val</code>. It is expected that <code>val</code> is a decimal between 0 and 1.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#custom_volume_slider</span><span class="dl">"</span><span class="p">).</span><span class="nf">on</span><span class="p">(</span><span class="dl">"</span><span class="s2">change</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">volume</span><span class="p">(</span><span class="nf">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nf">val</span><span class="p">());</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="width">width()</h3> <div class="paragraph"> <p>Returns the current width of the video container in pixels.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="c1">// e.g. set the width of &lt;div id="next_to_video"&gt; to match the video.</span>
<span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#next_to_video</span><span class="dl">"</span><span class="p">).</span><span class="nf">width</span><span class="p">(</span><span class="nx">video</span><span class="p">.</span><span class="nf">width</span><span class="p">());</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="width-val">width(val)</h3> <div class="paragraph"> <p>Sets the width of the video container to <code>val</code> in pixels. It is expected that <code>val</code> is an integer. Decimal or string values will be truncated.</p> </div> <div class="paragraph"> <p>If <code>constrain: true</code> is passed as an option, then the width of the video will also be updated to maintain the correct aspect ratio.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">width</span><span class="p">(</span><span class="mi">640</span><span class="p">);</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">width</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span> <span class="p">{</span> <span class="na">constrain</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span></code></pre></div> </div> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="events">Events</h2> <div class="sectionbody"> <div class="paragraph"> <p>Use these events when working with the <code>bind</code> and <code>unbind</code> methods.</p> </div> <div class="sect2 mt-4"> <h3 id="beforeremove">beforeremove</h3> <div class="paragraph"> <p>Fired when a request to remove the video has been received. This occurs when the <code>remove()</code> method is used, which can be called manually or automatically when a video is removed from the DOM. This is a fine place for garbage collection.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">beforeremove</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">cleanUp</span><span class="p">();</span> <span class="k">return</span> <span class="nx">video</span><span class="p">.</span><span class="nx">unbind</span><span class="p">;</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="beforereplace">beforereplace</h3> <div class="paragraph"> <p>Fired when a request to replace the video has been received. This occurs when the <code>replaceWith()</code> method is used, which is what happens under the hood with playlists and embed links. If you need to do garbage collection for each video in a playlist, this is a good place for that to live.</p> </div> <div class="paragraph"> <p>This is the only event type that is not automatically removed when <code>replaceWith()</code> is called.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">beforereplace</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">cleanUp</span><span class="p">();</span> <span class="k">return</span> <span class="nx">video</span><span class="p">.</span><span class="nx">unbind</span><span class="p">;</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="betweentimes">betweentimes</h3> <div class="paragraph"> <p>Fired once when the playhead enters the interval and once when it leaves it. This can run multiple times if the viewer leaves the time interval and re-enters it, either by seeking or by playing through. This event is useful if you have page elements that should be visible only for a specific time interval.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">betweentimes</span><span class="dl">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">withinInterval</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">withinInterval</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">showMyElement</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">hideMyElement</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p>To only show it once using anonymous function unbinding:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">betweentimes</span><span class="dl">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">withinInterval</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">withinInterval</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">showMyElement</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">hideMyElement</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">video</span><span class="p">.</span><span class="nx">unbind</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p>To only show it once using explicit unbinding:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">var</span> <span class="nx">showMyElementOnce</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">showMyElement</span><span class="p">();</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">unbind</span><span class="p">(</span><span class="dl">'</span><span class="s1">betweentimes</span><span class="dl">'</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">showMyElementOnce</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">betweentimes</span><span class="dl">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">showMyElementOnce</span><span class="p">);</span></code></pre></div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>This event currently does not fire on iframe embeds.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="cancelfullscreenevent">cancelfullscreen</h3> <div class="paragraph"> <p>Fired when a video leaves fullscreen mode.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">cancelfullscreen</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Your video is no longer playing in fullscreen.</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="captionschange">captionschange</h3> <div class="paragraph"> <p>Fired once a different caption setting is selected in the player. Can be used to return which language is selected as well.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">'</span><span class="s1">captionschange</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">details</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">details</span><span class="p">.</span><span class="nx">visible</span><span class="p">,</span> <span class="nx">details</span><span class="p">.</span><span class="nx">language</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// Example output: `true "eng"`</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="conversion">conversion</h3> <div class="paragraph"> <p>Fired when an email is entered in Turnstile. The <code>type</code> argument can be <strong>pre-roll-email,</strong> <strong>mid-roll-email,</strong> or <strong>post-roll-email.</strong></p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">conversion</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">email</span><span class="p">,</span> <span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">recordMyOwnData</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="crosstime">crosstime</h3> <div class="paragraph"> <p>Runs the callback function when the time of the video moves from <em>before</em> <code>time</code> to <em>after</em> <code>time</code>. It is expected that <code>time</code> is a decimal value specified in seconds.</p> </div> <div class="paragraph"> <p>This event is meant to be used with <strong>gates</strong> or CTAs. For example, perhaps you have a call to action that should appear after the 30 second mark in your video. Code to show that might look like this:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">crosstime</span><span class="dl">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">showMyCustomCTA</span><span class="p">();</span>
<span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p>To only show it once using anonymous function unbinding:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">crosstime</span><span class="dl">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">showMyCustomCTA</span><span class="p">();</span>
  <span class="k">return</span> <span class="nx">video</span><span class="p">.</span><span class="nx">unbind</span><span class="p">;</span>
<span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p>To only show it once using explicit unbinding:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="kd">var</span> <span class="nx">showMyCustomCTAOnce</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">showMyCustomCTA</span><span class="p">();</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">unbind</span><span class="p">(</span><span class="dl">'</span><span class="s1">crosstime</span><span class="dl">'</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">showMyCustomCTAOnce</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">crosstime</span><span class="dl">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">showMyCustomCTAOnce</span><span class="p">);</span></code></pre></div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>This event currently does not fire on iframe embeds.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2 mt-4"> <h3 id="end">end</h3> <div class="paragraph"> <p>Fired when the video’s state changes to <strong>ended.</strong></p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">end</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Lenny was here.</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="enterfullscreen">enterfullscreen</h3> <div class="paragraph"> <p>Fired when a video goes into fullscreen mode.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">enterfullscreen</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Your video is now playing in fullscreen!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="heightchange">heightchange</h3> <div class="paragraph"> <p>Fired whenever the height of the embed changes. If you have element sizes or positions that depend on the height of the video, you can bind to this event.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">heightchange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">The height changed to </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">video</span><span class="p">.</span><span class="nf">height</span><span class="p">());</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="lookchange">lookchange</h3> <div class="paragraph"> <p>For 360° video only. Fired when the viewer changes their heading, pitch, or field of view.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">lookchange</span><span class="dl">"</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">look</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Look</span><span class="dl">'</span><span class="p">,</span> <span class="nx">look</span><span class="p">.</span><span class="nx">heading</span><span class="p">,</span> <span class="nx">look</span><span class="p">.</span><span class="nx">pitch</span><span class="p">,</span> <span class="nx">look</span><span class="p">.</span><span class="nx">fov</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="mutechange">mutechange</h3> <div class="paragraph"> <p>Fired when the video’s muted state changes.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">mutechange</span><span class="dl">"</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">isMuted</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Is the video muted?</span><span class="dl">"</span><span class="p">,</span> <span class="nx">isMuted</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">yes</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">no</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="pause-1">pause</h3> <div class="paragraph"> <p>Fired when the video’s state changes to <strong>paused.</strong></p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">pause</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">The video was just paused!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="percentwatchedchanged">percentwatchedchanged</h3> <div class="paragraph"> <p>Fired when the value of <code>percentWatched()</code> changes.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">'</span><span class="s1">percentwatchedchanged</span><span class="dl">'</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">percent</span><span class="p">,</span> <span class="nx">lastPercent</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">percent</span> <span class="o">&gt;=</span> <span class="p">.</span><span class="mi">25</span> <span class="o">&amp;&amp;</span> <span class="nx">lastPercent</span> <span class="o">&lt;</span> <span class="p">.</span><span class="mi">25</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">The viewer has watched 25% of the video! 📈</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> <div class="paragraph"> <p><a href="https://glitch.com/~wistia-percentwatchedchanged">Start with a live example on Glitch</a>.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="play-1">play</h3> <div class="paragraph"> <p>Fired when the video’s state changes to <strong>playing.</strong> This can fire multiple times for a single viewing session since the viewer can repeatedly pause and play.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">The video was just played!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="playbackratechange">playbackratechange</h3> <div class="paragraph"> <p>Fired when the the playback rate of the video changes. Normal speed is 1.0, half speed is 0.5, double speed is 2.0, etc.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">playbackratechange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">playbackRate</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">The playback rate is now </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">playbackRate</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">x.</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="secondchange">secondchange</h3> <div class="paragraph"> <p>Fired when the current second of the video has changed. The <code>second</code> argument will always be passed as an integer. It is equivalent to <code>Math.floor(video.time())</code>.</p> </div> <div class="paragraph"> <p>Technically this is a subset of the <strong>timechange</strong> event, and thus will always fire <em>after</em> <strong>timechange</strong> events but <em>before</em> <strong>seek</strong> events.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">secondchange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">s</span> <span class="o">===</span> <span class="mi">30</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something at exactly 30 seconds</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="seek">seek</h3> <div class="paragraph"> <p>Our player will compare <code>currentTime</code> to <code>lastTime</code> once every 300ms and fire this event if the difference is greater than 1.5 seconds.</p> </div> <div class="paragraph"> <p>Technically this is a subset of the <strong>timechange</strong> event, and thus will always fire <em>after</em> both <strong>timechange</strong> and <strong>secondchange.</strong></p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">seek</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">currentTime</span><span class="p">,</span> <span class="nx">lastTime</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Whoa, you jumped </span><span class="dl">"</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">abs</span><span class="p">(</span><span class="nx">lastTime</span> <span class="o">-</span> <span class="nx">currentTime</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> seconds!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="silentplaybackmodechange">silentplaybackmodechange</h3> <div class="paragraph"> <p>Based on your settings for the <code>silentAutoPlay</code> embed option, the <strong>Click For Sound</strong> button may appear over your video. If you’d like to know when the video is in that state — compared to when it’s simply muted — you can bind to this event.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">silentplaybackmodechange</span><span class="dl">"</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">inSilentPlaybackMode</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Is 'Click For Sound' visible?</span><span class="dl">"</span><span class="p">,</span> <span class="nx">inSilentPlaybackMode</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">yes</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">no</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="timechange">timechange</h3> <div class="paragraph"> <p>Our player will compare <code>currentTime</code> and <code>lastTime</code> once every 300ms and fire this event if they are different.</p> </div> <div class="paragraph"> <p>Both <strong>secondchange</strong> and <strong>seek</strong> key off this event, and thus <strong>timechange</strong> will always fire <em>before</em> both <strong>secondchange</strong> and <strong>seek.</strong></p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">timechange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">updateCustomPlayHead</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="volumechange">volumechange</h3> <div class="paragraph"> <p>Fired when the volume or mute state changes.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">volumechange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="nx">isMuted</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">The volume changed to </span><span class="dl">"</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">round</span><span class="p">(</span><span class="nx">v</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">%</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="widthchange">widthchange</h3> <div class="paragraph"> <p>Fired whenever the width of the embed changes. If you have element sizes or positions that depend on the width of the video, you can bind to this event.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="js"><span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">widthchange</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">The width changed to </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">video</span><span class="p">.</span><span class="nf">width</span><span class="p">());</span>
<span class="p">});</span></code></pre></div> </div> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="options">Options</h2> <div class="sectionbody"> <div class="paragraph"> <p>Many behaviors can be defined by setting options instead of using Player API methods. Check out the {https://wistia.com/support/developers/embed-options}[Embed Options] page for a full list.</p> </div> </div> </div> <div class="sect1 mt-5"> <h2 id="examples">Examples</h2> <div class="sectionbody"> <div class="paragraph"> <p>To get you making video magic as fast as possible, here are some examples of common JavaScript player API projects.</p> </div> <div class="sect2 mt-4"> <h3 id="start-video-playback-at-a-specific-time">Start Video Playback at a Specific Time</h3> <div class="paragraph"> <p>In this example, you want the video to skip ahead a certain amount of time when the viewer presses ’play'. This utilizes the <code>bind on play</code> functionality built into the API.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">charset=</span><span class="s">"ISO-8859-1"</span> <span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_29b0fbf547"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="c1">// target our video by the first 3 characters of the hashed ID</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">29b0fbf547</span><span class="dl">"</span><span class="p">,</span> <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// on play, seek the video to 10 seconds, then unbind so it</span>
    <span class="c1">// only happens once.</span>
    <span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">'</span><span class="s1">play</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">video</span><span class="p">.</span><span class="nf">time</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">video</span><span class="p">.</span><span class="nx">unbind</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">}});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="trigger-an-event-at-a-specific-time">Trigger an event at a specific time</h3> <div class="paragraph"> <p>In this example, let’s assume that we want to run some javascript when the viewer gets 60 seconds into the video. In order to accomplish this, we only need the bind method from the API.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">charset=</span><span class="s">"ISO-8859-1"</span> <span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_29b0fbf547"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="c1">// target our video by the first 3 characters of the hashed ID</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">29b0fbf547</span><span class="dl">"</span><span class="p">,</span> <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// at 10 seconds, do something amazing</span>
    <span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">'</span><span class="s1">secondchange</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">s</span> <span class="o">===</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Insert code to do something amazing here</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">We just reached </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> seconds!</span><span class="dl">"</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>The bind function monitors the state of the video in an event loop. Every 300 milliseconds, it checks to see if the video’s time position has changed. If it has, it runs your function with the current second (s) as the only argument.</p> </div> <div class="paragraph"> <p>The <code>secondchange</code> will only run once per second while the video is playing. If you need more fine-grained control, try binding to the <code>timechange</code> event instead.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="pause-other-videos-when-another-is-played">Pause Other Videos When Another is Played</h3> <div class="paragraph"> <p>Don’t like the barrage of sound that comes from three different videos playing in the same page? This snippet will pause all videos that aren’t currently playing:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">charset=</span><span class="s">"ISO-8859-1"</span> <span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_9kksns1ede"</span> <span class="na">style=</span><span class="s">"width:480px;height:270px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_oh34zbesuh"</span> <span class="na">style=</span><span class="s">"width:480px;height:270px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_2jvt3wqkye"</span> <span class="na">style=</span><span class="s">"width:480px;height:270px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_all</span><span class="dl">"</span><span class="p">,</span> <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// for all existing and future videos, run this function</span>
    <span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">'</span><span class="s1">play</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// when one video plays, iterate over all the videos and pause each,</span>
      <span class="c1">// unless it's the video that just started playing.</span>
      <span class="kd">var</span> <span class="nx">allVideos</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nf">all</span><span class="p">();</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">allVideos</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">allVideos</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nf">hashedId</span><span class="p">()</span> <span class="o">!==</span> <span class="nx">video</span><span class="p">.</span><span class="nf">hashedId</span><span class="p">())</span> <span class="p">{</span>
          <span class="nx">allVideos</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nf">pause</span><span class="p">();</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="a-b-testing-videos-against-each-other">A/B testing videos against each other</h3> <div class="paragraph"> <p>Using a Standard embed code as a template, we can switch out hashed ID’s for multiple videos easily. Comparing the viewer analytics in the background will tell you which video reigned supreme!</p> </div> <div class="paragraph"> <p>In this example, we create an array of hashed IDs for possible videos to embed, then randomly select one and embed the video with that hashed ID by adding to the class name of the embed’s container. The Wistia library will monitor the DOM for changes like this, and automatically embed a video where it sees an element with the right class.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">charset=</span><span class="s">"ISO-8859-1"</span> <span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"thumbnail_test"</span> <span class="na">class=</span><span class="s">"wistia_embed"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">hashedIds</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">wfu7q0s0pf</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">ck7avcilwk</span><span class="dl">"</span><span class="p">];</span>
  <span class="kd">var</span> <span class="nx">rand</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">hashedIds</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">hashedId</span> <span class="o">=</span> <span class="nx">hashedIds</span><span class="p">[</span><span class="nx">rand</span><span class="p">];</span>
  <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">thumbnail_test</span><span class="dl">"</span><span class="p">).</span><span class="nx">className</span> <span class="o">+=</span> <span class="dl">"</span><span class="s2"> wistia_async_</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">hashedId</span><span class="p">;</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="add-chaptering-links-to-your-embedded-video">Add Chaptering Links to your Embedded Video</h3> <div class="paragraph"> <p>You can do this yourself using the <code>time(val)</code> method described above, OR you could make your life easier and use {https://wistia.com/support/developers/embed-links}[embed links], which handles chaptering automatically!</p> </div> </div> <div class="sect2 mt-4"> <h3 id="mute-the-video-on-load">Mute the Video on Load</h3> <div class="paragraph"> <p>You can do this by setting the <code>volume</code> {https://wistia.com/support/developers/embed-options}[embed option] to 0, like so:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">charset=</span><span class="s">"ISO-8859-1"</span> <span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_5bbw8l7kl5 volume=0"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="selective-autoplay">Selective Autoplay</h3> <div class="paragraph"> <p>Selective Autoplay will automatically play your embedded video based on the presence of a query string you specify.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">charset=</span><span class="s">"ISO-8859-1"</span> <span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_5bbw8l7kl5"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">W</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">playedOnce</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="nx">W</span><span class="p">.</span><span class="nf">api</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">playedOnce</span> <span class="o">&amp;&amp;</span> <span class="sr">/</span><span class="se">[</span><span class="sr">&amp;?</span><span class="se">]</span><span class="sr">autoplay/i</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">playedOnce</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nx">video</span><span class="p">.</span><span class="nf">play</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>In this example, if <strong>?autoplay</strong> or <strong>&amp;autoplay</strong> appears in the page URL, the first video that initializes will autoplay.</p> </div> </div> <div class="sect2 mt-4"> <h3 id="selective-autoplay-for-popovers">Selective Autoplay for Popovers</h3> <div class="paragraph"> <p>You can also set up selective autoplay for popover embeds as well. You have to take advantage of the <code>popover.show()</code> method, which can read about on {https://wistia.com/support/developers/popover-customization#show}[Popover Customization Page].</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">charset=</span><span class="s">"ISO-8859-1"</span> <span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_5bbw8l7kl5 popover=true popoverAnimateThumbnail=true"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">playedOnce</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span><span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">5bbw8l7kl5</span><span class="dl">"</span><span class="p">,</span> <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">playedOnce</span> <span class="o">&amp;&amp;</span> <span class="sr">/</span><span class="se">[</span><span class="sr">&amp;?</span><span class="se">]</span><span class="sr">popoverAutoplay/i</span><span class="p">.</span><span class="nf">test</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">playedOnce</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nx">video</span><span class="p">.</span><span class="nx">popover</span><span class="p">.</span><span class="nf">show</span><span class="p">();</span>
        <span class="nx">video</span><span class="p">.</span><span class="nf">play</span><span class="p">();</span>
      <span class="p">}</span>
  <span class="p">}});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="alert-on-play-just-once">Alert on play just once</h3> <div class="paragraph"> <p>With the bind method, every time <strong>play</strong> is triggered, your function will be executed. But sometimes a user will scroll back to the beginning and hit Play again. If you want to avoid your function being executed again, you need to unbind it.</p> </div> <div class="paragraph"> <p>Our library contains a special unbinding pattern for convenience. In the callback function, just return <code>video.unbind</code>.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Played the first time!</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">video</span><span class="p">.</span><span class="nx">unbind</span><span class="p">;</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>If you are performing asynchronous operations or need more control over unbinding, you can use the <code>unbind</code> method as shown below.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="kd">function</span> <span class="nf">playFunc</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Played the first time!</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">video</span><span class="p">.</span><span class="nf">unbind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="nx">playFunc</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="nx">playFunc</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="add-custom-pre-roll-to-your-videos">Add Custom Pre-Roll to Your Videos</h3> <div class="paragraph"> <p>You can leverage the <code>addToPlaylist</code> method to play pre-roll before your video. We simply add the main video to the playlist on the pre-roll video.</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">charset=</span><span class="s">"ISO-8859-1"</span> <span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_oefj398m6q"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">5bbw8l7kl5</span><span class="dl">"</span><span class="p">,</span> <span class="na">onHasData</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">video</span><span class="p">.</span><span class="nf">addToPlaylist</span><span class="p">(</span><span class="dl">"</span><span class="s2">5bbw8l7kl5</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <div class="sect2 mt-4"> <h3 id="playing-a-second-video-on-post-roll-click">Playing a second video on Post Roll click</h3> <div class="paragraph"> <p>You can now handle this behavior by using {https://wistia.com/support/developers/embed-links#watch-another-video-in-ctaannotation}[embed links].</p> </div> </div> <div class="sect2 mt-4"> <h3 id="make-the-video-background-transparent">Make the video background transparent</h3> <div class="paragraph"> <p>If you are embedding a Wistia video on a website with a white background, the natural black background of the Wistia player can look a little out of place. Instead, using a <code>wmode=transparent</code> string parameter, the background of the player loading can be set to transparent.</p> </div> <div class="paragraph"> <p>So a finished iframe embed code would look something like this:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;iframe</span> <span class="na">src=</span><span class="s">"http://fast.wistia.net/embed/iframe/e4a27b971d?
    controlsVisibleOnLoad=true&amp;playerColor=688AAD&amp;version=v1&amp;wmode=transparent"</span>
    <span class="na">allowtransparency=</span><span class="s">"true"</span> <span class="na">frameborder=</span><span class="s">"0"</span> <span class="na">scrolling=</span><span class="s">"no"</span>
    <span class="na">class=</span><span class="s">"wistia_embed"</span> <span class="na">name=</span><span class="s">"wistia_embed"</span> <span class="na">width=</span><span class="s">"640"</span>
    <span class="na">height=</span><span class="s">"360"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/iframe&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>Or a Standard inline embed would look like this:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_abcde12345 wmode=transparent"</span>
<span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;&lt;/div&gt;</span></code></pre></div> </div> </div> </div> </div> <div class="sect1 mt-4"> <h2 id="legacy-api-embeds">Legacy API Embeds</h2> <div class="sectionbody"> <div class="paragraph"> <p>This section exists to help customers transition from our Legacy API embeds to Standard (a.k.a. <strong>async</strong>) embeds.</p> </div> <div class="paragraph"> <p>If you have an embed code which look like this, then you have a Legacy API embed:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"wistia_abcde12345"</span> <span class="na">class=</span><span class="s">"wistia_embed"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nx">wistiaEmbed</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nf">embed</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>An equivalent Standard (a.k.a. <strong>async</strong>) embed would look like this:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_abcde12345"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;&lt;/div&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>Going forward, it is recommended that you switch to a <strong>Standard</strong> (a.k.a. <strong>async</strong>) embed for all new embed codes. Async embeds can do everything Legacy API embeds can do, but they never block page load, they are less susceptible to mangling, and they are easier to inject dynamically into html.</p> </div> <div class="paragraph"> <p>There are no plans to remove the Legacy API embed syntax; if you have existing Legacy API embeds, they do not need to be re-embedded.</p> </div> <div class="sect2 mt-4"> <h3 id="embed-options-comparison">Embed Options Comparison</h3> <div class="paragraph"> <p>In Legacy API embeds, options passed to the embed code might look like this:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"wistia_abcde12345"</span> <span class="na">class=</span><span class="s">"wistia_embed"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nx">wistiaEmbed</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nf">embed</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">autoPlay</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">controlsVisibleOnLoad</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>The options there are specified as part of the <code>Wistia.embed</code> function call. With Standard (a.k.a. <strong>async</strong>) embeds, an equivalent embed code would be:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_abcde12345 autoPlay=true
controlsVisibleOnLoad=false"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;&lt;/div&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>The options there are specified as key/val pairs in the container’s <code>class</code> attribute. For more information on setting options, check out the {https://wistia.com/support/developers/embed-options}[docs on embed options].</p> </div> </div> <div class="sect2 mt-4"> <h3 id="player-api-usage-comparison">Player API Usage Comparison</h3> <div class="paragraph"> <p>With Legacy API embeds, each embed code is assigned the <code>wistiaEmbed</code> variable by default. You could use this variable to set up bindings, play on load, etc. You can do the same things with Standard embeds, but they are always loaded asynchronously, so the flow to get Player API access is slightly different.</p> </div> <div class="paragraph"> <p>Setting up bindings with a Legacy API embed:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"wistia_abcde12345"</span> <span class="na">class=</span><span class="s">"wistia_embed"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nx">wistiaEmbed</span> <span class="o">=</span> <span class="nx">Wistia</span><span class="p">.</span><span class="nf">embed</span><span class="p">(</span><span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">wistiaEmbed</span><span class="p">.</span><span class="nf">hasData</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">wistiaEmbed</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">video played</span><span class="dl">"</span><span class="p">,</span> <span class="nx">wistiaEmbed</span><span class="p">.</span><span class="nf">name</span><span class="p">());</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>Equivalent code for Standard embeds:</p> </div> <div class="listingblock"> <div class="content"><pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//fast.wistia.com/assets/external/E-v1.js"</span> <span class="na">async</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wistia_embed wistia_async_abcde12345"</span> <span class="na">style=</span><span class="s">"width:640px;height:360px;"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_wq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_wq</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abcde12345</span><span class="dl">"</span><span class="p">,</span> <span class="na">onReady</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">video</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">video</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">play</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">video played</span><span class="dl">"</span><span class="p">,</span> <span class="nx">video</span><span class="p">.</span><span class="nf">name</span><span class="p">());</span>
    <span class="p">});</span>
  <span class="p">}});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="paragraph"> <p>The inline script syntax for Standard embeds makes it easier for javascript in external files to get a handle to each video. That is, instead of setting a global variable when the video is embedded, you can access the Player API by hashed ID or DOM ID. It also implicitly waits for data to be returned from the server, so you are guaranteed methods like <code>name()</code> and <code>duration()</code> will return meaningful values.</p> </div> <div class="paragraph"> <p>For more information on using the Player API, scroll to the top of this page.</p> </div> </div> </div> </div> </main> </div> <footer id="exception_container" class="container-fluid no-padding"></footer> <footer id="footer_uno" class="active_footer"></footer> <script> $(function() { var settings = $.extend({}, {"tts": "true", "layout": "page", "title": "Wistia API", "tagline": "Interact with and control videos", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { var settings = $.extend({}, {"tts": "true", "layout": "page", "title": "Wistia API", "tagline": "Interact with and control videos", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.speak2me.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.logger.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { var settings = $.extend({}, {"slides":[{"url":"/assets/images/icons/videojs/videojs-poster.png", "alt":"VideoJS Poster"}]}, {"layout": "page", "title": "Wistia API", "tagline": "Interact with and control videos", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.attic.init (settings); }); </script> <script> $(function() { j1.adapter.navigator.init(); }); </script> <script> $(function() { j1.adapter.mmenu.init(); }); </script> <script> $(function() { j1.adapter.themer.init(); }); </script> <script> $(function() { var settings = $.extend({}, {"collapseDepth":2}, {"layout": "page", "title": "Wistia API", "tagline": "Interact with and control videos", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.toccer.init (settings); }); </script> <script> $(function() { j1.adapter.cookieConsent.init(); }); </script> <script> $(function() { j1.adapter.lunr.init(); }); </script> <script> $(function() { var settings = $.extend({}, {"tts": "true", "layout": "page", "title": "Wistia API", "tagline": "Interact with and control videos", "fab_menu_id": "open_toc", "scrollbar": "false", "toc": "true", "comments": "false", "scrollDynamicPagesTopOnChange": ""}); j1.adapter.fab.init (settings); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.rtable.init(); }); </script> <script> $(function() { j1.adapter.asciidoctor.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.translator.init(); }); </script> <script> $(function() { j1.adapter.analytics.init(); }); </script> <script> $(function() { j1.adapter.rouge.init(); }); </script> <script> $(function() { }); </script> <script> $(function() { j1.adapter.clipboard.init(); }); </script> <script> $(function() { j1.adapter.themeToggler.init(); }); </script> <script> $(function() { j1.adapter.lazyLoader.init(); }); </script> <script> $(function() { j1.adapter.chat.init(); }); </script> </div> <div id="bg-primary" class="bg-primary" style="display: none"></div> <div id="fab-container"></div> <script> $(function() { var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')); var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) { return new bootstrap.Tooltip(tooltipTriggerEl) }); var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')); var popoverList = popoverTriggerList.map(function (popoverTriggerEl) { return new bootstrap.Popover(popoverTriggerEl) }); }); </script> </body> </html>