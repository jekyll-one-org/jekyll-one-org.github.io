/*!
  * Simple-Jekyll-Search
  * Copyright 2015-2020, Christian Fei
  * Licensed under the MIT License.
  */
!function(){"use strict";var s={compile:function t(i){var u;return o.template.replace(o.pattern,function(t,e){var n=o.middleware(e,i[e],o.template),r=document.getElementById(o.results_output);return r.style.display="none",n!==undefined?n:(r.style.display="block","tags"==e&&(u=i[e].replace(/\s+/g,""),i[e]=u.replace(/,/g," Â· ")),i[e]||t)})},setOptions:function g(t){o.pattern=t.pattern||o.pattern,o.template=t.template||o.template,o.results_output=t.results_output,"function"==typeof t.middleware&&(o.middleware=t.middleware)}},o={};o.pattern=/\{(.*?)\}/g,o.template="",o.middleware=function(){};var n=function y(t,e){var n=e.length,r=t.length;if(n<r)return!1;if(r===n)return t===e;t:for(var i=0,u=0;i<r;i++){for(var o=t.charCodeAt(i);u<n;)if(e.charCodeAt(u++)===o)continue t;return!1}return!0},e=new function v(){this.matches=function(t,e){return n(e,t)}};var r=new function w(){this.matches=function(t,e){return"string"==typeof t&&0<=(t=t.trim()).toLowerCase().indexOf(e.toLowerCase())}};var c={put:function S(t){if(a(t))return l(t);if(function e(t){return t&&"[object Array]"===Object.prototype.toString.call(t)}(t))return function r(t){for(var e=[],n=0;n<t.length;n++)a(t[n])&&e.push(l(t[n]));return e}(t);return undefined},clear:function O(){return i.length=0,i},get:function z(){return i},search:function j(t){if(t.length<u.minSearchItemLen)return[];return t?function a(t,e,n,r){for(var i=[],u=0;u<t.length&&i.length<r.limit;u++){var o=f(t[u],e,n,r);o&&i.push(o)}return i}(i,t,u.searchStrategy,u):[]},setOptions:function L(t){(u=t||{}).fuzzy=t.fuzzy||!1,u.limit=t.limit||10,u.minSearchItemLen=t.minSearchItemLen||3,u.searchStrategy=t.fuzzy?e:r,u.resultsOutput=t.resultsOutput||"jss-panel"}},i=[],u={};function a(t){return t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t){return i.push(t),i}function f(t,e,n,r){for(var i in t)if(!p(t[i],r.exclude)&&n.matches(t[i],e))return t}function p(t,e){var n=!1;e=e||[];for(var r=0;r<e.length;r++){var i=e[r];!n&&new RegExp(t).test(i)&&(n=!0)}return n}u.fuzzy=!1,u.limit=10,u.searchStrategy=u.fuzzy?e:r,u.minSearchItemLen=4,u.resultsOutput=document.getElementById("jss-panel");var d={load:function x(t,e){var n=function r(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}();n.open("GET",t,!0),n.onreadystatechange=function i(e,n){return function(){if(4===e.readyState&&200===e.status)try{n(null,JSON.parse(e.responseText))}catch(t){n(t,null)}}}(n,e),n.send()}};var h=function I(t){if(!function e(t){return t&&(t.required!==undefined&&t.required instanceof Array)}(t))throw new Error("-- OptionsValidator: required options missing");if(!(this instanceof I))return new I(t);var r=t.required;this.getRequiredOptions=function(){return r},this.validate=function(e){var n=[];return r.forEach(function(t){e[t]===undefined&&n.push(t)}),n}},m={merge:function J(t,e){var n={};for(var r in t)n[r]=t[r],e[r]!==undefined&&(n[r]=e[r]);return n},isJSON:function b(t){try{return t instanceof Object&&JSON.parse(JSON.stringify(t))?!0:!1}catch(e){return!1}}};!function(t,o){var r,a={searchInput:null,resultsContainer:null,results_output:null,json:[],searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:function(){},noResultsText:"No results found",limit:10,fuzzy:!1,exclude:[]},n=["searchInput","resultsContainer","results_output","json"],i=h({required:n});function u(t){c.put(t),function e(){a.searchInput.addEventListener("keyup",function(t){if(function n(t){return-1===[13,16,20,37,38,39,40,91].indexOf(t)}(t.which)){!function r(){a.resultsContainer.innerHTML=""}();var e=t.target.value;!function i(t){return t&&0<t.length}(e)||(!function u(t){if(0===t.length){return o.getElementById(a.results_output).style.display="none",l(a.noResultsText)}for(var e=0;e<t.length;e++)l(s.compile(t[e]))}(c.search(e)),$(".result-group-item-text:contains("+e+")").each(function(){var t=new RegExp(e,"gi");$(this).html($(this).text().replace(t,'<code style="color: red !important; font-weight: 700;font-size: 125% !important">'+e+"</code>"))}),$("h6.result-item:contains("+e+")").each(function(){var t=new RegExp(e,"gi");$(this).html($(this).html().replace(t,'&nbsp;<code style="color: red !important; font-weight: 700;font-size: 135% !important">'+e+"</code>&nbsp;"))}))}})}()}function l(t){a.resultsContainer.innerHTML+=t}t.SimpleJekyllSearch=function(t){return(r=log4javascript.getLogger("j1.core.j1_searcher")).info("start initialization"),0<i.validate(t).length&&r.error("missing required options: "+n),a=m.merge(a,t),s.setOptions({template:a.searchResultTemplate,results_output:a.results_output,middleware:a.templateMiddleware}),c.setOptions({fuzzy:a.fuzzy,limit:a.limit}),(m.isJSON(a.json)?u:function e(n){d.load(n,function(t,e){t&&r.error("failed to get data at: "+n),u(e)})})(a.json),!0},t.SimpleJekyllSearch.init=t.SimpleJekyllSearch,"function"==typeof t.SimpleJekyllSearchInit&&t.SimpleJekyllSearchInit.call(this,t.SimpleJekyllSearch)}(window,document)}();