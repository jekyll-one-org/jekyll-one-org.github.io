

  /*
 # -----------------------------------------------------------------------------
 # ~/assets/themes/j1/adapter/js/advertising.js
 # J1 Adapter for advertising
 #
 # Product/Info:
 # https://jekyll.one
 #
 # Copyright (C) 2023 Juergen Adams
 #
 # J1 Theme is licensed under the MIT License.
 # For details, see: https://github.com/jekyll-one-org/j1-template/blob/main/LICENSE.md
 # -----------------------------------------------------------------------------
 #  Adapter generated: 2023-07-09 18:23:55 +0200
 # -----------------------------------------------------------------------------
*/
'use strict';j1.adapter.advertising=function(e,t){var a,n,o,d,l,i,s,r,c,u,g,m,p,f,b,y='production',_=(y.includes('prod'),!!y.includes('dev'));(new Date).toISOString(),document.createElement('script'),document.createElement('div'),document.createElement('ins'),document.createElement('script');return{init:function(b){$.extend({module_name:'j1.adapter.advertising',generated:'2023-07-09 18:23:55 +0200'},b);f=log4javascript.getLogger('j1.adapter.advertising'),p=e.adapter.advertising,c=e.getCookieNames(),u=e.readCookie(c.user_consent),r=new liteURL(t.location.href),r.hostname,l=null!=b?$.extend({},b):{},n=$.extend({},{enabled:!1,provider:"google",google:{autoHideOnUnfilled:!0,addBorderOnUnfilled:!0,checkTrackingProtection:!1,showErrorPageOnBlocked:!1}}),o=$.extend({},{enabled:!1,placement:"manual",google:{publisherID:"ca-pub-3885670015316130",autoPlaceAds:!1,autoHideOnUnfilled:!1,addBorderOnUnfilled:!0,ads:[{ad:null,enabled:!1,id:"ad_5128488466",layout:"home",content_page:"home",publisherID:"ca-pub-3885670015316130",test:"on",styles:"display:block;",slot:5128488466,ad_layout:"display",ad_format:"auto",ad_responsive:!0},{ad:null,enabled:!1,id:"ad_7284712660",layout:"home",content_page:"home",publisherID:"ca-pub-3885670015316130",test:"on",styles:"display:block;",slot:7284712660,ad_layout:"display",ad_format:"auto",ad_responsive:!0},{ad:null,enabled:!1,id:"ad_5128488466",layout:"page",content_page:"preview_google_adsense",publisherID:"ca-pub-3885670015316130",test:"on",styles:"display:block;",slot:5128488466,ad_layout:"display",ad_format:"auto",ad_responsive:!0},{ad:null,enabled:!1,id:"ad_7522184684",layout:"page",content_page:"preview_google_adsense",publisherID:"ca-pub-3885670015316130",test:"on",styles:"display:block; text-align:center;",slot:7522184684,ad_layout:"in-article",ad_format:"fluid"},{ad:null,enabled:!1,id:"ad_4814313879",layout:"page",content_page:"preview_google_adsense",publisherID:"ca-pub-3885670015316130",test:"on",styles:"display:block;",slot:4814313879,ad_layout:"multiplex",ad_format:"autorelaxed",ui_type:"image_stacked",ui_rows:1,ui_columns:4}]}}),d=$.extend(!0,{},n,o,l),a=d.layout,g=d.google.publisherID,m=!!g.includes('pub-'),i=d.google.autoHideOnUnfilled,s=d.google.addBorderOnUnfilled,d.google.checkTrackingProtection,d.google.showErrorPageOnBlocked;var y=setInterval(function(){var t='block'==$('#content').css("display");if('finished'===e.getState()&&t){var a=document.getElementsByClassName('adsbygoogle').length;_&&((f=log4javascript.getLogger('j1.adapter.advertising')).debug("\nfound ads in page: #"+a),f.debug("\nno ads initialized, advertising disabled")),clearInterval(y)}},10)},ad_initializer:function(){var n=setInterval(function(){var o='block'==$('#content').css("display"),l=document.getElementsByClassName('adsbygoogle').length>0,i=0;if('finished'===e.getState()&&o&&l){if(!m)return clearInterval(n),!1;if(d.google.ads.forEach(function(e){if(u.personalization){var t=document.getElementById(e.id);if(null!==t&&e.enabled&&e.layout==a){var n=document.createElement('ins');t.appendChild(n);var o='ins_'+e.id;n.setAttribute('id',o),n.className="adsbygoogle",document.getElementById(o).setAttribute('style',e.styles),document.getElementById(o).setAttribute('data-ad-test',e.test),document.getElementById(o).setAttribute('data-ad-client',e.publisherID),document.getElementById(o).setAttribute('data-ad-slot',e.slot),document.getElementById(o).setAttribute('data-ad-format',e.ad_format),'display'==e.ad_layout&&document.getElementById(o).setAttribute('data-full-width-responsive',e.ad_responsive),'multiplex'==e.ad_layout&&(document.getElementById(o).setAttribute('data-matched-content-ui-typ',e.ui_type),document.getElementById(o).setAttribute('data-matched-content-columns-num',e.ui_columns),document.getElementById(o).setAttribute('data-matched-content-rows-num',e.ui_rows)),i++}else e.layout==a&&_&&f.warn("\nad disabled on id "+e.id+' for slot: '+e.slot)}else _&&f.warn("\nskipped add settings on all ad containers")}),i>0){_&&f.info("\nads enabled found in page (total): "+i);var s=document.getElementsByClassName('adsbygoogle'),r=document.getElementsByClassName('adsbygoogle').length;r--,[].forEach.call(s,function(){r>0&&(adsbygoogle=t.adsbygoogle||[]).push({}),r--})}else _&&f.warn("\nno ads found in page for layout: "+a);clearInterval(n)}},10)},ad_monitor:function(){$('.adsbygoogle').attrchange({trackValues:!0,callback:function(e){var t=e.target.dataset,a=!e.target.className.includes('adsbygoogle-noablate'),n=!!'production'.includes('prod');if($('.adsbygoogle').is(":visible")&&a&&e.newValue!==e.oldValue)if('unfilled'===e.newValue)n?console.debug('detected ad blocks in state: unfilled'):f.warn("\ndetected ad on slot "+t.adSlot+' in state: '+e.newValue),s&&$('.adsbygoogle').addClass('border--dotted'),i&&(_&&f.info("\n hide ad on slot: "+t.adSlot),$('.adsbygoogle').hide());else if('filled'===e.newValue)_&&f.info("\ndetected ad on slot "+t.adSlot+' in state: '+e.newValue);else{var o=!!e.newValue.includes('display'),d=!!e.newValue.includes('dotted');o?n?console.info('detected ad blocks in state: filled'):f.info("\ndetected ad block on slot "+t.adSlot+' in state: filled'):d?n?console.info('detected ad blocks in state: unfilled'):f.info("\ndetected ad block on slot "+t.adSlot+' in state: unfilled'):n?console.warn('unknown ad state detected: '+e.newValue):f.warn("\nunknown ad state detected on slot "+t.adSlot+' : '+e.newValue)}}})},check_tracking_protection:function(){function e(){e.promise||(e.promise=new Promise(function(e,t){var a=Date.now(),n=new Image;n.onload=e,n.onerror=function(){Date.now()-a<50?t(new Error("Rejected.")):e(new Error("Takes too long."))},n.src='//www.facebook.com/tr/'}).then(()=>{!1})["catch"](e=>{!0,_&&t.debug("\ndetection details: "+e)}))}var t=log4javascript.getLogger('j1.adapter.advertising.monitor.tracking');_&&(b="\ncheck for trackingprotection",t.info(b)),e()},messageHandler:function(e,t){var a=JSON.stringify(t,undefined,2);return _&&(b="\nreceived message from "+e+': '+a,f.debug(b)),'command'===t.type&&'module_initialized'===t.action&&_&&f.info('\n'+t.text),!0},setState:function(e){p.state=e},getState:function(){return p.state}}}(j1,window);


