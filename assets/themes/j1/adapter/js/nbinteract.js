

  /*
 # -----------------------------------------------------------------------------
 # ~/assets/themes/j1/adapter/js/nbinteract.js
 # J1 Adapter for nbinteract
 #
 # Product/Info:
 # https://jekyll.one
 #
 # Copyright (C) 2022 Juergen Adams
 #
 # J1 Template is licensed under the MIT License.
 # For details, see: https://github.com/jekyll-one-org/j1-template/blob/main/LICENSE.md
 # -----------------------------------------------------------------------------
 #  Adapter generated: 2022-05-19 16:07:24 +0000
 # -----------------------------------------------------------------------------
*/
'use strict';j1.adapter.nbinteract=function(e,t){var n,i,a,o,s,r,l,d,c,b,m,u,p,_,g,h,f,x,v={},y={checkURL:!1},k={lines:13,length:38,width:17,radius:45,scale:2,corners:1,speed:.5,rotate:0,animation:'spinner-line-fade-more',direction:1,color:'#424242',fadeColor:'transparent',top:'70%',left:'50%',shadow:'0 0 1px transparent',zIndex:2e9,className:'spinner',position:'fixed'},I={resetLocalStorage:!0},j=!1,w='nbiModalSuccessBody',B="#nbiModalTRInfo",M="#nbiModalTRSuccess",N="#nbiModalTLDanger",T=!1,S='nbiModalSuccessMessages',L='nbiModalErrorMessages',z=!1;return{init:function(t){x={documentReady:function(e){'loading'!==document.readyState?e():document.addEventListener('DOMContentLoaded',e)}};$.extend({module_name:'j1.adapter.nbinteract',generated:'2022-05-19 16:07:24 +0000'},t);if(v=$.extend({},{enabled:!0,contentURL:"/assets/data/nbinteract",xhrDataElement:"nbi-modal-data",dialogContainerID:"nbi-dialog",dialogTitle:"NBI Settings",dialogBodyText:"\nThis website uses the <b>free</b> service <em>Binder</em> to process <b>interactive</b> widgets from content containing textbooks (HTML exported Jupyter Notebooks).\nThe Binder Service allows you to create custom computing environments that can be shared and used by many remote users. A Binder service is powered by <a href=\"https://github.com/jupyterhub/binderhub\" target=\"_blank\" rel=\"noopener\">BinderHub Repo on Github</a>, an open-source tool that runs on Kubernetes, a portable, extensible, open-source platform for managing containerized services. One such deployment lives at <a href=\"https://mybinder.org/\" target=\"_blank\" rel=\"noopener\">Binder Home</a>, and is free to use.\n<div class=\"admonitionblock caution\">\n  <table style=\"background: rgb(255, 255, 255);font-size: 100%\">\n    <tbody><tr>\n      <td class=\"icon\">\n        <i class=\"fa icon-caution\" title=\"Caution\"></i>\n      </td>\n      <td class=\"content\">\n        Each interactive element presented on this page uses <strong>time-consuming</strong>\n        operations that take a while to finish. The images and the interactive\n        elements are built through a backend in the cloud. Please be patient\n        to see the results.\n      </td>\n    </tr></tbody>\n  </table>\n</div>\n",dialogPrivacyNotice:"The service provided by<em>Binder</em> uses <b>cookies</b> to provide its service. Your consent on using cookies is required. Find more information about at the Binder at the <a href=\"https://mybinder.readthedocs.io/en/latest/about/user-guidelines.html#security-and-privacy\" target=\"_blank\" rel=\"noopener\">Privacy Policy.</a> of Binder. <br><br> Required Cookie Settings: <ul>\n  <li>\n    <code>Analysis</code> For translations, your consent on\n    <b>Analysis</b> with your <b>Privacy Settings</b> is required.\n  </li>                                        \n  <li>\n  <code>Personalization</code> For processing textbooks, your consent on\n  <b>Personalization</b> with your <b>Privacy Settings</b> (Cookie Settings) is required.\n  </li>\n</ul>\n",spec:"jekyll-one/j1-binder-repo/main",baseUrl:"https://mybinder.org",provider:"gh",button_styles:"btn btn-primary btn-raised hidden",show_nbi_messages:!1,indicate_nbi_activity:!0,nbi_messages_auto_close:!0,nbi_init_timeout:18e4,nbi_messages_auto_close_delay:3500,nbi_init_mathjax:!0,notebook_ready:"first_widget",textbooks:[{textbook:{enabled:!0,id:"j1_climate_change_forecast",xhr_data:"j1_climate_change_forecast.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!0}},{textbook:{enabled:!0,id:"j1_interactive_widgets",xhr_data:"j1_interactive_widgets.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"j1_docs_example_dynamic",xhr_data:"j1_docs_example_dynamic.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!0}},{textbook:{enabled:!0,id:"j1_circular_times_table",xhr_data:"j1_circular_times_table.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"j1_odes_in_python",xhr_data:"j1_odes_in_python.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!0}},{textbook:{enabled:!0,id:"j1_docs_example_dynamic",xhr_data:"j1_docs_example_dynamic.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_tutorial_interact",xhr_data:"nbi_docs_tutorial_interact.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_tutorial_monty_hall",xhr_data:"nbi_docs_tutorial_monty_hall.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_recipes_graphing",xhr_data:"nbi_docs_recipes_graphing.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_recipes_layout",xhr_data:"nbi_docs_recipes_layout.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_recipes_interactive_questions",xhr_data:"nbi_docs_recipes_interactive_questions.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_empirical_distributions",xhr_data:"nbi_docs_examples_empirical_distributions.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_examples_sampling_from_a_population",xhr_data:"nbi_docs_examples_sampling_from_a_population.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_examples_variability_of_the_sample_mean",xhr_data:"nbi_docs_examples_variability_of_the_sample_mean.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!0}},{textbook:{enabled:!0,id:"nbi_docs_examples_correlation",xhr_data:"nbi_docs_examples_correlation.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!0}},{textbook:{enabled:!0,id:"nbi_docs_examples_linear_regression",xhr_data:"nbi_docs_examples_linear_regression.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_examples_probability_distribution_plots",xhr_data:"nbi_docs_examples_probability_distribution_plots.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"nbi_docs_central_limit_theorem",xhr_data:"nbi_docs_examples_central_limit_theorem.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}}]}),m=e.adapter.nbinteract,u=log4javascript.getLogger('j1.adapter.nbinteract'),a=v.nbi_messages_auto_close,o=v.nbi_messages_auto_close_delay,s=v.nbi_init_timeout,n=v.show_nbi_messages,i=v.indicate_nbi_activity,r=v.nbi_init_mathjax,f=v.notebook_ready,r&&m.initMathJax(),m.loadDialog(v),m.loadNbiModals(),m.loadNbiTextbooks(v),$(document).ready(function(){i&&!j&&(j=!0,d=document.getElementById('content'),c=new Spinner(k).spin(d))}),n&&m.registerNbiModalsCB(),m.interactNbiTextbooks(v),'last_widget'==f)var l=setInterval(function(){z?($('.fab-btn').show(),clearInterval(l)):$('.fab-btn').hide()},25)},initMathJax:function(){var e=document.createElement('script'),t=document.createElement('script');e.setAttribute('src','//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML'),t.setAttribute('type','text/x-mathjax-config'),t.innerHTML="\n        MathJax.Hub.Config({\n            tex2jax: {\n              // inlineMath, displayMath\n              // ---------------------------------------------------------------\n              // TeX 'delimiters'. By default, the tex2jax preprocessor\n              // definesthe LaTeX math delimiters, which are (...) for\n              // 'in-line' math, and [...] for 'displayed' equations.\n              // It also defines the TeX delimiters $$...$$ for displayed\n              // equations, but it does not define $...$ as in-line math\n              // delimiters. That is because dollar signs appear too often\n              // in non-mathematical settings, which could cause some text\n              // to be treated as mathematics unexpectedly. For example,\n              // with single-dollar delimiters, 'the cost is $2.50' for the\n              // first one, and '$2.00' for each additional one would cause\n              // the phrase '2.50 for the first one' to be treated as\n              // mathematics since it falls between dollar signs. For this\n              // reason, if you want to use single-dollars for in-line math\n              // mode, you must enable that explicitly.\n              //\n              inlineMath: [ ['$','$'], [\"\\(\",\"\\)  \"] ],\n              displayMath: [ ['$$','$$'], [\"\\[\",\"\\]\"] ],\n\n              // processEscapes\n              // ---------------------------------------------------------------\n              // When 'processEscapes' set to true, you may use $ to\n              // representa literal dollar sign, rather than using it as\n              // a math delimiter. When false, $ will not be altered,\n              // and the dollar sign may be considered part of a math\n              // delimiter. Typically this is set to 'true' if you enable\n              // the $ ... $ in-line delimiters, so you can type $ and\n              // tex2jax will convert it to a regular dollar sign in the\n              // rendered document.\n              //\n              processEscapes: true,\n\n              // processEnvironments\n              // ---------------------------------------------------------------\n              // When 'processEnvironments' true, tex2jax looks not only\n              // for the in-line and display math delimiters, but also for\n              // LaTeX environments (\begin{something}...end{something})\n              // and marks them forprocessing by MathJax. When false, LaTeX\n              // environments will not be processed outside of math mode.\n              //\n              processEnvironments: false,\n\n              // skipTags\n              // ---------------------------------------------------------------\n              // The array 'skipTags' lists the names of the tags whose\n              // contents should NOT be processed by tex2jax.\n              //\n              skipTags: [\"script\",\"noscript\",\"style\",\"textarea\",\"pre\",\"code\"],\n\n              // processClass, ignoreClass\n              // ---------------------------------------------------------------\n              // These are the (CSS) classes name used to mark elements whose\n              // contents should or should NOT be processed by tex2jax.\n              //\n              processClass: \"mathjax\",\n              ignoreClass: \"nomathjax\"\n            },\n\n            // displayAlign\n            // -----------------------------------------------------------------\n            // Align (displayMath) equations left-sided in code and all\n            // markdown cells.\n            //\n            displayAlign: 'left',\n\n            // preview\n            // -----------------------------------------------------------------\n            // Controls whether tex2jax inserts 'MathJax_Preview' spans to\n            // make a preview available, and what preview to use, when it\n            // locates in-line or display mathematics in the page. The default\n            // is 'TeX', which means use the TeX code as the preview (which\n            // will be visible until it is processed by MathJax). Set to\n            // 'none' to prevent previews from being inserted.\n            //\n            preview: \"TeX\",\n\n            // CommonHTML, HTML-CSS, and SVG output processors\n            // -----------------------------------------------------------------\n            // The CommonHTML, HTML-CSS, and SVG output processors implement\n            // most of the MathML3 automatic line-breaking specification.\n            // Since line-breaking takes extra processing and so can slow\n            // down the mathematical output, it is off by default\n            //\n            CommonHTML: { linebreaks: { automatic: false } },\n            \"HTML-CSS\": { linebreaks: { automatic: false } },\n                   SVG: { linebreaks: { automatic: false } }\n        });\n\n        // Use Jax renderer 'CommonHTML' for default\n        //\n        MathJax.Hub.Register.StartupHook(\"End Jax\",function () {\n          var BROWSER = MathJax.Hub.Browser;\n          var jax = \"CommonHTML\";\n          if (BROWSER.hasMathPlayer) jax = \"NativeMML\";\n          return MathJax.Hub.setRenderer(jax);\n        });\n\n        // Register a message MessageHook\n        // ---------------------------------------------------------------------\n        // MathJax.Hub.Register.MessageHook(\"New Math\", function (message) {\n        //   var script = MathJax.Hub.getJaxFor(message[1]).SourceElement();\n        //   var j1_message = {};\n        //   j1_message.type    = 'command';\n        //   j1_message.action  = 'mathjax';\n        //   j1_message.text    = message[1];\n        //   this.j1.sendMessage('MathJax.Hub.MessageHook', 'j1.adapter.nbinteract', j1_message);\n        //   // console.error('nbinteract, Hub - New Math: ' + message[1]);\n        // });\n\n        // ---------------------------------------------------------------------\n        // END config\n      ",document.head.appendChild(e),document.head.appendChild(t)},loadNbiTextbooks:function(e){e.textbooks.forEach(function(t){if(t.textbook.enabled){var n=(l=t.textbook).id;$('#'+n).length&&m.loadTextbookHTML({xhr_container_id:l.id,xhr_data:l.xhr_data,xhr_data_path:l.xhr_data_path,use_mathjax:l.use_mathjax,translate_mathjax:l.translate_mathjax,altair_cleanups:l.altair_cleanups,buttonStyles:e.button_styles})}})},interactNbiTextbooks:function(n){m.setState('started'),u.debug("\nstate: "+m.getState()),m.checkURL(n.baseUrl,y);var r="\nnbinteract is being initialized";u.info(r);var l=setInterval(function(){if('finished_checks'==m.getState())if(clearInterval(l),y.checkURL){if($('#j1_climate_change_forecast').length){var r=setInterval(function(){if('loaded'==$('#j1_climate_change_forecast').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: j1_climate_change_forecast";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: j1_climate_change_forecast'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: j1_climate_change_forecast'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#j1_interactive_widgets').length){r=setInterval(function(){if('loaded'==$('#j1_interactive_widgets').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: j1_interactive_widgets";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: j1_interactive_widgets'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: j1_interactive_widgets'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#j1_docs_example_dynamic').length){r=setInterval(function(){if('loaded'==$('#j1_docs_example_dynamic').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: j1_docs_example_dynamic";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: j1_docs_example_dynamic'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: j1_docs_example_dynamic'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#j1_circular_times_table').length){r=setInterval(function(){if('loaded'==$('#j1_circular_times_table').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: j1_circular_times_table";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: j1_circular_times_table'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: j1_circular_times_table'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#j1_odes_in_python').length){r=setInterval(function(){if('loaded'==$('#j1_odes_in_python').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: j1_odes_in_python";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: j1_odes_in_python'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: j1_odes_in_python'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#j1_docs_example_dynamic').length){r=setInterval(function(){if('loaded'==$('#j1_docs_example_dynamic').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: j1_docs_example_dynamic";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: j1_docs_example_dynamic'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: j1_docs_example_dynamic'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_tutorial_interact').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_tutorial_interact').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_tutorial_interact";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_tutorial_interact'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_tutorial_interact'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_tutorial_monty_hall').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_tutorial_monty_hall').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_tutorial_monty_hall";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_tutorial_monty_hall'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_tutorial_monty_hall'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_recipes_graphing').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_recipes_graphing').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_recipes_graphing";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_recipes_graphing'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_recipes_graphing'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_recipes_layout').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_recipes_layout').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_recipes_layout";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_recipes_layout'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_recipes_layout'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_recipes_interactive_questions').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_recipes_interactive_questions').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_recipes_interactive_questions";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_recipes_interactive_questions'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_recipes_interactive_questions'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_empirical_distributions').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_empirical_distributions').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_empirical_distributions";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_empirical_distributions'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_empirical_distributions'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_examples_sampling_from_a_population').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_examples_sampling_from_a_population').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_examples_sampling_from_a_population";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_examples_sampling_from_a_population'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_examples_sampling_from_a_population'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_examples_variability_of_the_sample_mean').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_examples_variability_of_the_sample_mean').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_examples_variability_of_the_sample_mean";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_examples_variability_of_the_sample_mean'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_examples_variability_of_the_sample_mean'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_examples_correlation').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_examples_correlation').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_examples_correlation";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_examples_correlation'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_examples_correlation'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_examples_linear_regression').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_examples_linear_regression').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_examples_linear_regression";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_examples_linear_regression'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_examples_linear_regression'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_examples_probability_distribution_plots').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_examples_probability_distribution_plots').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_examples_probability_distribution_plots";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_examples_probability_distribution_plots'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L);m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_examples_probability_distribution_plots'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}if($('#nbi_docs_central_limit_theorem').length){r=setInterval(function(){if('loaded'==$('#nbi_docs_central_limit_theorem').attr('data-nb-textbook')){var l=document.querySelectorAll('.js-nbinteract-widget').length;if(i&&1==l){var d="\nnon-nbi textbook found, skip NBI initialization for: nbi_docs_central_limit_theorem";u.warn(d),c.stop()}!T&&l>1&&(_="\njupyter kernel is being generated ...",u.info(_),p=log4javascript.getLogger('nbinteract.core'),new NbInteract({spec:n.spec,baseUrl:n.baseUrl,provider:n.provider,logger:p,j1API:e}).prepare(),T=!0,t.setTimeout(function(){m.getNbiButtonState()?(u.warn('NBI initialialization failed on textbook: nbi_docs_central_limit_theorem'),c.stop(),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(L)
;m.appendModalMessage(e,'NBI initialialization failed for textbook: nbi_docs_central_limit_theorem'),$(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o)}})):u.info('NBI initialized successfully.')},s)),clearInterval(r)}},25);return}}else{c.stop();var d="\n              The <i>Binder Service</i> is currently not available or is overloaded.\n              All interactive components on the page are <b>not</b> available.\n              You can reload the page or re-open later again.\n            ";u.error('\n','Binder access: failed'),$(B).is(':hidden')&&(document.getElementById('nbiModalTRInfoBody').innerHTML=d,$(B).modal('show')),clearInterval(l)}},25)},loadTextbookHTML:function(t){var n,a,o,s=t.xhr_data_path+'/'+t.xhr_data,r=t.xhr_container_id,l=!!t.use_mathjax&&t.use_mathjax,d=(!!t.translate_mathjax&&t.translate_mathjax,!!t.altair_cleanups&&t.altair_cleanups),b=!1,m=$('#'+r),p=function(s,r){return function(u,p,_){var g=log4javascript.getLogger('j1.adapter.loadHTML');if('success'===p){e.setXhrDataState(s,p),e.setXhrDomState(s,'pending'),m.attr('data-nb-textbook','loaded'),m.find('button').replaceWith(function(){return'<button class="'+t.buttonStyles+' js-nbinteract-widget"> Loading widgets ...</button>'});var h=document.getElementById(s);r?h.classList.add('mathjax'):h.classList.add('nomathjax');var f=document.getElementsByClassName('output_wrapper');if([...f].forEach(function(e){e.className.includes('notranslate')||(e.className+=' notranslate')}),d){var x,v,y,k,I=new RegExp(/_/,'g'),j=new RegExp(/\s+/,'g'),w=new RegExp(/^\s+/,'g'),B=new RegExp(/\s+$/,'g'),M=new RegExp(/vgsid|bla/,'g'),N=new RegExp(/(\b\S.+\b)(?=.*\1)/,'g'),T=!1;n=document.querySelectorAll('*[id^="altair-viz"]');for(var S=0;S<n.length;S++){y=document.getElementById(n[S].id);var L=setInterval(function(){T=S==n.length,y.clientHeight&&T&&!b&&(b=!0,g.debug("\nlast widget rendered "+y.id+' : '+y.clientHeight),clearInterval(L))},25)}var z=setInterval(function(){if(b){for(var e of n)if(y=document.getElementById(e.id),g.debug("\nprocessing widget on id: "+e.id),(k=y.getElementsByClassName('vega-bind-name')).length)for(var t=0;t<k.length;t++)x=k[t].innerHTML,v=(v=(v=(v=(v=(v=x.replace(I,' ')).replace(N,'')).replace(M,'')).replace(j,' ')).replace(w,'')).replace(B,''),k[t].innerHTML=v,!0;g.debug("\nall widgets updated"),clearInterval(z)}},25)}if([...f].forEach(function(e){e.className.includes('nomathjax')&&(e.className+=' nomathjax')}),[...document.getElementsByTagName('img')].forEach(function(e){e.className.includes('img-fluid')||(e.className+=' img-fluid')}),l&&!!0)var E=setInterval(function(){if((a=document.querySelectorAll('*[id$="-Frame"]')).length){var t=setInterval(function(){if('mathjax_finished'==e.adapter.nbinteract.getState()){a=document.querySelectorAll('*[id$="-Frame"]');for(var n=0;n<a.length;n++)y=a[n],g.error("\nelement: "+y.id),y.classList.add('notranslate');clearInterval(t)}},25);clearInterval(E)}},25);m.find('h1').replaceWith(function(){return'<h1 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h1>'}),m.find('h2').replaceWith(function(){return'<h2 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h2>'}),m.find('h3').replaceWith(function(){return'<h3 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h3>'}),m.find('h4').replaceWith(function(){return'<h4 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h4>'}),m.find('h5').replaceWith(function(){return'<h5 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h5>'}),o="\ndata loaded successfully on id: "+s,g.info(o)}if('error'===p&&void 0!==s){i&&c.stop(),e.setXhrDataState(s,p),e.setXhrDomState(s,'pending'),o="\nloading data failed on id: "+s+', error '+_.status+': '+_.statusText,g.error(o),!1}}};''!==t.xhr_data?(u.info("\nHTML data file found: "+t.xhr_data),m.length&&m.load(s,p(r,l))):u.warning("\nno HTML data file found, loading data aborted")},registerNbiModalsCB:function(){t.setInterval(function(){var e=document.getElementById(w);e.scrollTop=e.scrollHeight},500),$('#nbiModalTopInfo').on('hidden.bs.modal',function(){document.getElementById(nbiModalInfoMessagesID).children.length&&(u.debug('modal closed nbiModalTopInfo: remove all messages'),m.removeModalMessages(nbiModalInfoMessagesID))}),$('#nbiModalTRSuccess').on('hidden.bs.modal',function(){document.getElementById(S).children.length&&(u.debug('modal closed nbiModalTRSuccess: remove all messages'),m.removeModalMessages(S))}),$('#nbiModalTLDanger').on('hidden.bs.modal',function(){document.getElementById(L).children.length&&(u.debug('modal closed nbiModalTLDanger: remove all messages'),m.removeModalMessages(L)),i&&c.stop()})},loadNbiModals:function(){const e="\n        <div id=\"nbiModalTopInfo\"\n          class=\"modal fade top\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"\n          data-keyboard=\"false\"\n          data-backdrop=\"static\">\n          <div class=\"modal-dialog modal-frame modal-top modal-notify modal-info\" role=\"document\">\n            <!-- Icon -->\n            <div class=\"text-center\">\n              <i class=\"mdi mdi-10x mdi-progress-clock mdi-spin md-green mb-1\"></i>\n            </div>\n            <!-- Content -->\n            <div class=\"modal-content\">\n              <!-- Body -->\n              <div id=\"nbiModalInfoBody\" class=\"modal-body\">\n                <div>\n                  <ul id=\"nbiModalInfoMessages\"></ul>\n                </div>\n                <!-- Footer -->\n                <div class=\"modal-footer justify-content-center\">\n                  <a type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">OK, thanks</a>\n                </div>\n              </div>\n            </div>\n            <!-- END Content -->\n          </div>\n        </div>\n      ",t="\n        <div id=\"nbiModalTRInfo\"\n          class=\"modal fade right\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"\n          data-bs-keyboard=\"false\"\n          data-bs-backdrop=\"static\">\n          <div class=\"modal-dialog modal-dialog-scrollable modal-side-2x modal-top-right modal-notify modal-success\" role=\"document\">\n            <!-- Content -->\n            <div class=\"modal-content\">\n              <!-- Header -->\n              <div class=\"modal-header\">\n                <p class=\"lead\">Information</p>\n                <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                  <i class=\"mdi mdi-close mdi-dark mdi-48px\"></i>\n                </button>\n              </div>\n              <!-- Icon -->\n              <div class=\"text-center\">\n                <i class=\"mdi mdi-10x mdi-information-variant mdi-spin md-green mb-1\"></i>\n              </div>\n              <!-- Body -->\n              <div id=\"nbiModalTRInfoBody\" class=\"modal-body\">\n                <div>\n                  <p> Placeholder </p>\n                </div>\n              </div>\n              <!-- Footer -->\n              <div class=\"modal-footer justify-content-center\">\n                <a type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">OK, thanks</a>\n              </div>\n            </div>\n            <!-- END Content -->\n          </div>\n        </div>\n      ",n="\n        <div id=\"nbiModalTRSuccess\"\n          class=\"modal fade right\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"\n          data-bs-keyboard=\"false\"\n          data-bs-backdrop=\"static\">\n          <div class=\"modal-dialog modal-dialog-scrollable modal-side-2x modal-top-right modal-notify modal-success\" role=\"document\">\n            <!-- Content -->\n            <div class=\"modal-content\">\n              <!-- Header -->\n              <div class=\"modal-header\">\n                <p class=\"lead\">NBI - Information</p>\n                <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                  <i class=\"mdi mdi-close mdi-dark mdi-48px\"></i>\n                </button>\n              </div>\n              <!-- Icon -->\n              <div class=\"text-center\">\n                <i class=\"mdi mdi-10x mdi-loading mdi-spin md-green mb-1\"></i>\n              </div>\n              <!-- Body -->\n              <div id=\"nbiModalSuccessBody\" class=\"modal-body\">\n                <div>\n                  <p> Initializing your Binder. This may take a while ...</p>\n                  <ul id=\"nbiModalSuccessMessages\"></ul>\n                </div>\n              </div>\n              <!-- Footer -->\n              <div class=\"modal-footer justify-content-center\">\n                <a type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">OK, thanks</a>\n              </div>\n            </div>\n            <!-- END Content -->\n          </div>\n        </div>\n      ",i="\n        <div id=\"nbiModalTLDanger\"\n          class=\"modal fade left\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"\n          data-bs-keyboard=\"false\"\n          data-bs-backdrop=\"static\">\n          <div class=\"modal-dialog modal-side-2x modal-top-left modal-notify modal-danger\" role=\"document\">\n            <!-- Content -->\n            <div id=\"nbiModalErrorBody\" class=\"modal-content\">\n              <!--Header-->\n              <div class=\"modal-header\">\n                <p class=\"lead\">NBI - Error</p>\n                <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                  <i class=\"mdi mdi-close mdi-dark mdi-48px\"></i>\n                </button>\n              </div>\n              <!-- Icon -->\n              <div class=\"text-center\">\n                <i class=\"mdi mdi-10x mdi-alert md-red mb-1\"></i>\n              </div>\n              <!-- Body -->\n              <div id=\"nbiModalErrorBody\" class=\"modal-body\">\n                <p> Initializing NbInteract failed:</p>\n                <div>\n                  <ul id=\"nbiModalErrorMessages\"></ul>\n                </div>\n              </div>\n              <!-- Footer -->\n              <div class=\"modal-footer justify-content-center\">\n                <a type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">OK, thanks</a>\n              </div>\n            </div>\n            <!-- END Content -->\n          </div>\n        </div>\n      ";(b=document.createElement('div')).id='nbi-modal-info',b.className='nbi-modal',b.innerHTML=e,document.body.appendChild(b),(b=document.createElement('div')).id='nbi-modal-info',b.className='nbi-modal',b.innerHTML=t,document.body.appendChild(b),(b=document.createElement('div')).id='nbi-modal-success',b.className='nbi-modal',b.innerHTML=n,document.body.appendChild(b),(b=document.createElement('div')).id='nbi-modal-danger',b.className='nbi-modal',b.innerHTML=i,document.body.appendChild(b)},messageHandler:function(e,s){var r=JSON.stringify(s,undefined,2),l=document.getElementById(S),d=document.getElementById(L),b=!1;if(_="\nreceived message from "+e+': '+r,u.debug(_),'command'===s.type&&'nbi_init_started'===s.action){n&&a&&t.setTimeout(function(){$(M).modal('hide')},o),'first_widget'==f&&(i&&c.stop(),$('.fab-btn').show()),g=document.querySelectorAll('.output_widget_view').length;var p=setInterval(function(){(h=document.querySelectorAll('.widget-vbox').length)>=g&&(u.info("\nwidgets rendered in page (interactive|total) : "+g+'|'+h),z=!0,i&&c.stop(),m.setState('finished'),u.debug("\nstate: "+m.getState()),u.info("\ninitializing module finished"),clearInterval(p))},25);$('#quickLinksNotebookseButton').show()}if('command'===s.type&&'mathjax'===s.action){u.error("\nNew Math, ID: "+s.text);var x=setInterval(function(){var e=document.getElementById("MathJax-Element-6-Frame");!(!e.classList.contains('MJXc-processing')&&!e.classList.contains('MJXc-processed'))||b||(b=!0,e.classList.add('notranslate'),u.error("\nNew Math, ID: "+s.text)),clearInterval(x)},25)}'command'===s.type&&'info'===s.action&&((s.text.includes('Displaying widget')||s.text.includes('First widget'))&&u.debug('\n'+s.text),(y=s.text.split('] ')[1])&&(s.text=y),m.appendModalMessage(l,s.text),u.debug('\n'+s.text),n&&$(M).is(':hidden')&&$(M).modal('show'));if('command'===s.type&&'error'===s.action){var y;if(s.text.includes('Too many users')||s.text.includes('Insufficent nodes')||s.text.includes('ImagePullBackOff')||s.text.includes('failed to connect')){var k="\n            The <i>Binder Service</i> seems currently not available or is overloaded.\n            All interactive components on the page are <b>not</b> available.\n            You can reload the page now to re-connect or re-open it at a later time.\n          ";return u.error('\n','Binder access failed: '+s.text),void($(B).is(':hidden')&&(document.getElementById('nbiModalTRInfoBody').innerHTML=k,$(B).modal('show')))}(y=s.text.split('] ')[1])&&(s.text=y),m.appendModalMessage(d,s.text),u.error('\n'+s.text),v.indicate_nbi_activity&&c.stop(),n&&($(M).on('shown.bs.modal',function(){$(M).modal('hide')}),$(M).modal('hide'),$(M).on('hidden.bs.modal',function(){$(N).is(':hidden')&&($(N).modal('show'),a&&t.setTimeout(function(){$(N).modal('hide')},o))})),i&&c.stop()}return!0},getNbiButtonState:function(){return!!document.querySelectorAll('.js-nbinteract-widget').length},setState:function(e){m.state=e},getState:function(){return m.state},checkURL:function(e,t){m.setState('process_checks'),$.get(e).done(function(){return m.setState('finished_checks'),t.checkURL=!0,!0}).fail(function(){m.setState('finished_checks'),t.checkURL=!1})},loadDialog:function(e){x.documentReady(function(){if(m.modal=document.getElementById(e.dialogContainerID),!m.modal){u.info("\nload consent modal"),m.modal=document.createElement('div'),m.modal.id=e.dialogContainerID,m.modal.style.display='none',m.modal.setAttribute('class','modal fade'),m.modal.setAttribute('tabindex','-1'),m.modal.setAttribute('role','dialog'),m.modal.setAttribute('aria-labelledby',e.dialogContainerID),document.body.append(m.modal),m.$modal=$(m.modal);var t=e.contentURL+"/index.html";$.get(t).done(function(t){m.modal.innerHTML=t,m.modal.innerHTML=$('#'+e.xhrDataElement).eq(0).html(),$(m.modal).modal({backdrop:'static',keyboard:!1}),m.$buttonDoNotAgree=$('#nbi-buttonDoNotAgree'),m.$buttonAgree=$('#nbi-buttonAgree'),m.$buttonSave=$('#nbi-buttonSave'),m.$buttonAgreeAll=$('#nbi-buttonAgreeAll'),m.registerActions(),m.$buttonDoNotAgree.click(function(){m.doNotAgree()}),m.$buttonAgree.click(function(){m.agreeAll()})}).fail(function(){u.error("\nloading nbi dialog (modal): failed"),u.warn("\nprobably no|wrong `contentURL` set")})}}.bind(m))},showDialog:function(){this.$modal.modal('show')},registerActions:function(){$('input:checkbox[name="checkboxClearLocalStorage"]').on('click',function(e){I.resetLocalStorage=$(this).is(':checked'),_="\naction ClearLocalStorage changed to: "+value,u.info(_),e.stopPropagation()})},doNotAgree:function(){m.$modal.modal('hide')},agreeAll:function(){I.resetLocalStorage&&(_="\nrun action: \"Clear Binder Settings\"",u.info(_),localStorage.removeItem('serverParams'),localStorage.removeItem('kernelId')),m.$modal.modal('hide'),location.reload(!0)},appendModalMessage:function(e,t){var n=document.createElement('li');n.setAttribute('class','item'),e.appendChild(n),n.innerHTML=n.innerHTML+t},removeModalMessages:function(e){var t=document.getElementById(e),n=t.children.length;if(n)for(var i=0;i<n;i++)t.removeChild(t.children[0])}}}(j1,window);


