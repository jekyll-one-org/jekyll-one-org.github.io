

  /*
 # -----------------------------------------------------------------------------
 # ~/assets/themes/j1/adapter/js/nbinteract.js
 # J1 Adapter for j1-nbinteract
 #
 # Product/Info:
 # https://jekyll.one
 #
 # Copyright (C) 2022 Juergen Adams
 #
 # J1 Template is licensed under the MIT License.
 # For details, see: https://github.com/jekyll-one-org/j1-template/blob/main/LICENSE.md
 # -----------------------------------------------------------------------------
 #  Adapter generated: 2022-06-26 19:49:30 +0000
 # -----------------------------------------------------------------------------
*/
'use strict';j1.adapter.nbinteract=function(e,t){var n,a,i,o,r,d,l,s,c,b,u,m,_,h,g,p,f,x,v={},k={checkURL:!1},j={lines:13,length:38,width:17,radius:45,scale:2,corners:1,speed:.5,rotate:0,animation:'spinner-line-fade-more',direction:1,color:'#424242',fadeColor:'transparent',top:'70%',left:'50%',shadow:'0 0 1px transparent',zIndex:2e9,className:'spinner',position:'fixed'},y={resetLocalStorage:!0},I=!1,w='nbiModalSuccessBody',M="#nbiModalTRInfo",B="#nbiModalTRSuccess",N="#nbiModalTLDanger",T=!1,S='nbiModalSuccessMessages',z='nbiModalErrorMessages',L=!1;return{init:function(t){x={documentReady:function(e){'loading'!==document.readyState?e():document.addEventListener('DOMContentLoaded',e)}};$.extend({module_name:'j1.adapter.nbinteract',generated:'2022-06-26 19:49:30 +0000'},t);if(v=$.extend({},{enabled:!0,baseUrls:{preferred:"mybinder",mybinder:"https://mybinder.org",gke:"https://gke.mybinder.org",ovh:"https://ovh.mybinder.org",gesis:"https://gesis.mybinder.org",turing:"https://turing.mybinder.org"},providers:{preferred:"github",github:{provider_id:"gh",provider_spec:"jekyll-one/j1-binder-repo/main"},zenodo:{provider_id:"zenodo",provider_spec:"10.5281/zenodo.6721479"}},show_nbi_messages:!1,indicate_nbi_activity:!0,nbi_messages_auto_close:!0,nbi_init_timeout:18e4,nbi_messages_auto_close_delay:3500,nbi_init_mathjax:!0,notebook_ready:"first_widget",contentURL:"/assets/data/nbinteract",xhrDataElement:"nbi-modal-data",dialogContainerID:"nbi-dialog",dialogTitle:"NBI Settings",dialogBodyText:"\nThis website uses the <b>free</b> service <em>Binder</em> to process <b>interactive</b> widgets from content containing textbooks (HTML exported Jupyter Notebooks).\nThe Binder Service allows you to create custom computing environments that can be shared and used by many remote users. A Binder service is powered by <a href=\"https://github.com/jupyterhub/binderhub\" target=\"_blank\" rel=\"noopener\">BinderHub Repo on Github</a>, an open-source tool that runs on Kubernetes, a portable, extensible, open-source platform for managing containerized services. One such deployment lives at <a href=\"https://mybinder.org/\" target=\"_blank\" rel=\"noopener\">Binder Home</a>, and is free to use.\n<div class=\"admonitionblock caution\">\n  <table style=\"background: rgb(255, 255, 255);font-size: 100%\">\n    <tbody><tr>\n      <td class=\"icon\">\n        <i class=\"fa icon-caution\" title=\"Caution\"></i>\n      </td>\n      <td class=\"content\">\n        Each interactive element presented on this page uses <strong>time-consuming</strong>\n        operations that take a while to finish. The images and the interactive\n        elements are built through a backend in the cloud. Please be patient\n        to see the results.\n      </td>\n    </tr></tbody>\n  </table>\n</div>\n",dialogPrivacyNotice:"The service provided by<em>Binder</em> uses <b>cookies</b> to provide its service. Your consent on using cookies is required. Find more information about at the Binder at the <a href=\"https://mybinder.readthedocs.io/en/latest/about/user-guidelines.html#security-and-privacy\" target=\"_blank\" rel=\"noopener\">Privacy Policy.</a> of Binder. <br><br> Required Cookie Settings: <ul>\n  <li>\n    <code>Analysis</code> For translations, your consent on\n    <b>Analysis</b> with your <b>Privacy Settings</b> is required.\n  </li>\n  <li>\n  <code>Personalization</code> For processing textbooks, your consent on\n  <b>Personalization</b> with your <b>Privacy Settings</b> (Cookie Settings) is required.\n  </li>\n</ul>\n",button_styles:"btn btn-primary btn-raised hidden",textbooks:[{textbook:{enabled:!0,id:"j1_climate_change_forecast",xhr_data:"j1_climate_change_forecast.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!0,translate_mathjax:!1}},{textbook:{enabled:!0,id:"j1_altair_non_interactive",xhr_data:"j1_altair_non_interactive.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!0}},{textbook:{enabled:!0,id:"j1_altair_interactive",xhr_data:"j1_altair_interactive.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!0}},{textbook:{enabled:!0,id:"j1_bokeh_01_basic_plotting",xhr_data:"j1_bokeh_01_basic_plotting.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_bokeh_02_styling_and_theming",xhr_data:"j1_bokeh_02_styling_and_theming.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_bokeh_03_data_sources_and_transformations",xhr_data:"j1_bokeh_03_data_sources_and_transformations.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_bokeh_04_adding_annotations",xhr_data:"j1_bokeh_04_adding_annotations.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_bokeh_05_presentation_layouts",xhr_data:"j1_bokeh_05_presentation_layouts.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_bokeh_06_linking_and_interactions",xhr_data:"j1_bokeh_06_linking_and_interactions.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_bokeh_07_bar_and_categorical_data_plots",xhr_data:"j1_bokeh_07_bar_and_categorical_data_plots.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_bokeh_08_graph_and_network_plots",xhr_data:"j1_bokeh_08_graph_and_network_plots.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_bokeh_09_geographic_plots",xhr_data:"j1_bokeh_09_geographic_plots.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!1,id:"j1_bokeh_10_exporting_and_embedding",xhr_data:"j1_bokeh_10_exporting_and_embedding.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!1,id:"j1_bokeh_11_running_bokeh_applications",xhr_data:"j1_bokeh_11_running_bokeh_applications.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1,altair_cleanups:!1}},{textbook:{enabled:!0,id:"j1_interactive_widgets",xhr_data:"j1_interactive_widgets.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!0,id:"j1_odes_in_python",xhr_data:"j1_odes_in_python.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!0,translate_mathjax:!0}},{textbook:{enabled:!0,id:"j1_circular_times_table",xhr_data:"j1_circular_times_table.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!1,id:"j1_pandas_intro",xhr_data:"j1_pandas_creating_reading_and_writing.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}},{textbook:{enabled:!1,id:"j1_testing_plotly",xhr_data:"j1_testing_plotly.html",xhr_data_path:"/pages/public/jupyter/notebooks/textbooks",use_mathjax:!1}}]}),u=e.adapter.nbinteract,m=log4javascript.getLogger('j1.adapter.nbinteract'),i=v.nbi_messages_auto_close,o=v.nbi_messages_auto_close_delay,r=v.nbi_init_timeout,n=v.show_nbi_messages,a=v.indicate_nbi_activity,d=v.nbi_init_mathjax,f=v.notebook_ready,d&&u.initMathJax(),u.loadDialog(v),u.loadNbiModals(),u.loadNbiTextbooks(v),$(document).ready(function(){a&&!I&&(I=!0,s=document.getElementById('content'),c=new Spinner(j).spin(s))}),n&&u.registerNbiModalsCB(),u.interactNbiTextbooks(v),'last_widget'==f)var l=setInterval(function(){L?($('.fab-btn').show(),clearInterval(l)):$('.fab-btn').hide()},25)},initMathJax:function(){var e=document.createElement('script'),t=document.createElement('script');e.setAttribute('src','//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML'),t.setAttribute('type','text/x-mathjax-config'),t.innerHTML="\n        MathJax.Hub.Config({\n            tex2jax: {\n              // inlineMath, displayMath\n              // ---------------------------------------------------------------\n              // TeX 'delimiters'. By default, the tex2jax preprocessor\n              // definesthe LaTeX math delimiters, which are (...) for\n              // 'in-line' math, and [...] for 'displayed' equations.\n              // It also defines the TeX delimiters $$...$$ for displayed\n              // equations, but it does not define $...$ as in-line math\n              // delimiters. That is because dollar signs appear too often\n              // in non-mathematical settings, which could cause some text\n              // to be treated as mathematics unexpectedly. For example,\n              // with single-dollar delimiters, 'the cost is $2.50' for the\n              // first one, and '$2.00' for each additional one would cause\n              // the phrase '2.50 for the first one' to be treated as\n              // mathematics since it falls between dollar signs. For this\n              // reason, if you want to use single-dollars for in-line math\n              // mode, you must enable that explicitly.\n              //\n              inlineMath: [ ['$','$'], [\"\\(\",\"\\)  \"] ],\n              displayMath: [ ['$$','$$'], [\"\\[\",\"\\]\"] ],\n\n              // processEscapes\n              // ---------------------------------------------------------------\n              // When 'processEscapes' set to true, you may use $ to\n              // representa literal dollar sign, rather than using it as\n              // a math delimiter. When false, $ will not be altered,\n              // and the dollar sign may be considered part of a math\n              // delimiter. Typically this is set to 'true' if you enable\n              // the $ ... $ in-line delimiters, so you can type $ and\n              // tex2jax will convert it to a regular dollar sign in the\n              // rendered document.\n              //\n              processEscapes: true,\n\n              // processEnvironments\n              // ---------------------------------------------------------------\n              // When 'processEnvironments' true, tex2jax looks not only\n              // for the in-line and display math delimiters, but also for\n              // LaTeX environments (\begin{something}...end{something})\n              // and marks them forprocessing by MathJax. When false, LaTeX\n              // environments will not be processed outside of math mode.\n              //\n              processEnvironments: false,\n\n              // skipTags\n              // ---------------------------------------------------------------\n              // The array 'skipTags' lists the names of the tags whose\n              // contents should NOT be processed by tex2jax.\n              //\n              skipTags: [\"script\",\"noscript\",\"style\",\"textarea\",\"pre\",\"code\"],\n\n              // processClass, ignoreClass\n              // ---------------------------------------------------------------\n              // These are the (CSS) classes name used to mark elements whose\n              // contents should or should NOT be processed by tex2jax.\n              //\n              processClass: \"mathjax\",\n              ignoreClass: \"nomathjax\"\n            },\n\n            // displayAlign\n            // -----------------------------------------------------------------\n            // Align (displayMath) equations left-sided in code and all\n            // markdown cells.\n            //\n            displayAlign: 'left',\n\n            // preview\n            // -----------------------------------------------------------------\n            // Controls whether tex2jax inserts 'MathJax_Preview' spans to\n            // make a preview available, and what preview to use, when it\n            // locates in-line or display mathematics in the page. The default\n            // is 'TeX', which means use the TeX code as the preview (which\n            // will be visible until it is processed by MathJax). Set to\n            // 'none' to prevent previews from being inserted.\n            //\n            preview: \"TeX\",\n\n            // CommonHTML, HTML-CSS, and SVG output processors\n            // -----------------------------------------------------------------\n            // The CommonHTML, HTML-CSS, and SVG output processors implement\n            // most of the MathML3 automatic line-breaking specification.\n            // Since line-breaking takes extra processing and so can slow\n            // down the mathematical output, it is off by default\n            //\n            CommonHTML: { linebreaks: { automatic: false } },\n            \"HTML-CSS\": { linebreaks: { automatic: false } },\n                   SVG: { linebreaks: { automatic: false } }\n        });\n\n        // Use Jax renderer 'CommonHTML' for default\n        //\n        MathJax.Hub.Register.StartupHook(\"End Jax\",function () {\n          var BROWSER = MathJax.Hub.Browser;\n          var jax = \"CommonHTML\";\n          if (BROWSER.hasMathPlayer) jax = \"NativeMML\";\n          return MathJax.Hub.setRenderer(jax);\n        });\n\n        // Register a message MessageHook\n        // ---------------------------------------------------------------------\n        // MathJax.Hub.Register.MessageHook(\"New Math\", function (message) {\n        //   var script = MathJax.Hub.getJaxFor(message[1]).SourceElement();\n        //   var j1_message = {};\n        //   j1_message.type    = 'command';\n        //   j1_message.action  = 'mathjax';\n        //   j1_message.text    = message[1];\n        //   this.j1.sendMessage('MathJax.Hub.MessageHook', 'j1.adapter.nbinteract', j1_message);\n        //   // console.error('nbinteract, Hub - New Math: ' + message[1]);\n        // });\n\n        // ---------------------------------------------------------------------\n        // END config\n      ",document.head.appendChild(e),document.head.appendChild(t)},loadNbiTextbooks:function(e){e.textbooks.forEach(function(t){if(t.textbook.enabled){var n=(l=t.textbook).id;$('#'+n).length&&u.loadTextbookHTML({xhr_container_id:l.id,xhr_data:l.xhr_data,xhr_data_path:l.xhr_data_path,use_mathjax:l.use_mathjax,translate_mathjax:l.translate_mathjax,altair_cleanups:l.altair_cleanups,buttonStyles:e.button_styles})}})},interactNbiTextbooks:function(n){var d=n.baseUrls.preferred,l=n.baseUrls[d],s=n.providers.preferred,b=n.providers[s].provider_id,g=n.providers[s].provider_spec;u.setState('started'),m.debug("\nstate: "+u.getState()),u.checkURL(l,k);var p="\nnbinteract is being initialized";m.info(p);var f=setInterval(function(){if('finished_checks'==u.getState())if(clearInterval(f),k.checkURL){if($('#j1_climate_change_forecast').length){var n=setInterval(function(){if('loaded'==$('#j1_climate_change_forecast').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_climate_change_forecast";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_climate_change_forecast'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_climate_change_forecast'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_altair_non_interactive').length){n=setInterval(function(){if('loaded'==$('#j1_altair_non_interactive').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_altair_non_interactive";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_altair_non_interactive'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_altair_non_interactive'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_altair_interactive').length){n=setInterval(function(){if('loaded'==$('#j1_altair_interactive').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_altair_interactive";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_altair_interactive'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_altair_interactive'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_01_basic_plotting').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_01_basic_plotting').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_01_basic_plotting";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_01_basic_plotting'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_01_basic_plotting'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_02_styling_and_theming').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_02_styling_and_theming').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_02_styling_and_theming";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_02_styling_and_theming'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_02_styling_and_theming'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_03_data_sources_and_transformations').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_03_data_sources_and_transformations').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_03_data_sources_and_transformations";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_03_data_sources_and_transformations'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_03_data_sources_and_transformations'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_04_adding_annotations').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_04_adding_annotations').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_04_adding_annotations";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_04_adding_annotations'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_04_adding_annotations'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_05_presentation_layouts').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_05_presentation_layouts').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_05_presentation_layouts";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_05_presentation_layouts'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_05_presentation_layouts'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_06_linking_and_interactions').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_06_linking_and_interactions').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_06_linking_and_interactions";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_06_linking_and_interactions'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_06_linking_and_interactions'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_07_bar_and_categorical_data_plots').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_07_bar_and_categorical_data_plots').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_07_bar_and_categorical_data_plots";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_07_bar_and_categorical_data_plots'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_07_bar_and_categorical_data_plots'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_08_graph_and_network_plots').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_08_graph_and_network_plots').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_08_graph_and_network_plots";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_08_graph_and_network_plots'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_08_graph_and_network_plots'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_bokeh_09_geographic_plots').length){n=setInterval(function(){if('loaded'==$('#j1_bokeh_09_geographic_plots').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_bokeh_09_geographic_plots";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_bokeh_09_geographic_plots'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_bokeh_09_geographic_plots'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_interactive_widgets').length){n=setInterval(function(){if('loaded'==$('#j1_interactive_widgets').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_interactive_widgets";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_interactive_widgets'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_interactive_widgets'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_odes_in_python').length){n=setInterval(function(){if('loaded'==$('#j1_odes_in_python').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_odes_in_python";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_odes_in_python'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_odes_in_python'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}if($('#j1_circular_times_table').length){n=setInterval(function(){if('loaded'==$('#j1_circular_times_table').attr('data-nb-textbook')){var d=document.querySelectorAll('.js-nbinteract-widget').length;if(a&&1==d){var s="\nlocalized textbook found, skip NBI initialization for: j1_circular_times_table";m.warn(s),c.stop()}!T&&d>1&&(h="\njupyter kernel is being generated ...",m.info(h),_=log4javascript.getLogger('j1.nbinteract-core'),new NbInteract({baseUrl:l,provider:b,spec:g,logger:_,j1API:e}).prepare(),T=!0,t.setTimeout(function(){u.getNbiButtonState()?(m.warn('NBI initialialization failed on textbook: j1_circular_times_table'),c.stop(),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){if($(N).is(':hidden')){var e=document.getElementById(z);u.appendModalMessage(e,'NBI initialialization failed for textbook: j1_circular_times_table'),$(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o)}})):m.info('NBI initialized successfully.')},r)),clearInterval(n)}},25);return}}else{c.stop();var d="\n              The <i>Binder Service</i> is currently not available or is overloaded.\n              All interactive components on the page are <b>not</b> available.\n              You can reload the page or re-open later again.\n            ";m.error('\n','Binder access: failed'),$(M).is(':hidden')&&(document.getElementById('nbiModalTRInfoBody').innerHTML=d,$(M).modal('show')),clearInterval(f)}},25)},loadTextbookHTML:function(t){var n,i,o,r=t.xhr_data_path+'/'+t.xhr_data,d=t.xhr_container_id,l=!!t.use_mathjax&&t.use_mathjax,s=(!!t.translate_mathjax&&t.translate_mathjax,!!t.altair_cleanups&&t.altair_cleanups),b=!1,u=$('#'+d),_=function(r,d){return function(m,_,h){var g=log4javascript.getLogger('j1.adapter.loadHTML');if('success'===_){e.setXhrDataState(r,_),e.setXhrDomState(r,'pending'),u.attr('data-nb-textbook','loaded'),u.find('button').replaceWith(function(){return'<button class="'+t.buttonStyles+' js-nbinteract-widget"> Loading widgets ...</button>'});var p,f=document.getElementById(r);if(d?f.classList.add('mathjax'):f.classList.add('nomathjax'),[...p=document.getElementsByClassName('output_wrapper')].forEach(function(e){e.className.includes('notranslate')||(e.className+=' notranslate')}),[...p=document.getElementsByClassName('output_wrapper')].forEach(function(e){e.className.includes('cell-responsive')||(e.className+=' cell-responsive')}),s){var x,v,k,j,y=new RegExp(/_/,'g'),I=new RegExp(/\s+/,'g'),w=new RegExp(/^\s+/,'g'),M=new RegExp(/\s+$/,'g'),B=new RegExp(/vgsid|bla/,'g'),N=new RegExp(/(\b\S.+\b)(?=.*\1)/,'g'),T=!1;n=document.querySelectorAll('*[id^="altair-viz"]');for(var S=0;S<n.length;S++){k=document.getElementById(n[S].id);var z=setInterval(function(){T=S==n.length,k.clientHeight&&T&&!b&&(b=!0,g.debug("\nlast widget rendered "+k.id+' : '+k.clientHeight),clearInterval(z))},25)}var L=setInterval(function(){if(b){for(var e of n)if(k=document.getElementById(e.id),g.debug("\nprocessing widget on id: "+e.id),(j=k.getElementsByClassName('vega-bind-name')).length)for(var t=0;t<j.length;t++)x=j[t].innerHTML,v=(v=(v=(v=(v=(v=x.replace(y,' ')).replace(N,'')).replace(B,'')).replace(I,' ')).replace(w,'')).replace(M,''),j[t].innerHTML=v,!0;g.debug("\nall widgets updated"),clearInterval(L)}},25)}if([...p].forEach(function(e){e.className.includes('nomathjax')&&(e.className+=' nomathjax')}),[...document.getElementsByTagName('img')].forEach(function(e){
e.className.includes('img-fluid')||(e.className+=' img-fluid')}),l&&!!0)var E=setInterval(function(){if((i=document.querySelectorAll('*[id$="-Frame"]')).length){var t=setInterval(function(){if('mathjax_finished'==e.adapter.nbinteract.getState()){i=document.querySelectorAll('*[id$="-Frame"]');for(var n=0;n<i.length;n++)k=i[n],g.error("\nelement: "+k.id),k.classList.add('notranslate');clearInterval(t)}},25);clearInterval(E)}},25);u.find('h1').replaceWith(function(){return'<h1 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h1>'}),u.find('h2').replaceWith(function(){return'<h2 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h2>'}),u.find('h3').replaceWith(function(){return'<h3 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h3>'}),u.find('h4').replaceWith(function(){return'<h4 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h4>'}),u.find('h5').replaceWith(function(){return'<h5 id="'+$(this)[0].id+'">'+$(this).text().slice(0,-1)+'</h5>'}),o="\ndata loaded successfully on id: "+r,g.info(o)}if('error'===_&&void 0!==r){a&&c.stop(),e.setXhrDataState(r,_),e.setXhrDomState(r,'pending'),o="\nloading data failed on id: "+r+', error '+h.status+': '+h.statusText,g.error(o),!1}}};''!==t.xhr_data?(m.info("\nHTML data file found: "+t.xhr_data),u.length&&u.load(r,_(d,l))):m.warning("\nno HTML data file found, loading data aborted")},registerNbiModalsCB:function(){t.setInterval(function(){var e=document.getElementById(w);e.scrollTop=e.scrollHeight},500),$('#nbiModalTopInfo').on('hidden.bs.modal',function(){document.getElementById(nbiModalInfoMessagesID).children.length&&(m.debug('modal closed nbiModalTopInfo: remove all messages'),u.removeModalMessages(nbiModalInfoMessagesID))}),$('#nbiModalTRSuccess').on('hidden.bs.modal',function(){document.getElementById(S).children.length&&(m.debug('modal closed nbiModalTRSuccess: remove all messages'),u.removeModalMessages(S))}),$('#nbiModalTLDanger').on('hidden.bs.modal',function(){document.getElementById(z).children.length&&(m.debug('modal closed nbiModalTLDanger: remove all messages'),u.removeModalMessages(z)),a&&c.stop()})},loadNbiModals:function(){const e="\n        <div id=\"nbiModalTopInfo\"\n          class=\"modal fade top\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"\n          data-keyboard=\"false\"\n          data-backdrop=\"static\">\n          <div class=\"modal-dialog modal-frame modal-top modal-notify modal-info\" role=\"document\">\n            <!-- Icon -->\n            <div class=\"text-center\">\n              <i class=\"mdi mdi-10x mdi-progress-clock mdi-spin md-green mb-1\"></i>\n            </div>\n            <!-- Content -->\n            <div class=\"modal-content\">\n              <!-- Body -->\n              <div id=\"nbiModalInfoBody\" class=\"modal-body\">\n                <div>\n                  <ul id=\"nbiModalInfoMessages\"></ul>\n                </div>\n                <!-- Footer -->\n                <div class=\"modal-footer justify-content-center\">\n                  <a type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">OK, thanks</a>\n                </div>\n              </div>\n            </div>\n            <!-- END Content -->\n          </div>\n        </div>\n      ",t="\n        <div id=\"nbiModalTRInfo\"\n          class=\"modal fade right\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"\n          data-bs-keyboard=\"false\"\n          data-bs-backdrop=\"static\">\n          <div class=\"modal-dialog modal-dialog-scrollable modal-side-2x modal-top-right modal-notify modal-success\" role=\"document\">\n            <!-- Content -->\n            <div class=\"modal-content\">\n              <!-- Header -->\n              <div class=\"modal-header\">\n                <p class=\"lead\">Information</p>\n                <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                  <i class=\"mdi mdi-close mdi-dark mdi-48px\"></i>\n                </button>\n              </div>\n              <!-- Icon -->\n              <div class=\"text-center\">\n                <i class=\"mdi mdi-10x mdi-information-variant mdi-spin md-green mb-1\"></i>\n              </div>\n              <!-- Body -->\n              <div id=\"nbiModalTRInfoBody\" class=\"modal-body\">\n                <div>\n                  <p> Placeholder </p>\n                </div>\n              </div>\n              <!-- Footer -->\n              <div class=\"modal-footer justify-content-center\">\n                <a type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">OK, thanks</a>\n              </div>\n            </div>\n            <!-- END Content -->\n          </div>\n        </div>\n      ",n="\n        <div id=\"nbiModalTRSuccess\"\n          class=\"modal fade right\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"\n          data-bs-keyboard=\"false\"\n          data-bs-backdrop=\"static\">\n          <div class=\"modal-dialog modal-dialog-scrollable modal-side-2x modal-top-right modal-notify modal-success\" role=\"document\">\n            <!-- Content -->\n            <div class=\"modal-content\">\n              <!-- Header -->\n              <div class=\"modal-header\">\n                <p class=\"lead\">NBI - Information</p>\n                <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                  <i class=\"mdi mdi-close mdi-dark mdi-48px\"></i>\n                </button>\n              </div>\n              <!-- Icon -->\n              <div class=\"text-center\">\n                <i class=\"mdi mdi-10x mdi-loading mdi-spin md-green mb-1\"></i>\n              </div>\n              <!-- Body -->\n              <div id=\"nbiModalSuccessBody\" class=\"modal-body\">\n                <div>\n                  <p> Initializing your Binder. This may take a while ...</p>\n                  <ul id=\"nbiModalSuccessMessages\"></ul>\n                </div>\n              </div>\n              <!-- Footer -->\n              <div class=\"modal-footer justify-content-center\">\n                <a type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">OK, thanks</a>\n              </div>\n            </div>\n            <!-- END Content -->\n          </div>\n        </div>\n      ",a="\n        <div id=\"nbiModalTLDanger\"\n          class=\"modal fade left\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"\n          data-bs-keyboard=\"false\"\n          data-bs-backdrop=\"static\">\n          <div class=\"modal-dialog modal-side-2x modal-top-left modal-notify modal-danger\" role=\"document\">\n            <!-- Content -->\n            <div id=\"nbiModalErrorBody\" class=\"modal-content\">\n              <!--Header-->\n              <div class=\"modal-header\">\n                <p class=\"lead\">NBI - Error</p>\n                <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                  <i class=\"mdi mdi-close mdi-dark mdi-48px\"></i>\n                </button>\n              </div>\n              <!-- Icon -->\n              <div class=\"text-center\">\n                <i class=\"mdi mdi-10x mdi-alert md-red mb-1\"></i>\n              </div>\n              <!-- Body -->\n              <div id=\"nbiModalErrorBody\" class=\"modal-body\">\n                <p> Initializing NbInteract failed:</p>\n                <div>\n                  <ul id=\"nbiModalErrorMessages\"></ul>\n                </div>\n              </div>\n              <!-- Footer -->\n              <div class=\"modal-footer justify-content-center\">\n                <a type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">OK, thanks</a>\n              </div>\n            </div>\n            <!-- END Content -->\n          </div>\n        </div>\n      ";(b=document.createElement('div')).id='nbi-modal-info',b.className='nbi-modal',b.innerHTML=e,document.body.appendChild(b),(b=document.createElement('div')).id='nbi-modal-info',b.className='nbi-modal',b.innerHTML=t,document.body.appendChild(b),(b=document.createElement('div')).id='nbi-modal-success',b.className='nbi-modal',b.innerHTML=n,document.body.appendChild(b),(b=document.createElement('div')).id='nbi-modal-danger',b.className='nbi-modal',b.innerHTML=a,document.body.appendChild(b)},messageHandler:function(e,r){var d=JSON.stringify(r,undefined,2),l=document.getElementById(S),s=document.getElementById(z),b=!1;if(h="\nreceived message from "+e+': '+d,m.debug(h),'command'===r.type&&'nbi_init_started'===r.action){n&&i&&t.setTimeout(function(){$(B).modal('hide')},o),'first_widget'==f&&(a&&c.stop(),$('.fab-btn').show()),g=document.querySelectorAll('.output_widget_view').length;var _=setInterval(function(){(p=document.querySelectorAll('.widget-vbox').length)>=g&&(m.info("\nwidgets rendered in page (interactive|total) : "+g+'|'+p),L=!0,a&&c.stop(),u.setState('finished'),m.debug("\nstate: "+u.getState()),m.info("\ninitializing module finished"),clearInterval(_))},25);$('#quickLinksNotebookseButton').show()}if('command'===r.type&&'mathjax'===r.action){m.error("\nNew Math, ID: "+r.text);var x=setInterval(function(){var e=document.getElementById("MathJax-Element-6-Frame");!(!e.classList.contains('MJXc-processing')&&!e.classList.contains('MJXc-processed'))||b||(b=!0,e.classList.add('notranslate'),m.error("\nNew Math, ID: "+r.text)),clearInterval(x)},25)}'command'===r.type&&'info'===r.action&&((r.text.includes('Displaying widget')||r.text.includes('First widget'))&&m.debug('\n'+r.text),(k=r.text.split('] ')[1])&&(r.text=k),u.appendModalMessage(l,r.text),m.debug('\n'+r.text),n&&$(B).is(':hidden')&&$(B).modal('show'));if('command'===r.type&&'error'===r.action){var k;if(r.text.includes('Too many users')||r.text.includes('Insufficent nodes')||r.text.includes('ImagePullBackOff')||r.text.includes('kernel failed')||r.text.includes('failed to connect')){var j="\n            The <i>Binder Service</i> seems currently not available or is overloaded.\n            All interactive components on the page are <b>not</b> available.\n            You can reload the page now to re-connect or re-open it at a later time.\n          ";return m.error('\n','Binder access failed: '+r.text),void($(M).is(':hidden')&&(document.getElementById('nbiModalTRInfoBody').innerHTML=j,$(M).modal('show')))}(k=r.text.split('] ')[1])&&(r.text=k),u.appendModalMessage(s,r.text),m.error('\n'+r.text),v.indicate_nbi_activity&&c.stop(),n&&($(B).on('shown.bs.modal',function(){$(B).modal('hide')}),$(B).modal('hide'),$(B).on('hidden.bs.modal',function(){$(N).is(':hidden')&&($(N).modal('show'),i&&t.setTimeout(function(){$(N).modal('hide')},o))})),a&&c.stop()}return!0},getNbiButtonState:function(){return!!document.querySelectorAll('.js-nbinteract-widget').length},setState:function(e){u.state=e},getState:function(){return u.state},checkURL:function(e,t){if(u.setState('process_checks'),e.includes('localhost'))return u.setState('finished_checks'),t.checkURL=!0,!0;$.get(e).done(function(){return u.setState('finished_checks'),t.checkURL=!0,!0}).fail(function(){u.setState('finished_checks'),t.checkURL=!1})},loadDialog:function(e){x.documentReady(function(){if(u.modal=document.getElementById(e.dialogContainerID),!u.modal){m.info("\nload consent modal"),u.modal=document.createElement('div'),u.modal.id=e.dialogContainerID,u.modal.style.display='none',u.modal.setAttribute('class','modal fade'),u.modal.setAttribute('tabindex','-1'),u.modal.setAttribute('role','dialog'),u.modal.setAttribute('aria-labelledby',e.dialogContainerID),document.body.append(u.modal),u.$modal=$(u.modal);var t=e.contentURL+"/index.html";$.get(t).done(function(t){u.modal.innerHTML=t,u.modal.innerHTML=$('#'+e.xhrDataElement).eq(0).html(),$(u.modal).modal({backdrop:'static',keyboard:!1}),u.$buttonDoNotAgree=$('#nbi-buttonDoNotAgree'),u.$buttonAgree=$('#nbi-buttonAgree'),u.$buttonSave=$('#nbi-buttonSave'),u.$buttonAgreeAll=$('#nbi-buttonAgreeAll'),u.registerActions(),u.$buttonDoNotAgree.click(function(){u.doNotAgree()}),u.$buttonAgree.click(function(){u.agreeAll()})}).fail(function(){m.error("\nloading nbi dialog (modal): failed"),m.warn("\nprobably no|wrong `contentURL` set")})}}.bind(u))},showDialog:function(){this.$modal.modal('show')},registerActions:function(){$('input:checkbox[name="checkboxClearLocalStorage"]').on('click',function(e){y.resetLocalStorage=$(this).is(':checked'),h="\naction ClearLocalStorage changed to: "+value,m.info(h),e.stopPropagation()})},doNotAgree:function(){u.$modal.modal('hide')},agreeAll:function(){y.resetLocalStorage&&(h="\nrun action: \"Clear Binder Settings\"",m.info(h),localStorage.removeItem('serverParams'),localStorage.removeItem('kernelId')),u.$modal.modal('hide'),location.reload(!0)},appendModalMessage:function(e,t){var n=document.createElement('li');n.setAttribute('class','item'),e.appendChild(n),n.innerHTML=n.innerHTML+t},removeModalMessages:function(e){var t=document.getElementById(e),n=t.children.length;if(n)for(var a=0;a<n;a++)t.removeChild(t.children[0])}}}(j1,window);


