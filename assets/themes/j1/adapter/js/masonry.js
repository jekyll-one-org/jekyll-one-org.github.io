

  /*
 # -----------------------------------------------------------------------------
 # ~/assets/themes/j1/adapter/js/masonry.js
 # J1 Adapter for the comments module
 #
 # Product/Info:
 # https://jekyll.one
 #
 # Copyright (C) 2023, 2024 Juergen Adams
 #
 # J1 Template is licensed under the MIT License.
 # For details, see: https://github.com/jekyll-one-org/j1-template/blob/main/LICENSE.md
 # -----------------------------------------------------------------------------
 #  Adapter generated: 2024-01-14 19:30:12 +0100
 # -----------------------------------------------------------------------------
*/
'use strict';j1.adapter.masonry=function(e,i){var o,t,n,a,l,r,s=e.getCookieNames(),d=e.readCookie(s.user_state);$(i).width();return{init:function(i){var r={};$.extend({module_name:'j1.adapter.masonry',generated:'2024-01-14 19:30:12 +0100'},i);a=e.adapter.masonry,d.theme_name,l=log4javascript.getLogger('j1.adapter.masonry'),o=$.extend({},{enabled:!1,gutters:3,xhr_data_path:"/assets/data/masonry",videojs:{enabled:!1,theme:"uno",options:{autoplay:!1,controls:!0,fluid:!0,muted:!1,preload:!1,playbackRates:[.25,.5,1,1.5,2],controlBar:{remainingTimeDisplay:!0,pictureInPictureToggle:!0,skipButtons:{forward:5,backward:5}}}},lightbox:{enabled:!1,type:"lb"},lightGallery:{plugins:"lgFullscreen, lgThumbnail",options:{download:!1,alignThumbnails:"left"}},initTimeout:1200,hideDisabled:!0,responsive:{xs:12,sm:12,md:6,lg:4,xl:4},filters:{enabled:!1,grayscale:1,contrast:1,brightness:1},initLayout:!0,originTop:!0,originLeft:!0,percentPosition:!0,horizontalOrder:!0,stagger:.03,transitionDuration:.8,gutter:0,itemSelector:!1,resize:!0,containerStyle:null,columnWidth:80}),t=$.extend({},{enabled:!0,grids:[{grid:null,enabled:!0,id:"post_series_example",type:"post",group:"Featured",gutters:3,image_styles:"img-fluid img-object--cover",image_height:"300px",translate_links:!1,link_new_window:!0,responsive:{xs:12,sm:12,md:6,lg:4,xl:4},lightbox:{enabled:!1},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0},filters:{enabled:!0,grayscale:1,contrast:.8,brightness:.4}},{grid:null,enabled:!0,id:"collection_portfolio",type:"collection",collection:"portfolio",gutters:3,image_styles:"img-fluid img-object--cover",image_height:"300px",image_width:"300px",translate_titles:!1,responsive:{xs:12,sm:12,md:6,lg:4,xl:4},lightbox:{enabled:!1},preview:{enabled:!0},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0}},{grid:null,enabled:!0,id:"collection_biography",type:"collection",collection:"biography",gutters:3,image_styles:"img-fluid img-object--cover",image_height:"470px",image_width:"400px",translate_titles:!1,preview:!0,responsive:{xs:12,sm:12,md:6,lg:4,xl:4},lightbox:{enabled:!1},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0}},{grid:null,enabled:!0,id:"collection_fantasy",type:"collection",collection:"fantasy",gutters:3,image_styles:"img-fluid img-object--cover",image_height:"470px",image_width:"400px",translate_titles:!1,preview:!0,responsive:{xs:12,sm:12,md:6,lg:4,xl:4},lightbox:{enabled:!1},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0}},{grid:null,enabled:!0,id:"collection_romance",type:"collection",translate_titles:!0,collection:"romance",gutters:3,image_styles:"img-fluid img-object--cover",image_height:"470px",image_width:"400px",preview:!0,responsive:{xs:12,sm:12,md:6,lg:4,xl:4},lightbox:{enabled:!1},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0}},{grid:null,enabled:!0,id:"image_fixed_height_lb",type:"image",gutters:3,image_base_path:"/assets/images/modules/gallery/mega_cities",image_styles:"img-fluid",image_height:"300px",responsive:{xs:12,sm:12,md:6,lg:4,xl:4},lightbox:{enabled:!0,type:"lb"},caption:{enabled:!0,position:"bottom"},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0},images:[{image:null,file:"denys-nevozhai-1_b.jpg",caption:"Man posing at the rooftop of Jin Mao Tower Shanghai - China"},{image:null,file:"thomas-tucker_b.jpg",caption:"Sunset over Taipei City - Taiwan"},{image:null,file:"emmad-mazhari_b.jpg",caption:"Chicago - United States"},{image:null,file:"johan-mouchet_b.jpg",caption:"The Queen Bee at the Eureka Tower - Melbourne Southbank Australia"},{image:null,file:"federico-rizzarelli_b.jpg",caption:"Shanghai - China"},{image:null,file:"gints-gailis_b.jpg",caption:"Shangri-La Hotel Jakarta - Indonesia"}]},{grid:null,enabled:!0,id:"image_variable_height_lb",type:"image",gutters:3,image_base_path:"/assets/images/modules/gallery/mega_cities",image_styles:"img-fluid",responsive:{xs:12,sm:12,md:6,lg:4,xl:4},lightbox:{enabled:!0,type:"lb"},caption:{enabled:!0,position:"bottom"},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0},images:[{image:null,file:"denys-nevozhai-1_b.jpg",caption:"Man posing at the rooftop of Jin Mao Tower Shanghai - China"},{image:null,file:"thomas-tucker_b.jpg",caption:"Sunset over Taipei City - Taiwan"},{image:null,file:"emmad-mazhari_b.jpg",caption:"Chicago - United States"},{image:null,file:"johan-mouchet_b.jpg",caption:"The Queen Bee at the Eureka Tower - Melbourne Southbank Australia"},{image:null,file:"federico-rizzarelli_b.jpg",caption:"Shanghai - China"},{image:null,file:"gints-gailis_b.jpg",caption:"Shangri-La Hotel Jakarta - Indonesia"}]},{grid:null,enabled:!0,id:"image_variable_height_lg",type:"image",gutters:3,image_base_path:"/assets/images/modules/gallery/mega_cities",image_styles:"img-fluid",image_height:"300px",responsive:{xs:12,sm:12,md:6,lg:4,xl:4},videojs:{enabled:!1},lightbox:{enabled:!0,type:"lg"},lightGallery:{plugins:"lgFullscreen, lgRotate, lgThumbnail",options:{download:!1,alignThumbnails:"left"}},caption:{enabled:!0,position:"bottom"},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0},images:[{image:null,file:"denys-nevozhai-1_b.jpg",caption:"Man posing at the rooftop of Jin Mao Tower Shanghai - China"},{image:null,file:"thomas-tucker_b.jpg",caption:"Sunset over Taipei City - Taiwan"},{image:null,file:"emmad-mazhari_b.jpg",caption:"Chicago - United States"},{image:null,file:"johan-mouchet_b.jpg",caption:"The Queen Bee at the Eureka Tower - Melbourne Southbank Australia"},{image:null,file:"federico-rizzarelli_b.jpg",caption:"Shanghai - China"},{image:null,file:"gints-gailis_b.jpg",caption:"Shangri-La Hotel Jakarta - Indonesia"}]},{grid:null,enabled:!0,id:"mixed_video_example",type:"video",gutters:2,responsive:{xs:12,sm:12,md:6,lg:6,xl:6},videojs:{enabled:!0,theme:"uno",player:{enabled:!0,videojsPlayer:{enabled:!0,options:{muted:!1,preload:!1,autoplayFirstVideo:!0},controls:!0,controlBar:{remainingTimeDisplay:!0,pictureInPictureToggle:!1}},vimeoPlayer:{enabled:!0,options:{autoPlay:!0,byline:0,portrait:0,color:"CCCCCC"}},wistiaPlayer:{enabled:!0,options:{autoPlay:!0,fullscreenButton:!0,muted:!1,qualityControl:!1}},youTubePlayer:{enabled:!0,options:{autoPlay:!0,modestbranding:1,showinfo:0,controls:0}}}},lightbox:{enabled:!0,type:"lg"},lightGallery:{plugins:"lgThumbnail, lgVideo",options:{download:!1,alignThumbnails:"left",autoplayFirstVideo:!0}},caption:{enabled:!0,position:"bottom"},options:{originTop:!0,originLeft:!0,initLayout:!0,percentPosition:!0},html5:{video_base_path:"/assets/videos/gallery/html5",poster_base_path:"/assets/videos/gallery/html5"},videos:[{video:null,name:"Planet Earth II",type:"youtube",size:"1280-720",source:"https://youtu.be/IUN664s7N-c",pinterest_prefix:"Pin video",tweet_prefix:"Try video",description:"<h4>\n  Visual Soundscapes - Mountains | Planet Earth II | BBC America\n</h4> <p>\n  On the heels of Planet Earth II\u2019s record-breaking\n  Emmy nominations, BBC America presents stunning visual\n  soundscapes from the series' amazing habitats.\n</p>\n",poster:{style:"img-responsive",source:"https://img.youtube.com/vi/IUN664s7N-c/maxresdefault.jpg"},caption:{position:"bottom",text:"YouTube &middot; Visual Soundscapes - Mountains | BBC America"}},{video:null,name:"Nature Video by Charlie Kaye",type:"vimeo",size:"1280-720",source:"https://vimeo.com/112836958",pinterest_prefix:"Pin video",tweet_prefix:"Try video",description:"<h4>\n  Nature\n</h4> <p>\n  Video by <a target='_blank' href='https://vimeo.com/charliekaye'>Charlie Kaye.</a>\n</p>\n",poster:{style:"img-responsive",source:"https://www.lightgalleryjs.com/images/demo/vimeo-video-poster.jpg"},caption:{position:"bottom",text:"Vimeo &middot; Nature Video by Charlie Kaye"}},{video:null,name:"Thank You",type:"wistia",size:"1280-720",source:"https://private-sharing.wistia.com/medias/mwhrulrucj",pinterest_prefix:"Pin video",tweet_prefix:"Try video",description:"<h4>Thank You!</h4> <p>\n  Sample Wistia video\n</p>\n",poster:{style:"img-responsive",source:"https://www.lightgalleryjs.com/images/demo/wistia-video-poster.jpeg"},caption:{position:"bottom",text:"Wistia &middot; Thank You"}},{video:null,name:"Peck Pocketed",type:"html5",size:"1280-720",source:"video1.mp4",pinterest_prefix:"Pin video",tweet_prefix:"Try video",description:"<h4>\n  Peck Pocketed by Kevin Herron | Disney Favorite\n</h4>\n",poster:{style:"img-responsive",source:"video1-poster.jpg"},caption:{position:"bottom",text:"MP4 Video &middot; Student Academy Award winning cartoon clip"}}]}]}),n=$.extend(!0,{},o,t),console.debug('loading HTML portion for all Masonry grids configured'),a.loadGridHTML(n,n.grids);var s=setInterval(function(){var i='block'==$('#no_flicker').css("display"),o='finished'==e.adapter.attic.getState();'finished'===e.getState()&&i&&o&&(a.setState('started'),l.debug("\nstate: "+a.getState()),l.info("\nmodule is being initialized"),l.info("\nfound masonry grid on id: post_series_example"),r['dependencies_met_html_loaded_post_series_example']='',r.dependencies_met_html_loaded_post_series_example=setInterval(function(){'success'===e.xhrDOMState['#post_series_example_parent']&&setTimeout(function(){var e=$('#post_series_example');l.info("\ninitialize grid on id: post_series_example"),l.info("\ninstall event handlers for grid on id: post_series_example"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: post_series_example"),l.debug("\nadjust positions of all modals on id: ");var e=$("#post_series_example > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: post_series_example"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on post_series_example")})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_post_series_example)},10),l.info("\nfound masonry grid on id: collection_portfolio"),r['dependencies_met_html_loaded_collection_portfolio']='',r.dependencies_met_html_loaded_collection_portfolio=setInterval(function(){'success'===e.xhrDOMState['#collection_portfolio_parent']&&setTimeout(function(){var e=$('#collection_portfolio');l.info("\ninitialize grid on id: collection_portfolio"),l.info("\ninstall event handlers for grid on id: collection_portfolio"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: collection_portfolio"),l.debug("\nadjust positions of all modals on id: ");var e=$("#collection_portfolio > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: collection_portfolio"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on collection_portfolio")})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_collection_portfolio)},10),l.info("\nfound masonry grid on id: collection_biography"),r['dependencies_met_html_loaded_collection_biography']='',r.dependencies_met_html_loaded_collection_biography=setInterval(function(){'success'===e.xhrDOMState['#collection_biography_parent']&&setTimeout(function(){var e=$('#collection_biography');l.info("\ninitialize grid on id: collection_biography"),l.info("\ninstall event handlers for grid on id: collection_biography"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: collection_biography"),l.debug("\nadjust positions of all modals on id: ");var e=$("#collection_biography > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: collection_biography"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on collection_biography")})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_collection_biography)},10),l.info("\nfound masonry grid on id: collection_fantasy"),r['dependencies_met_html_loaded_collection_fantasy']='',r.dependencies_met_html_loaded_collection_fantasy=setInterval(function(){'success'===e.xhrDOMState['#collection_fantasy_parent']&&setTimeout(function(){var e=$('#collection_fantasy');l.info("\ninitialize grid on id: collection_fantasy"),l.info("\ninstall event handlers for grid on id: collection_fantasy"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: collection_fantasy"),l.debug("\nadjust positions of all modals on id: ");var e=$("#collection_fantasy > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: collection_fantasy"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on collection_fantasy")})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_collection_fantasy)},10),l.info("\nfound masonry grid on id: collection_romance"),r['dependencies_met_html_loaded_collection_romance']='',r.dependencies_met_html_loaded_collection_romance=setInterval(function(){'success'===e.xhrDOMState['#collection_romance_parent']&&setTimeout(function(){var e=$('#collection_romance');l.info("\ninitialize grid on id: collection_romance"),l.info("\ninstall event handlers for grid on id: collection_romance"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: collection_romance"),l.debug("\nadjust positions of all modals on id: ");var e=$("#collection_romance > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: collection_romance"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on collection_romance")})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_collection_romance)},10),l.info("\nfound masonry grid on id: image_fixed_height_lb"),r['dependencies_met_html_loaded_image_fixed_height_lb']='',r.dependencies_met_html_loaded_image_fixed_height_lb=setInterval(function(){'success'===e.xhrDOMState['#image_fixed_height_lb_parent']&&setTimeout(function(){var e=$('#image_fixed_height_lb');l.info("\ninitialize grid on id: image_fixed_height_lb"),l.info("\ninstall event handlers for grid on id: image_fixed_height_lb"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: image_fixed_height_lb"),l.debug("\nadjust positions of all modals on id: ");var e=$("#image_fixed_height_lb > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: image_fixed_height_lb"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on image_fixed_height_lb")})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_image_fixed_height_lb)},10),l.info("\nfound masonry grid on id: image_variable_height_lb"),r['dependencies_met_html_loaded_image_variable_height_lb']='',r.dependencies_met_html_loaded_image_variable_height_lb=setInterval(function(){'success'===e.xhrDOMState['#image_variable_height_lb_parent']&&setTimeout(function(){var e=$('#image_variable_height_lb');l.info("\ninitialize grid on id: image_variable_height_lb"),l.info("\ninstall event handlers for grid on id: image_variable_height_lb"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: image_variable_height_lb"),l.debug("\nadjust positions of all modals on id: ");var e=$("#image_variable_height_lb > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: image_variable_height_lb"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on image_variable_height_lb")})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_image_variable_height_lb)},10),l.info("\nfound masonry grid on id: image_variable_height_lg"),r['dependencies_met_html_loaded_image_variable_height_lg']='',r.dependencies_met_html_loaded_image_variable_height_lg=setInterval(function(){'success'===e.xhrDOMState['#image_variable_height_lg_parent']&&setTimeout(function(){var e=$('#image_variable_height_lg');l.info("\ninitialize grid on id: image_variable_height_lg"),l.info("\ninstall event handlers for grid on id: image_variable_height_lg"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: image_variable_height_lg"),l.debug("\nadjust positions of all modals on id: ");var e=$("#image_variable_height_lg > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: image_variable_height_lg"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on image_variable_height_lg"),console.log("masonry: gallery detected on id: image_variable_height_lg");var e=document.getElementById("image_variable_height_lg");lightGallery(e,{plugins:[lgFullscreen,lgRotate,lgThumbnail],selector:'.lg-item',download:!1,alignThumbnails:"left"})})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_image_variable_height_lg)},10),l.info("\nfound masonry grid on id: mixed_video_example"),r['dependencies_met_html_loaded_mixed_video_example']='',r.dependencies_met_html_loaded_mixed_video_example=setInterval(function(){'success'===e.xhrDOMState['#mixed_video_example_parent']&&setTimeout(function(){var e=$('#mixed_video_example');l.info("\ninitialize grid on id: mixed_video_example"),l.info("\ninstall event handlers for grid on id: mixed_video_example"),e.on('layoutComplete',function(){l.debug("\ninitializing layout completed for grid on id: mixed_video_example"),l.debug("\nadjust positions of all modals on id: ");var e=$("#mixed_video_example > .article-modal");$.each($(e),function(e,i){$(i).attr('style','left: 0%')})}),l.info("\ngrid is being setup on id: mixed_video_example"),(e=e.masonry({percentPosition:!0,horizontalOrder:!0,originLeft:!0,originTop:!0,initLayout:!0,transitionDuration:"0.8s",stagger:"0.03s",resize:!0,gutter:0})).imagesLoaded(function(){console.debug("masonry: images loaded on mixed_video_example"),console.log("masonry: gallery detected on id: mixed_video_example");var e=document.getElementById("mixed_video_example");lightGallery(e,{plugins:[lgThumbnail,lgVideo],selector:'.lg-item',download:!1,alignThumbnails:"left",autoplayFirstVideo:!0,vimeoPlayerParams:{autoPlay:!0,byline:0,portrait:0,color:"CCCCCC"},wistiaPlayerParams:{autoPlay:!0,fullscreenButton:!0,muted:!1,qualityControl:!1},youTubePlayerParams:{autoPlay:!0,modestbranding:1,showinfo:0,controls:0},videojs:!0,videojsTheme:"vjs-theme-uno",videojsOptions:{controls:!0,controlBar:{remainingTimeDisplay:!0,pictureInPictureToggle:!1}}})})},n.initTimeout),clearInterval(r.dependencies_met_html_loaded_mixed_video_example)},10),l.info("\ninitializing module finished"),clearInterval(s))},10)},loadGridHTML:function(i,o){var t,n=Object.keys(o).length,l=n,r=i.xhr_data_path+'/index.html';console.debug('number of grids found: '+n),a.setState('load_data'),Object.keys(o).forEach(function(i){o[i].enabled?(t=o[i].id+'_parent',console.debug('load HTML portion on grid id: '+o[i].id),e.loadHTML({xhr_container_id:t,xhr_data_path:r,xhr_data_element:o[i].id})):(console.debug('grid found disabled on id: '+o[i].id),l--)}),console.debug('grids loaded in page enabled|all: '+l+'|'+n),a.setState('data_loaded')},messageHandler:function(e,i){var o=JSON.stringify(i,undefined,2);return r="\nreceived message from "+e+': '+o,l.debug(r),'command'===i.type&&'module_initialized'===i.action&&l.info('\n'+i.text),!0},setState:function(e){a.state=e},getState:function(){return a.state}}}(j1,window);


